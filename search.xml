<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>nginxè´Ÿè½½å‡è¡¡</title>
    <url>/2020/03/30/nginxfzjh/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>Nginx (engine x) æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†webæœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†IMAP/POP3/SMTPæœåŠ¡ã€‚å®ƒæ˜¯ä¸€æ¬¾è½»é‡çº§çš„Web æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨åŠç”µå­é‚®ä»¶ï¼ˆIMAP/POP3ï¼‰ä»£ç†æœåŠ¡å™¨ï¼Œåœ¨BSD-like åè®®ä¸‹å‘è¡Œã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œäº‹å®ä¸Šnginxçš„å¹¶å‘èƒ½åŠ›åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°è¾ƒå¥½ï¼Œä¸­å›½å¤§é™†ä½¿ç”¨nginxç½‘ç«™ç”¨æˆ·æœ‰ï¼šç™¾åº¦ã€äº¬ä¸œã€æ–°æµªã€ç½‘æ˜“ã€è…¾è®¯ã€æ·˜å®ç­‰ã€‚</em></strong></p>
<a id="more"></a>
<h1 id="ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡"><a href="#ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡" class="headerlink" title="ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡"></a>ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡</h1><p>è´Ÿè½½å‡è¡¡ï¼ˆLoad Balanceï¼‰ï¼Œæ˜¯ä¸€ç§é€šè¿‡ç¨‹åºçš„æ–¹å¼æ¥ç®¡ç†åˆ†å¸ƒå¼æœåŠ¡å™¨çš„ç­–ç•¥ï¼Œæœ‰ä¸ªå½¢è±¡çš„ä¾‹å­ï¼Œå°±æ˜¯æˆ‘ä»¬ç¨‹åºçŒ¿æ—¥å¸¸å¼€å‘ä¸€ä¸ªéœ€æ±‚çš„è¿‡ç¨‹ä¸€æ ·ï¼Œå®¢æˆ·å°±æ˜¯æˆ‘ä»¬çš„å®¢æˆ·ç«¯ï¼Œéœ€æ±‚å°±ç›¸å½“äºæ˜¯è¯·æ±‚ï¼ŒPMå°±è´Ÿè´£è´Ÿè½½å‡è¡¡çš„ç¨‹åºï¼ŒPMæ¥åˆ°å®¢æˆ·çš„éœ€æ±‚ï¼Œè¿™æ—¶å€™å°±ä¼šæ ¹æ®æˆ‘ä»¬æ¯ä¸ªäººçš„æƒ…å†µç»™æˆ‘ä»¬è¿™äº›ç¨‹åºçŒ¿åˆ†é…ä»»åŠ¡ï¼Œæˆ‘ä»¬æ¥åˆ°ä»»åŠ¡ä¹‹åå°±ä¼šå„å¸å…¶èŒï¼Œå¼€å§‹ç ä»£ç ï¼Œè¿‡ç¨‹ä¸­è¦æ˜¯æœ‰äººè¯·å‡äº†æˆ–è€…ä»€ä¹ˆåŸå› ä¸èƒ½ç ä»£ç äº†ï¼ŒPMå°±ä¼šè®©åˆ«äººæ¥æ‰‹ä»–çš„å·¥ä½œï¼Œè€Œå®¢æˆ·æ ¹æœ¬ä¸çŸ¥é“ä»–æçš„éœ€æ±‚ä»£ç æ˜¯è°å†™çš„ï¼Œä»–åªçŸ¥é“æéœ€æ±‚æ˜¯æç»™æˆ‘ä»¬çš„PMï¼ŒPMä¼šäº†è§£æˆ‘ä»¬æ¯ä¸ªäººçš„å·¥ä½œé¥±å’Œåº¦ï¼Œä¸ä¼šè®©æœ‰äººçš„å·¥ä½œé‡å¤ªè¿‡é¥±å’Œæˆ–è€…ä¸é¥±å’Œï¼Œæˆ‘ä»¬ç®¡è¿™ç§è°ƒåº¦ç­–ç•¥å«åšè´Ÿè½½å‡è¡¡ã€‚</p>
<h1 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h1><p>ä»£ç†åˆ†ä¸ºä¸¤ç§ï¼šæ­£å‘ä»£ç†å’Œåå‘ä»£ç†</p>
<ul>
<li>æ­£å‘ä»£ç†ï¼š<br>æ­£å‘ä»£ç†ï¼ˆForward Proxyï¼‰æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œå®¢æˆ·ç«¯çŸ¥é“è‡ªå·±è¦è®¿é—®çš„æ˜¯å“ªä¸€å°æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨ä»£ç†å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œè¢«è®¿é—®çš„æœåŠ¡å™¨åªçŸ¥é“è®¿é—®è‡ªå·±çš„æ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œè€Œå¹¶ä¸æ¸…æ¥šçœŸæ­£è®¿é—®è‡ªå·±çš„æ˜¯å“ªä¸€ä¸ªå®¢æˆ·ç«¯ã€‚æ¯”å¦‚ç§‘å­¦ä¸Šç½‘ï¼Œä¿—ç§°ç¿»å¢™ï¼Œè¿˜æœ‰å’±ä»¬ç©æ¸¸æˆçš„æ—¶å€™çš„å„ç§åŠ é€Ÿå™¨ã€‚<br>ä¸€æ¬¡æ­£å‘ä»£ç†çš„è¿‡ç¨‹å¤§è‡´æ˜¯è¿™æ ·ï¼šå®¢æˆ·ç«¯å‘Šè¯‰ä»£ç†æœåŠ¡å™¨ï¼Œæˆ‘æƒ³è®¿é—®xxxxxï¼Œç„¶åä»£ç†æœåŠ¡å™¨ä»£æ›¿å®¢æˆ·ç«¯å‘xxxxxå‘é€è¯·æ±‚ï¼Œåœ¨æ¥å—åˆ°xxxxxçš„è¿”å›ç»“æœåå‘Šè¯‰å®¢æˆ·ç«¯è¿”å›ç»“æœã€‚</li>
<li>åå‘ä»£ç†ï¼š<br>åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰åˆ™æ˜¯åˆšå¥½ç›¸åï¼Œå®ƒæ˜¯åç«¯çš„ä»£ç†æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™å®¢æˆ·ç«¯ä¹Ÿä¸çŸ¥é“å…·ä½“å¤„ç†è‡ªå·±è¯·æ±‚çš„æ˜¯å“ªä¸€å°æœåŠ¡å™¨äº†ï¼Œä»–åªçŸ¥é“è‡ªå·±çš„è¯·æ±‚è¦å‘é€ç»™è¿™ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œç„¶åè¿™ä¸ªæœåŠ¡å™¨å†æ ¹æ®ä¸€å®šçš„ç­–ç•¥å°†è¯·æ±‚åˆ†é…ç»™ä¸åŒçš„æœåŠ¡å™¨å»å¤„ç†ï¼Œæœ€åå°†è¿”å›çš„ç»“æœå‘Šè¯‰å®¢æˆ·ç«¯ã€‚</li>
</ul>
<h1 id="Nginxæ˜¯ä»€ä¹ˆ"><a href="#Nginxæ˜¯ä»€ä¹ˆ" class="headerlink" title="Nginxæ˜¯ä»€ä¹ˆ"></a>Nginxæ˜¯ä»€ä¹ˆ</h1><p>Nginxæ˜¯ä¸€ç§åŸºäºcå®ç°çš„é«˜æ€§èƒ½WebæœåŠ¡å™¨ï¼Œå¯ä»¥é€šè¿‡ä¸€äº›è´Ÿè½½å‡è¡¡ç®—æ³•è§£å†³è´Ÿè½½å‡è¡¡çš„é—®é¢˜ã€‚å› ä¸ºå®ƒå…·æœ‰é«˜å¹¶å‘ã€é«˜å¯é æ€§ã€é«˜æ‰©å±•æ€§ã€å¼€æºç­‰ç‰¹ç‚¹ï¼Œæˆä¸ºå¼€å‘äººå‘˜å¸¸ç”¨çš„åå‘ä»£ç†å·¥å…·ã€‚</p>
<h1 id="è´Ÿè½½å‡è¡¡å¸¸ç”¨ç®—æ³•"><a href="#è´Ÿè½½å‡è¡¡å¸¸ç”¨ç®—æ³•" class="headerlink" title="è´Ÿè½½å‡è¡¡å¸¸ç”¨ç®—æ³•"></a>è´Ÿè½½å‡è¡¡å¸¸ç”¨ç®—æ³•</h1><h2 id="1-è½®è¯¢-ï¼ˆround-robinï¼‰"><a href="#1-è½®è¯¢-ï¼ˆround-robinï¼‰" class="headerlink" title="1.è½®è¯¢ ï¼ˆround-robinï¼‰"></a>1.è½®è¯¢ ï¼ˆround-robinï¼‰</h2><p>è½®è¯¢æ˜¯è´Ÿè½½å‡è¡¡ç®—æ³•ä¸­æœ€åŸºç¡€æœ€ç®€å•çš„ç®—æ³•ï¼Œå®ƒä¸éœ€è¦é¢å¤–çš„é…ç½®å‚æ•°ã€‚å‡è®¾é…ç½®æ–‡ä»¶ä¸­å…±æœ‰Nå°æœåŠ¡å™¨ï¼Œè¯¥ç®—æ³•å°±ä¼šæŒ‰ç…§è¿™Nå°æœåŠ¡å™¨çš„æ¬¡åºä¾æ¬¡é€‰æ‹©ä¸€å°æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œå½“æ‰€æœ‰çš„æœåŠ¡å™¨éƒ½è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ä¹‹åï¼Œå°±ä¼šä»ç¬¬ä¸€å°æœåŠ¡å™¨é‡æ–°å¼€å§‹æ–°ä¸€è½®çš„éå†ã€‚<br>ç‰¹ç‚¹ï¼š è¿™ç§ç®—æ³•ä¸è€ƒè™‘æœåŠ¡å™¨æ€§èƒ½çš„å·®è·ï¼Œé€‚ç”¨äºé›†ç¾¤çš„å„å°æœåŠ¡å™¨æ€§èƒ½ç›¸å·®ä¸å¤§çš„æƒ…å†µï¼Œå¯¹äºæœåŠ¡å™¨æ€§èƒ½å·®è·è¾ƒå¤§çš„æƒ…å†µï¼Œå®¹æ˜“å¼•å‘èµ„æºåˆ†é…ä¸åˆç†çš„æƒ…å†µå‡ºç°ã€‚</p>
<p>expressæ¨¡æ‹Ÿè½®è¯¢å¤„ç†è¯·æ±‚ï¼š<br>proxyServer.js:</p>
<pre><code>const express = require(&quot;express&quot;);
const app = new express();
const http = require(&quot;http&quot;);

const servers = [
  { weight: 10, host: &quot;http://localhost&quot;, port: 8088, id: 0 },
  { weight: 9, host: &quot;http://localhost&quot;, port: 8089, id: 1 }
];

const port = 8087;
let currentServer = null;
let currentIndex = 0;

app.get(&quot;/&quot;, (req, res) =&gt; {
  if (currentIndex === servers.length - 1) {
    currentIndex = 0;
  } else {
    currentIndex++;
  }
  currentServer = servers[currentIndex];
  http.get(`${currentServer.host}:${currentServer.port}`, res1 =&gt; {
    console.log(&quot;proxy success&quot;);
    let data = &quot;&quot;;
    res1.on(&quot;data&quot;, chunk =&gt; {
      data += chunk;
    });
    res1.on(&quot;end&quot;, () =&gt; {
      res.send(data);
    });
  });
});
app.listen(port, () =&gt; {
  console.log(`success:${port}`);
});

</code></pre><p>server1.js:</p>
<pre><code>
const express = require (&#39;express&#39;);
const app = new express();





const port = 8088;



app.get(&#39;/&#39;, (req,res)=&gt;{
    res.send(`Hello World! I am port ${port}ï½`)
})
app.listen(port,()=&gt;{console.log(`success:${port}`)})

</code></pre><p>server2.js:</p>
<pre><code>const express = require (&#39;express&#39;);
const app = new express();





const port = 8089;



app.get(&#39;/&#39;, (req,res)=&gt;{
    res.send(`Hello World! I am port ${port}ï½`)
})
app.listen(port,()=&gt;{console.log(`success:${port}`)})
</code></pre><h2 id="2-åŠ æƒè½®è¯¢"><a href="#2-åŠ æƒè½®è¯¢" class="headerlink" title="2. åŠ æƒè½®è¯¢"></a>2. åŠ æƒè½®è¯¢</h2><p>ä¸ºäº†é¿å…æ™®é€šè½®è¯¢å¸¦æ¥çš„å¼Šç«¯ï¼Œä½¿ç”¨ä¸€ä¸ªæƒå€¼æ¥è¡¨ç¤ºæœåŠ¡å™¨æ€§èƒ½ï¼Œæƒå€¼è¶Šé«˜è¡¨ç¤ºæœåŠ¡å™¨æ€§èƒ½è¶Šå¼ºï¼Œè¿™å°±æœ‰ç‚¹ç±»ä¼¼äºæˆ‘ä»¬å¹³æ—¶è¯´çš„ â€œèƒ½åŠ›è¶Šå¼ºï¼Œè´£ä»»è¶Šå¤§â€ï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯ä¼šçš„å¤šå°±å¤šå¹²ç‚¹æ´»ã€‚åœ¨è¿™ç§é…¸ä¸­ï¼Œå®¢æˆ·ç«¯çš„è¯·æ±‚æŒ‰ç…§æƒå€¼æ¯”ä¾‹åˆ†é…ï¼Œå½“ä¸€ä¸ªè¯·æ±‚åˆ°è¾¾çš„æ—¶å€™ï¼Œä¼˜å…ˆåˆ†é…æƒå€¼å¤§çš„æœåŠ¡å™¨å»å¤„ç†è¯·æ±‚ã€‚</p>
<p>ç‰¹ç‚¹ï¼šåŠ æƒè½®è¯¢å¯ä»¥é€‚ç”¨äºæœåŠ¡å™¨æ€§èƒ½å±‚æ¬¡ä¸é½çš„é›†ç¾¤ä¸­ï¼Œä½¿èµ„æºåˆ†é…æ›´åŠ åˆç†ã€‚</p>
<p>åŠ æƒè½®è¯¢çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ â€œèƒ½è€…å¤šåŠ³â€ ï¼Œæ€§èƒ½è¶Šå¼ºçš„æœåŠ¡å™¨è¢«é€‰ä¸­çš„å‡ ç‡è¶Šå¤§ã€‚</p>
<h2 id="3-IPå“ˆå¸Œï¼ˆIP-hashï¼‰"><a href="#3-IPå“ˆå¸Œï¼ˆIP-hashï¼‰" class="headerlink" title="3. IPå“ˆå¸Œï¼ˆIP hashï¼‰"></a>3. IPå“ˆå¸Œï¼ˆIP hashï¼‰</h2><p>ip hash ä½¿ä¾æ®å‘å‡ºè¯·æ±‚çš„å®¢æˆ·ç«¯IPæ¥å†³å®šç”±å“ªä¸€å°æœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ï¼Œè¿™ç§ç®—æ³•å¯ä»¥ä¿è¯ç›¸åŒIPå‘é€çš„è¯·æ±‚åˆ†é…ç»™åŒä¸€å°æœåŠ¡å™¨æ¥å¤„ç†ï¼Œæˆ–è€…å¸¦æœ‰ç›¸åŒhashå€¼çš„ä¸é€šIPæ˜ å°„åˆ°åŒä¸€å°æœåŠ¡å™¨ã€‚</p>
<p>ç‰¹ç‚¹ï¼š è¿™ç§ç­–ç•¥ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†é›†ç¾¤éƒ¨ç½²çš„æƒ…å†µä¸‹ï¼ŒSessionä¸å…±äº«çš„é—®é¢˜ã€‚</p>
<h2 id="4-æœ€å°è¿æ¥æ•°ç­–ç•¥"><a href="#4-æœ€å°è¿æ¥æ•°ç­–ç•¥" class="headerlink" title="4. æœ€å°è¿æ¥æ•°ç­–ç•¥"></a>4. æœ€å°è¿æ¥æ•°ç­–ç•¥</h2><p> å½“åå‘ä»£ç†æœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚æ—¶ï¼Œå»éå†æœåŠ¡å™¨åˆ—è¡¨å¹¶ä¸”å°†è¯·æ±‚åˆ†é…ç»™å½“å‰å¤„ç†è¯·æ±‚æœ€å°‘çš„é‚£ä¸€å°æœåŠ¡å™¨ï¼Œè¿™ä¸ªå°±ç±»ä¼¼äºï¼ŒPMè§‰å¾—ä½ å·¥ä½œä¸é¥±å’Œå°±ä¼šç»™ä½ åˆ†é…æ–°çš„ä»»åŠ¡ä¸€æ ·ã€‚</p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>nginx</category>
      </categories>
      <tags>
        <tag>nginx</tag>
        <tag>åå‘ä»£ç†</tag>
        <tag>è´Ÿè½½å‡è¡¡</tag>
      </tags>
  </entry>
  <entry>
    <title>cookie</title>
    <url>/2021/08/22/cookie/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ç”±äºHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œè€ŒæœåŠ¡å™¨ç«¯çš„ä¸šåŠ¡å¿…é¡»æ˜¯è¦æœ‰çŠ¶æ€çš„ã€‚Cookieè¯ç”Ÿçš„æœ€åˆç›®çš„æ˜¯ä¸ºäº†å­˜å‚¨webä¸­çš„çŠ¶æ€ä¿¡æ¯ï¼Œä»¥æ–¹ä¾¿æœåŠ¡å™¨ç«¯ä½¿ç”¨ã€‚æ¯”å¦‚åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®ç½‘ç«™ã€‚ç›®å‰æœ€æ–°çš„è§„èŒƒæ˜¯RFC 6265ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”±æµè§ˆå™¨æœåŠ¡å™¨å…±åŒåä½œå®ç°çš„è§„èŒƒã€‚</em></strong><br><a id="more"></a></p>
<h1 id="Cookieçš„å·¥ä½œæµç¨‹"><a href="#Cookieçš„å·¥ä½œæµç¨‹" class="headerlink" title="Cookieçš„å·¥ä½œæµç¨‹"></a>Cookieçš„å·¥ä½œæµç¨‹</h1><p>cookieé€šå¸¸æ˜¯ç”±åç«¯æœåŠ¡å™¨ç”Ÿæˆï¼Œå½“æµè§ˆå™¨å‘åç«¯æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œåç«¯æœåŠ¡å™¨å‘ç›¸åº”å¤´å†™å…¥cookieï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°è¿™ä¸ªå¸¦ç€cookieä¿¡æ¯çš„ç›¸åº”æ—¶å°±ä¼šæŠŠcookieå­˜åœ¨æœ¬åœ°ç£ç›˜çš„æŸä¸ªåœ°æ–¹ï¼Œå½“è¯¥é¡µé¢ä¸‹ä¸€æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨å¸¦ä¸Šè¿™ä¸ªcookieä¿¡æ¯ï¼Œcookieéƒ½æœ‰è¿‡æœŸäº‹ä»¶ï¼Œå½“cookieè¿‡æœŸä¹‹åï¼Œæµè§ˆå™¨å°±ä¼šå°†è¯¥æ¡cookieä¿¡æ¯åˆ é™¤ã€‚<br>ç®€å•æ¥è¯´å·¥ä½œæµç¨‹å°±æ˜¯å¦‚ä¸‹ï¼š</p>
<pre><code>server(set-cookie)--(cookie)--&gt;Browser--(cookie)--&gt;server
</code></pre><p>é€šå¸¸è¢«ç”¨æ¥åšé€šç”¨ç™»å½•éªŒè¯ï¼Œé˜²æ­¢XSS(è·¨ç«™è„šæœ¬æ”»å‡»)</p>
<h1 id="æœåŠ¡å™¨ç«¯çš„å‘é€ä¸è§£æ"><a href="#æœåŠ¡å™¨ç«¯çš„å‘é€ä¸è§£æ" class="headerlink" title="æœåŠ¡å™¨ç«¯çš„å‘é€ä¸è§£æ"></a>æœåŠ¡å™¨ç«¯çš„å‘é€ä¸è§£æ</h1><ul>
<li><h2 id="å‘é€cookie"><a href="#å‘é€cookie" class="headerlink" title="å‘é€cookie"></a>å‘é€cookie</h2>æœåŠ¡å™¨ç«¯åƒå®¢æˆ·ç«¯å‘é€Cookieæ˜¯é€šè¿‡HTTPå“åº”æŠ¥æ–‡å®ç°çš„ï¼Œåœ¨Set-Cookieä¸­è®¾ç½®éœ€è¦åƒå®¢æˆ·ç«¯å‘é€çš„cookieï¼Œcookieæ ¼å¼å¦‚ä¸‹ï¼š<pre><code>Set-Cookie: &quot;name=value;domain=.domain.com;path=/;expires=Sat, 11 Jun 2016 11:29:42 GMT;HttpOnly;secure&quot;
</code></pre></li>
<li>name : ä¸€ä¸ªå”¯ä¸€ç¡®å®šçš„cookieåç§°ã€‚é€šå¸¸æ¥è®²cookieçš„åç§°æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„</li>
<li>value : å­˜å‚¨åœ¨cookieä¸­çš„å­—ç¬¦ä¸²å€¼ã€‚æœ€å¥½ä¸ºcookieçš„nameå’Œvalueè¿›è¡Œurlç¼–ç </li>
<li>demain ï¼š cookieå¯¹äºå“ªä¸ªåŸŸæ˜¯æœ‰æ•ˆçš„ã€‚æ‰€æœ‰å‘è¯¥åŸŸå‘é€çš„è¯·æ±‚ä¸­éƒ½ä¼šåŒ…å«è¿™ä¸ªcookieä¿¡æ¯ã€‚è¿™ä¸ªå€¼å¯ä»¥åŒ…å«å­åŸŸ(å¦‚ï¼šyq.aliyun.com)ï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«å®ƒ(å¦‚ï¼š.aliyun.comï¼Œåˆ™å¯¹äºaliyun.comçš„æ‰€æœ‰å­åŸŸéƒ½æœ‰æ•ˆ).</li>
<li>path: è¡¨ç¤ºè¿™ä¸ªcookieå½±å“åˆ°çš„è·¯å¾„ï¼Œæµè§ˆå™¨è·Ÿä¼šæ ¹æ®è¿™é¡¹é…ç½®ï¼ŒåƒæŒ‡å®šåŸŸä¸­åŒ¹é…çš„è·¯å¾„å‘é€cookieã€‚</li>
<li>expires:å¤±æ•ˆæ—¶é—´ï¼Œè¡¨ç¤ºcookieä½•æ—¶åº”è¯¥è¢«åˆ é™¤çš„æ—¶é—´æˆ³(ä¹Ÿå°±æ˜¯ï¼Œä½•æ—¶åº”è¯¥åœæ­¢å‘æœåŠ¡å™¨å‘é€è¿™ä¸ªcookie)ã€‚å¦‚æœä¸è®¾ç½®è¿™ä¸ªæ—¶é—´æˆ³ï¼Œæµè§ˆå™¨ä¼šåœ¨é¡µé¢å…³é—­æ—¶å³å°†åˆ é™¤æ‰€æœ‰cookieï¼›ä¸è¿‡ä¹Ÿå¯ä»¥è‡ªå·±è®¾ç½®åˆ é™¤æ—¶é—´ã€‚è¿™ä¸ªå€¼æ˜¯GMTæ—¶é—´æ ¼å¼ï¼Œå¦‚æœå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ—¶é—´ä¸ä¸€è‡´ï¼Œä½¿ç”¨expireså°±ä¼šå­˜åœ¨åå·®ã€‚</li>
<li>HttpOnly: å‘ŠçŸ¥æµè§ˆå™¨ä¸å…è®¸é€šè¿‡è„šæœ¬document.cookieå»æ›´æ”¹è¿™ä¸ªå€¼ï¼ŒåŒæ ·è¿™ä¸ªå€¼åœ¨document.cookieä¸­ä¹Ÿä¸å¯è§ã€‚ä½†åœ¨httpè¯·æ±‚å¼ ä»ç„¶ä¼šæºå¸¦è¿™ä¸ªcookieã€‚æ³¨æ„è¿™ä¸ªå€¼è™½ç„¶åœ¨è„šæœ¬ä¸­ä¸å¯è·å–ï¼Œä½†ä»ç„¶åœ¨æµè§ˆå™¨å®‰è£…ç›®å½•ä¸­ä»¥æ–‡ä»¶å½¢å¼å­˜åœ¨ã€‚è¿™é¡¹è®¾ç½®é€šå¸¸åœ¨æœåŠ¡å™¨ç«¯è®¾ç½®ã€‚</li>
<li>secure: å®‰å…¨æ ‡å¿—ï¼ŒæŒ‡å®šåï¼Œåªæœ‰åœ¨ä½¿ç”¨SSLé“¾æ¥æ—¶å€™æ‰èƒ½å‘é€åˆ°æœåŠ¡å™¨ï¼Œå¦‚æœæ˜¯httpé“¾æ¥åˆ™ä¸ä¼šä¼ é€’è¯¥ä¿¡æ¯ã€‚å°±ç®—è®¾ç½®äº†secure å±æ€§ä¹Ÿå¹¶ä¸ä»£è¡¨ä»–äººä¸èƒ½çœ‹åˆ°ä½ æœºå™¨æœ¬åœ°ä¿å­˜çš„ cookie ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸è¦æŠŠé‡è¦ä¿¡æ¯æ”¾cookieå°±å¯¹äº†æœåŠ¡å™¨ç«¯è®¾ç½®</li>
</ul>
<p>è®¾ç½®cookieçš„ä¾‹å­ï¼š</p>
<pre><code>var http = require(&#39;http&#39;);
var fs = require(&#39;fs&#39;);
http.createServer(function(req, res) {
  res.setHeader(&#39;status&#39;, &#39;200 OK&#39;);
  res.setHeader(&#39;Set-Cookie&#39;, &#39;isVisit=true;domain=.yourdomain.com;path=/;max-age=1000&#39;);
  res.write(&#39;Hello World&#39;);
  res.end();
}).listen(8888);
console.log(&#39;running localhost:8888&#39;) 
</code></pre><p>å¯ä»¥å¯¹è®¾ç½®cookieè¿›è¡Œä¸€å±‚å°è£…</p>
<pre><code>const setCookie = (name,value,options)=&gt;{
    if (!name) {
    throw new Error(&quot;coolie must have name&quot;);
    }
    const enc = encodeURIComponent;
    const part = [];
    val = (val !== null &amp;&amp; val !== undefined) ? val.toString() : &quot;&quot;;
    options = options||{};
    part.push(`${enc(name)}=${enc(value)}`);
    options.domain&amp;&amp;part.push(`domian=${options.domain}`);
     if (options.path) {
    parts.push(&quot;path=&quot; + options.path);
    }
    // å¦‚æœä¸è®¾ç½®expireså’Œmax-ageæµè§ˆå™¨ä¼šåœ¨é¡µé¢å…³é—­æ—¶æ¸…ç©ºcookie
    if (options.expires) {
      parts.push(&quot;expires=&quot; + options.expires.toGMTString());
    }
    if (options.maxAge &amp;&amp; typeof options.maxAge === &quot;number&quot;) {
      parts.push(&quot;max-age=&quot; + options.maxAge);
    }
    if (options.httpOnly) {
      parts.push(&quot;HTTPOnly&quot;);
    }
    if (options.secure) {
      parts.push(&quot;secure&quot;);
    }

    return parts.join(&quot;;&quot;);
}
</code></pre><p>è¿™é‡Œè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯,å¯¹cookieçš„æ“ä½œå¹¶æ²¡æœ‰åˆ é™¤ï¼Œå½“æˆ‘ä»¬éœ€è¦åˆ é™¤ä¸€æ¡cookieè®°å½•çš„æ—¶å€™åªéœ€è¦å°†å®ƒçš„æœ‰æ•ˆæ—¶é—´è®¾ç½®ä¸ºä¸€ä¸ªè¿‡å»çš„æ—¶é—´ï¼Œè¿™æ¡æ•°æ®å°±ä¼šè¢«åˆ é™¤ã€‚è¿˜æœ‰å°±æ˜¯domainé¡¹å¿…é¡»æœ‰ä¸¤ä¸ªç‚¹ï¼Œå› æ­¤ä¸èƒ½è®¾ç½®ä¸ºlocalhost:</p>
<pre><code>something that wasn&#39;t made clear to me here and totally confused me for a while was that domain name
</code></pre><ul>
<li><h2 id="æœåŠ¡ç«¯è§£æcookie"><a href="#æœåŠ¡ç«¯è§£æcookie" class="headerlink" title="æœåŠ¡ç«¯è§£æcookie"></a>æœåŠ¡ç«¯è§£æcookie</h2></li>
</ul>
<p>cookieå¯ä»¥è®¾ç½®ä¸åŒçš„åŸŸä¸è·¯å¾„ï¼Œæ‰€ä»¥å¯¹äºåŒä¸€ä¸ªname valueï¼Œåœ¨ä¸åŒåŸŸä¸åŒè·¯å¾„ä¸‹æ˜¯å¯ä»¥é‡å¤çš„ï¼Œæµè§ˆå™¨ä¼šæŒ‰ç…§ä¸å½“å‰è¯·æ±‚urlæˆ–é¡µé¢åœ°å€æœ€ä½³åŒ¹é…çš„é¡ºåºæ¥æ’å®šå…ˆåé¡ºåºï¼Œæ‰€ä»¥å½“å‰ç«¯ä¼ é€’åˆ°æœåŠ¡å™¨ç«¯çš„cookieæœ‰å¤šä¸ªé‡å¤name valueæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æœ€åŒ¹é…çš„é‚£ä¸ªï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªã€‚æœåŠ¡å™¨ç«¯è§£æä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>var parse = function(cstr) {
  if (!cstr) {
    return null;
  }

  var dec = decodeURIComponent;
  var cookies = {};
  var parts = cstr.split(/\s*;\s*/g);
  parts.forEach(function(p){
    var pos = p.indexOf(&#39;=&#39;);
    // name ä¸valueå­˜å…¥cookieä¹‹å‰ï¼Œå¿…é¡»ç»è¿‡ç¼–ç 
    var name = pos &gt; -1 ? dec(p.substr(0, pos)) : p;
    var val = pos &gt; -1 ? dec(p.substr(pos + 1)) : null;
    //åªéœ€è¦æ‹¿åˆ°æœ€åŒ¹é…çš„é‚£ä¸ª
    if (!cookies.hasOwnProperty(name)) {
      cookies[name] = val;
    }/* else if (!cookies[name] instanceof Array) {
      cookies[name] = [cookies[name]].push(val);
    } else {
      cookies[name].push(val);
    }*/
  });

  return cookies;
}
</code></pre><ul>
<li><h2 id="å®¢æˆ·ç«¯çš„å­˜å–"><a href="#å®¢æˆ·ç«¯çš„å­˜å–" class="headerlink" title="å®¢æˆ·ç«¯çš„å­˜å–"></a>å®¢æˆ·ç«¯çš„å­˜å–</h2>æµè§ˆå™¨å°†åå°ä¼ é€’è¿‡æ¥çš„cookieè¿›è¡Œç®¡ç†ï¼Œå¹¶ä¸”å…è®¸å¼€å‘è€…åœ¨JavaScriptä¸­ä½¿ç”¨document.cookieæ¥å­˜å–cookieã€‚ä½†æ˜¯è¿™ä¸ªæ¥å£ä½¿ç”¨èµ·æ¥éå¸¸è¹©è„šã€‚å®ƒä¼šå› ä¸ºä½¿ç”¨å®ƒçš„æ–¹å¼ä¸åŒè€Œè¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºã€‚<br>å½“ç”¨æ¥è·å–å±æ€§å€¼æ—¶ï¼Œdocument.cookieè¿”å›å½“å‰é¡µé¢å¯ç”¨çš„ï¼ˆæ ¹æ®cookieçš„åŸŸã€è·¯å¾„ã€å¤±æ•ˆæ—¶é—´å’Œå®‰å…¨è®¾ç½®ï¼‰æ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²çš„æ ¼å¼å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code>&quot;name1=value1;name2=value2;name3=value3&quot;;
</code></pre><p>è®¾ç½®document.cookieå¹¶ä¸ä¼šè¦†ç›–cookieï¼Œé™¤éè®¾ç½®çš„name value domain pathéƒ½ä¸ä¸€ä¸ªå·²å­˜åœ¨cookieé‡å¤ã€‚<br>ç”±äºcookieçš„è¯»å†™éå¸¸ä¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å°è£…ä¸€äº›å‡½æ•°æ¥å¤„ç†cookieï¼Œä¸»è¦æ˜¯é’ˆå¯¹cookieçš„æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ã€‚</p>
<pre><code>var cookieUtils = {
    get: function(name){
     var cookieName=encodeURIComponent(name) + &quot;=&quot;;
     //åªå–å¾—æœ€åŒ¹é…çš„nameï¼Œvalue
     var cookieStart = document.cookie.indexOf(cookieName);
     var cookieValue = null;

     if (cookieStart &gt; -1) {
      // ä»cookieStartç®—èµ·
      var cookieEnd = document.cookie.indexOf(&#39;;&#39;, cookieStart);
      //ä»=åé¢å¼€å§‹
      if (cookieEnd &gt; -1) {
       cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));
      } else {
       cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, document.cookie.length));
      }
     }

     return cookieValue;
    },

    set: function(name, val, options) {
      if (!name) {
        throw new Error(&quot;coolie must have name&quot;);
      }
      var enc = encodeURIComponent;
      var parts = [];

      val = (val !== null &amp;&amp; val !== undefined) ? val.toString() : &quot;&quot;;
      options = options || {};
      parts.push(enc(name) + &quot;=&quot; + enc(val));
      // domainä¸­å¿…é¡»åŒ…å«ä¸¤ä¸ªç‚¹å·
      if (options.domain) {
        parts.push(&quot;domain=&quot; + options.domain);
      }
      if (options.path) {
        parts.push(&quot;path=&quot; + options.path);
      }
      // å¦‚æœä¸è®¾ç½®expireså’Œmax-ageæµè§ˆå™¨ä¼šåœ¨é¡µé¢å…³é—­æ—¶æ¸…ç©ºcookie
      if (options.expires) {
        parts.push(&quot;expires=&quot; + options.expires.toGMTString());
      }
      if (options.maxAge &amp;&amp; typeof options.maxAge === &quot;number&quot;) {
        parts.push(&quot;max-age=&quot; + options.maxAge);
      }
      if (options.httpOnly) {
        parts.push(&quot;HTTPOnly&quot;);
      }
      if (options.secure) {
        parts.push(&quot;secure&quot;);
      }

      document.cookie = parts.join(&quot;;&quot;);
    },
    delete: function(name, options) {
     options.expires = new Date(0);// è®¾ç½®ä¸ºè¿‡å»æ—¥æœŸ
     this.set(name, null, options);
    }
   }
</code></pre><p>æ›´å¤šè¯¦ç»†å†…å®¹åœ¨åŸæ–‡<br><a href="https://www.jb51.net/article/86598.htm?pc" target="_blank" rel="noopener">ç‚¹æˆ‘æŸ¥çœ‹åŸæ–‡</a></p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>Cookie</category>
      </categories>
      <tags>
        <tag>æœåŠ¡ç«¯</tag>
        <tag>node</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå®ç°ç®€å•çš„åˆ†é¡µå™¨ç»„ä»¶</title>
    <url>/2021/11/10/reactPagination/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­ï¼Œä¸€èˆ¬ç”¨åˆ°åˆ†é¡µå™¨çš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨ä¸€äº›UIç»„ä»¶åº“é‡Œå°è£…å¥½çš„ç»„ä»¶ï¼Œå‡å¦‚ç¦»å¼€äº†è¿™äº›ç»„ä»¶åº“è¯¥æ€ä¹ˆåŠï¼Ÿè¿™æ—¶å€™åªèƒ½è‡ªå·±å°è£…ä¸€ä¸ªç®€å•åœ°åˆ†é¡µå™¨äº†</em></strong></p>
<a id="more"></a>
<h1 id="ä¸€ã€åˆ†é¡µå™¨éœ€è¦çš„å‚æ•°"><a href="#ä¸€ã€åˆ†é¡µå™¨éœ€è¦çš„å‚æ•°" class="headerlink" title="ä¸€ã€åˆ†é¡µå™¨éœ€è¦çš„å‚æ•°"></a>ä¸€ã€åˆ†é¡µå™¨éœ€è¦çš„å‚æ•°</h1><h2 id="ä¸€ä¸ªç®€å•åˆ†é¡µå™¨æ‰€éœ€è¦çš„ä¸»è¦å‚æ•°æœ‰å››ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š"><a href="#ä¸€ä¸ªç®€å•åˆ†é¡µå™¨æ‰€éœ€è¦çš„ä¸»è¦å‚æ•°æœ‰å››ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š" class="headerlink" title="ä¸€ä¸ªç®€å•åˆ†é¡µå™¨æ‰€éœ€è¦çš„ä¸»è¦å‚æ•°æœ‰å››ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š"></a>ä¸€ä¸ªç®€å•åˆ†é¡µå™¨æ‰€éœ€è¦çš„ä¸»è¦å‚æ•°æœ‰å››ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š</h2><pre><code>onChange  // é¡µç å˜åŒ–æ—¶çš„å›è°ƒå‡½æ•° function
total   // æ•°æ®æ€»æ•° number
pageSize // æ¯é¡µæ•°æ®æ•° number
currentPage // å½“å‰é¡µé¡µç  number
</code></pre><p>æ ¹æ®totalå’ŒpageSizeå¯ä»¥ç®—å‡ºæ€»é¡µæ•° totalPage = total/size<br>å½“totalå’Œsizeä¸­ä»»ä½•ä¸€ä¸ªå‘ç”Ÿå˜åŒ–æ—¶éƒ½éœ€è¦é‡æ–°è®¡ç®—totalPage   </p>
<h2 id="è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å†…éƒ¨å‚æ•°ï¼šæ­¥é•¿-step"><a href="#è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å†…éƒ¨å‚æ•°ï¼šæ­¥é•¿-step" class="headerlink" title="è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å†…éƒ¨å‚æ•°ï¼šæ­¥é•¿ step"></a>è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å†…éƒ¨å‚æ•°ï¼šæ­¥é•¿ step</h2><p>è¿™ä¸ªå‚æ•°éå¸¸é‡è¦ï¼Œè¡¨ç¤ºå‘å‰stepé¡µï¼Œå‘åstepé¡µã€‚è€Œåœ¨åˆ†é¡µå™¨çš„å±•ç¤ºå½¢æ€é‡Œä¹Ÿèµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œstepä¸€èˆ¬æ¥è¯´æ˜¯å¥‡æ•°ï¼Œåœ¨è¿™é‡Œæˆ‘ç®¡Math.ceil(step/2)å«åŠæ­¥é•¿</p>
<h1 id="äºŒã€-åˆ†é¡µå™¨çš„å±•ç¤ºå½¢æ€"><a href="#äºŒã€-åˆ†é¡µå™¨çš„å±•ç¤ºå½¢æ€" class="headerlink" title="äºŒã€ åˆ†é¡µå™¨çš„å±•ç¤ºå½¢æ€"></a>äºŒã€ åˆ†é¡µå™¨çš„å±•ç¤ºå½¢æ€</h1><p>åˆ†é¡µå™¨çš„å±•ç¤ºå½¢æ€æ˜¯å–å†³äºå½“å‰é¡µã€æ€»é¡µæ•°å’Œæ­¥é•¿<br>å¦‚æœæ€»é¡µæ•°å°‘ï¼Œé‚£ä¹ˆå°±ä¼šæ˜¾ç¤ºæ‰€æœ‰é¡µï¼Œå¦‚æœæ€»é¡µæ•°å¤šé‚£ä¹ˆå°±ä¼šå‡ºç°å·¦å³çœç•¥å·<br>å·¦çœç•¥å·ç‚¹å‡»ä¹‹åæ˜¯å‘å‰stepé¡µï¼Œå³çœç•¥å·ç‚¹å‡»ä¹‹åæ˜¯å‘åstepé¡µ </p>
<p>é¦–å…ˆï¼Œåˆ†é¡µå™¨çš„å±•ç¤ºå½¢æ€åˆ†ä¸ºæœ‰çœç•¥å·å’Œæ— çœç•¥å·ä¸¤ç§ï¼Œè€Œä¸ç®¡æœ‰æ²¡æœ‰çœç•¥å·ï¼Œç¬¬ä¸€é¡µå’Œæœ€åä¸€é¡µä»¥åŠå‘å‰ï¼ˆåï¼‰1é¡µéƒ½æ˜¯æ˜¾ç¤ºçš„</p>
<h2 id="1ã€æ— çœç•¥å·çš„æƒ…å†µåˆ†ä¸º2ç§"><a href="#1ã€æ— çœç•¥å·çš„æƒ…å†µåˆ†ä¸º2ç§" class="headerlink" title="1ã€æ— çœç•¥å·çš„æƒ…å†µåˆ†ä¸º2ç§"></a>1ã€æ— çœç•¥å·çš„æƒ…å†µåˆ†ä¸º2ç§</h2><p>ç¬¬ä¸€ç§ï¼šç¬¬ä¸€é¡µå°±æ˜¯æœ€åä¸€é¡µï¼Œæ­¤æ—¶çš„åˆ†é¡µå™¨å½¢æ€ä¸ºï¼š</p>
<pre><code>&lt; 1 &gt;
</code></pre><p>ç¬¬äºŒç§ï¼šæ€»é¡µæ•°å¤§äº1ä¸”å°äºç­‰äºæ­¥é•¿+1ï¼Œè¿™æ—¶å€™åˆ†é¡µå™¨çš„å½¢æ€ä¸ºï¼š</p>
<pre><code>&lt;  1  2  3  4  5  &gt;
</code></pre><h2 id="2ã€æœ‰çœç•¥å·çš„æƒ…å†µåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œæ­¤æ—¶æ€»é¡µæ•°å¿…ç„¶æ˜¯å¤§äºæ­¥é•¿-1çš„"><a href="#2ã€æœ‰çœç•¥å·çš„æƒ…å†µåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œæ­¤æ—¶æ€»é¡µæ•°å¿…ç„¶æ˜¯å¤§äºæ­¥é•¿-1çš„" class="headerlink" title="2ã€æœ‰çœç•¥å·çš„æƒ…å†µåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œæ­¤æ—¶æ€»é¡µæ•°å¿…ç„¶æ˜¯å¤§äºæ­¥é•¿+1çš„"></a>2ã€æœ‰çœç•¥å·çš„æƒ…å†µåˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œæ­¤æ—¶æ€»é¡µæ•°å¿…ç„¶æ˜¯å¤§äºæ­¥é•¿+1çš„</h2><p>ç¬¬ä¸€ç§æƒ…å†µï¼š æ— å·¦çœç•¥å·ï¼Œæœ‰å³çœç•¥å· ï¼Œ åˆ†é¡µå™¨å½¢æ€ä¸ºï¼š</p>
<pre><code>&lt;  1  2  3  4  5  &gt;&gt;  10  &gt;
</code></pre><p>ç¬¬äºŒç§æƒ…å†µï¼š æœ‰å·¦çœç•¥å·ï¼Œæ— å³çœç•¥å· ï¼Œ åˆ†é¡µå™¨å½¢æ€ä¸ºï¼š</p>
<pre><code>&lt;  1  &lt;&lt;  6  7  8  9  10  &gt;
</code></pre><p>ç¬¬äºŒç§æƒ…å†µï¼š æœ‰å·¦çœç•¥å·ï¼Œæ— å³çœç•¥å· ï¼Œ åˆ†é¡µå™¨å½¢æ€ä¸ºï¼š</p>
<pre><code>&lt;  1  &lt;&lt;  6  7  8  9  10  &gt;
</code></pre><p>ç¬¬ä¸‰ç§æƒ…å†µï¼š æœ‰å·¦çœç•¥å·ï¼Œæ— å³çœç•¥å· ï¼Œ åˆ†é¡µå™¨å½¢æ€ä¸ºï¼š</p>
<pre><code>&lt;  1  &lt;&lt;  6  7  8  9  10  &gt;&gt;  50  &gt;
</code></pre><h1 id="ä¸‰ã€-æºç "><a href="#ä¸‰ã€-æºç " class="headerlink" title="ä¸‰ã€ æºç "></a>ä¸‰ã€ æºç </h1><p>index.js : </p>
<pre><code>/* eslint-disable react-hooks/exhaustive-deps */
import React, { useEffect, useState } from &quot;react&quot;;

import &quot;./style.scss&quot;;

const step = 5; // æ­¥é•¿
const halfStep = Math.ceil(step / 2); // å½“å‰é¡µå‰åé¡µæ•°
const Pagination = ({
  onChange = (e) =&gt; e,
  total = 500,
  pageSize = 10,
  currentPage = 1,
  sizeOptions = [10, 20, 30, 40, 50]
}) =&gt; {
  const [current, setCurrent] = useState(currentPage);
  const [size, setSize] = useState(pageSize);
  const [pageItemList, setPageItemList] = useState([]);
  const [totalPage, setTotalPage] = useState(0);
  const [showSizeList, setShowSizeList] = useState(false);

  /**
   * å‘å‰/å æ­¥é•¿é¡µ
   * @param {*} type
   * @returns
   */
  const getJumpItem = ({ type }) =&gt; {
    return {
      type,
      text: type &gt; 0 ? &quot;&gt;&gt;&quot; : &quot;&lt;&lt;&quot;,
      num: Math.random(),
      title: `å‘${type &gt; 0 ? &quot;å&quot; : &quot;å‰&quot;}${step}é¡µ`
    };
  };
  useEffect(() =&gt; {
    setTotalPage(Math.ceil(total / size));
  }, [total, size]);
  useEffect(() =&gt; {
    onChange({ total: totalPage, currentPage: current });
  }, [current, size]);

  // æ ¸å¿ƒé€»è¾‘
  useEffect(() =&gt; {
    const subList = []; // é™¤äº†ç¬¬ä¸€é¡µå’Œæœ€åä¸€é¡µä¸­é—´çš„éƒ¨åˆ†
    if (totalPage &gt; step + 1) {
      // æ€»é¡µæ•°å¤§äºæ­¥é•¿+1è¯´æ˜æœ‰çœç•¥
      if (current - halfStep &lt; 1) {
        // å½“å‰é¡µ-åŠæ­¥é•¿å°äº1ä¸æ˜¾ç¤ºå‘å‰æ­¥é•¿æ•°
        for (let i = 1; i &lt;= step; i++) {
          if (i &lt; step) {
            subList.push({
              type: 0,
              text: i + 1,
              num: i + 1,
              title: i + 1
            });
          } else {
            // æœ€åä¸€é¡µpushå‘åæ­¥é•¿é¡µ
            subList.push(getJumpItem({ type: 1 }));
          }
        }
      } else if (current + halfStep &gt; totalPage) {
        //  å½“å‰é¡µ+åŠæ­¥é•¿å¤§äºæ€»é¡µæ•°ä¸æ˜¾ç¤ºå‘åæ­¥é•¿é¡µ
        for (let i = totalPage - step; i &lt; totalPage; i++) {
          if (i === totalPage - step) {
            // ç¬¬ä¸€ä¸ªpushå‘å‰æ­¥é•¿é¡µ
            subList.push(getJumpItem({ type: -1 }));
          } else {
            subList.push({
              type: 0,
              text: i,
              num: i,
              title: i
            });
          }
        }
      } else {
        // åŒæ—¶æ˜¾ç¤ºå‘å‰å’Œå‘åæ­¥é•¿é¡µ
        for (let i = 1; i &lt;= step + 2; i++) {
          const opr = i - halfStep - 1;
          if (i === 1 &amp;&amp; current - halfStep !== 1) {
            subList.push(getJumpItem({ type: -1 }));
            console.log(-1);
          } else if (i === step + 2 &amp;&amp; current + halfStep !== totalPage) {
            console.log(1);
            subList.push(getJumpItem({ type: 1 }));
          } else if (i &gt; 1 &amp;&amp; i &lt; step + 2) {
            console.log(current + 1);
            subList.push({
              type: 0,
              text: current + opr,
              num: current + opr,
              title: current + opr
            });
          }
        }
      }
    } else if ((totalPage &gt; 2 &amp;&amp; totalPage &lt;= step) || totalPage === step + 1) {
      /***
       * æ€»é¡µæ•°å¤§äº2ä¸”å°äºç­‰äºæ­¥é•¿æ—¶é™¤äº†ç¬¬ä¸€é¡µå’Œæœ€åä¸€é¡µä¸­é—´è¿˜æœ‰æ€»é¡µæ•°-2 ä»ç¬¬äºŒé¡µå¼€å§‹
       * æ€»é¡µæ•°åˆšå¥½ç­‰äºæ­¥é•¿æ—¶ä¹Ÿæ˜¯ä¸€æ ·çš„é€»è¾‘
       */
      for (let i = 2; i &lt; totalPage; i++) {
        subList.push({
          type: 0,
          text: i,
          num: i,
          title: i
        });
      }
    }

    if (totalPage &gt; 1) {
      setPageItemList([
        {
          type: 0,
          text: 1,
          num: 1,
          title: 1
        },
        ...subList,
        {
          type: 0,
          text: totalPage,
          num: totalPage,
          title: totalPage
        }
      ]);
    } else if (totalPage !== 0) {
      setPageItemList([
        {
          type: 0,
          text: 1,
          num: 1,
          title: 1
        }
      ]);
    }
  }, [totalPage, current]);
  const leftTxt = &quot;&lt;&quot;,
    rightTxt = &quot;&gt;&quot;;
  return (
    &lt;div className=&quot;pagination-container&quot;&gt;
      &lt;ul className=&quot;pagination-sub-container&quot;&gt;
        {current !== 1 &amp;&amp; (
          &lt;li onClick={() =&gt; setCurrent(current - 1)}&gt;{leftTxt}&lt;/li&gt;
        )}
        {pageItemList.map(({ type, num, text, title }) =&gt; {
          const eleProps = {
            title,
            key: num
          };
          if (type === 0) {
            eleProps.style = {
              border: num !== current ? &quot;1px solid gainsboro&quot; : &quot;1px solid gray&quot;
            };
            eleProps.onClick = () =&gt; {
              if (num !== current) {
                setCurrent(num);
              }
            };
          } else {
            eleProps.onClick = () =&gt; {
              let curP = current + step * type;
              if (curP &gt; totalPage) {
                curP = totalPage;
              }
              if (curP &lt; 1) {
                curP = 1;
              }
              setCurrent(curP);
            };
          }
          return &lt;li {...eleProps}&gt;{text}&lt;/li&gt;;
        })}
        {current !== totalPage &amp;&amp; (
          &lt;li onClick={() =&gt; setCurrent(current + 1)}&gt;{rightTxt}&lt;/li&gt;
        )}
        &lt;li
          className=&quot;size&quot;
          onClick={() =&gt; {
            setShowSizeList(!showSizeList);
          }}
        &gt;
          {size}æ¡/é¡µ â†“
          {showSizeList &amp;&amp; (
            &lt;ul className=&quot;set-size-box&quot;&gt;
              {sizeOptions.map((item) =&gt; (
                &lt;li
                  onClick={() =&gt; {
                    setCurrent(1);
                    setSize(item);
                    setShowSizeList(false);
                  }}
                &gt;
                  {item}
                &lt;/li&gt;
              ))}
            &lt;/ul&gt;
          )}
        &lt;/li&gt;
      &lt;/ul&gt;

      &lt;div style={{ clear: "both" }} /&gt;
    &lt;/div&gt;
  );
};
export default Pagination;

</code></pre><p>style.scss:</p>
<pre><code>.pagination-container {
  float: left;
  .pagination-sub-container {
    position: relative;
    float: left;
    li {
      list-style-type: none;
      display: inline-block;
      width: 40px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      margin: 5px;
      border-radius: 8px;
      font-size: 14px;
      box-sizing: border-box;
      cursor: pointer;
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      user-select: none;
      border: 1px solid gainsboro;
    }

    li:hover {
      border: 1px solid gray;
    }
    .size {
      min-width: 80px;
      border: 1px solid gray;
      position: relative;
      .set-size-box {
        float: left;
        // height: 40px;
        // line-height: 40px;
        // border-radius: 8px;
        // vertical-align: middle;
        padding: 0;
        margin: 0;
        li {
          min-width: 100%;
          margin: 0;
        }
      }
    }
  }
}

</code></pre><p> <a href="https://codesandbox.io/s/components-test-phrpl?file=/src/Pagination/index.js" target="_blank" rel="noopener">è‡ªå·±è¯•è¯•</a></p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>es6</tag>
        <tag>UIç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>jqå®ç°åˆ†é¡µ</title>
    <url>/2021/09/18/jqpagination/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ä¸€ç›´åœ¨å†™vueå’Œreactçš„é¡¹ç›®ï¼Œä¹ æƒ¯äº†æœ‰ç»„ä»¶çš„å¿«ä¹ç”Ÿæ´»ï¼Œè¿‘æœŸçªç„¶é¡¹ç›®ä¸Šè®©å»å†™ä¸€ä¸ªjQueryæ¨¡å—ï¼Œä¸€è„¸æ‡µé€¼ï¼ŒjQueryæ˜¯å•¥ï¼Ÿåˆ†é¡µï¼Ÿæœç„¶ç”Ÿäºå¿§æ‚£ï¼Œæ­»äºå®‰ä¹å‘€ï¼Œèµ¶ç´§å†™ä¸ªåˆ†é¡µå°demoå‹å‹æƒŠ</em></strong><br><a id="more"></a></p>
<hr>
<p>é¦–å…ˆä»‹ç»ä¸€ä¸‹æˆ‘ä»¬å‰ç«¯å¤§å®¶åº­çš„å…ƒè€çº§æˆå‘˜â€“jQuery<br> è‹±æ–‡åï¼šjQuery<br> ä¸­æ–‡åï¼š æå¿«ç‘<br> å‡ºç”Ÿæ—¥æœŸï¼š2006å¹´1æœˆ<br> è€çˆ¸ï¼š John Resigï¼ˆæ­ªæœä»ï¼‰<br> ç ç”Ÿç†æƒ³ï¼š ç«‹å¿—æˆä¸ºä¸€ä¸ªä¸ºäº’è”ç½‘æ‰«æ¸…å…¼å®¹æ€§é—®é¢˜çš„ä»£ç åº“<br> ç®€ä»‹ï¼šjQueryæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´çš„JavaScriptæ¡†æ¶ï¼Œæ˜¯ç»§Prototypeä¹‹ååˆä¸€ä¸ªä¼˜ç§€çš„JavaScriptä»£ç åº“ï¼ˆæˆ–JavaScriptæ¡†æ¶ï¼‰ã€‚jQueryè®¾è®¡çš„å®—æ—¨æ˜¯â€œwrite Lessï¼ŒDo Moreâ€ï¼Œå³å€¡å¯¼å†™æ›´å°‘çš„ä»£ç ï¼Œåšæ›´å¤šçš„äº‹æƒ…ã€‚å®ƒå°è£…JavaScriptå¸¸ç”¨çš„åŠŸèƒ½ä»£ç ï¼Œæä¾›ä¸€ç§ç®€ä¾¿çš„JavaScriptè®¾è®¡æ¨¡å¼ï¼Œä¼˜åŒ–HTMLæ–‡æ¡£æ“ä½œã€äº‹ä»¶å¤„ç†ã€åŠ¨ç”»è®¾è®¡å’ŒAjaxäº¤äº’ã€‚</p>
<hr>
<p>è¨€å½’æ­£ä¼ ï¼Œåœ¨æˆ‘ä»¬å‰ç«¯çš„ä¸–ç•Œé‡Œï¼Œjqæ˜¯æ¯ä¸ªå‰ç«¯ç¨‹åºçŒ¿çš„å¿…ç»ä¹‹è·¯ï¼Œæœ‰é“æ˜¯jqä¸é€šï¼Œä½•ä»¥é€šå‰ç«¯ï¼Ÿè™½ç„¶jqåœ¨ä»Šå¤©çš„é¡¹ç›®ä¸­é€æ¸çš„è¢«reactã€vueç­‰æ–°å‹çš„MVVMæ¡†æ¶æ›¿ä»£ï¼Œä½†æ˜¯ç”±äºå®ƒä¸Šæ‰‹å¿«ï¼Œæ¥è¿‘åŸç”Ÿï¼Œé—¨æ§›ä½ç­‰ç‰¹ç‚¹ï¼Œè¿˜æ˜¯ä½œä¸ºä¸€ä¸ªå‰ç«¯å…¥é—¨çº§æ¡†æ¶è¢«å¤§å®¶æ‰€å­¦ä¹ ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸ªjqå®ç°åˆ†é¡µçš„å°demoï¼Œä»¥ä¾¿ä»¥åæŸ¥é˜…ã€‚</p>
<p>é¦–å…ˆéœ€è¦å†™domï¼Œåˆ†é¡µç»„ä»¶çš„domç»“æ„å¦‚ä¸‹ï¼ˆcssæ ·å¼å› éœ€æ±‚è€Œå¼‚ï¼‰ï¼š</p>
<pre><code>&lt;!--page-boxè¿™ä¸ªdivå°±æ˜¯æ•´ä¸ªåˆ†é¡µçš„å®¹å™¨--&gt;
&lt;div class=&quot;page-box&quot;&gt; 
&lt;!--page-totalè¿™ä¸ªspanæ˜¯æ˜¾ç¤ºå½“å‰æ•°æ®æ˜¯ä»ç¬¬å‡ æ¡åˆ°ç¬¬å‡ æ¡--&gt;
    &lt;span id=&quot;page-total&quot;&gt;&lt;/span&gt;
&lt;!--è¿™ä¸ªdivæ˜¯ä¸Šä¸€é¡µæŒ‰é’®--&gt;
    &lt;div id=&quot;prev&quot;&gt;&lt;a&gt;&lt;&lt;/a&gt;&lt;/div&gt;
&lt;!--è¿™ä¸ªulæ˜¯é¡µç çš„å®¹å™¨--&gt;    
    &lt;ul id=&quot;page&quot;&gt;&lt;/ul&gt;
&lt;!--è¿™ä¸ªdivæ˜¯ä¸‹ä¸€é¡µæŒ‰é’®--&gt;
    &lt;div id=&quot;next&quot;&gt;&lt;a&gt;&gt;&lt;/a&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre><p>ä¸‹é¢å®ç°åˆ†é¡µå°demoé¡ºä¾¿å¤ä¹ å¤ä¹ jqçš„ajaxï¼ˆç»å…¸ï¼‰<br>jséƒ¨åˆ†ï¼š</p>
<pre><code>// é¦–å…ˆéœ€è¦å°è£…ä¸€ä¸ªä½¿ç”¨ajaxè¯·æ±‚æ¥å£çš„å‡½æ•°
function fetchList(page){
    $.ajax({
        url: &#39;******&#39;, // è¯·æ±‚æ¥å£åœ°å€
        async: true, // è¯·æ±‚ç±»å‹ true/å¼‚æ­¥ false/åŒæ­¥
        dataType: &#39;json&#39;, // é¢„æœŸçš„æœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹
        type: &#39;get&#39;, // è¯·æ±‚ç±»å‹ å¯é€‰å€¼æœ‰ get/post/update/delete
        data:page,//è¯·æ±‚å‚æ•°
        beforeSend:function(xhr){}, // è¯·æ±‚å‘é€ä¹‹å‰çš„å›è°ƒå‡½æ•°ï¼Œå›ä¼ çš„å‚æ•°ä¸ºxhrå¯¹è±¡
        complete:function(xhr,status){}, // è¯·æ±‚å®Œæˆæ—¶çš„å›è°ƒï¼ˆæ— è®ºè¯·æ±‚æˆåŠŸä¸å¦ï¼‰ï¼Œå›ä¼ çš„å‚æ•°ä¸ºxhrå¯¹è±¡å’Œè¯·æ±‚ç»“æœçŠ¶æ€
        success:function(res,status,xhr){
            if(res&amp;&amp;res.content.length&gt;0){
                page(res);
            }
        },//è¯·æ±‚æˆåŠŸæ—¶çš„å›è°ƒï¼Œå›ä¼ çš„å‚æ•°ä¸ºå“åº”ä½“ï¼ŒçŠ¶æ€å’Œxhrå¯¹è±¡
        error: function(xhr,status,error){},//è¯·æ±‚å¤±è´¥æ—¶çš„å›è°ƒï¼Œå›ä¼ çš„å‚æ•°ä¸ºxhrå¯¹è±¡ï¼ŒçŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯
    })
}
// å°è£…ä¸€ä¸ªæ–¹æ³•æ¥æ¸²æŸ“åˆ†é¡µéƒ¨åˆ†çš„dom è¿™å‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä¸ºajaxè¯·æ±‚æˆåŠŸåè¿”å›çš„å¸¦åˆ†é¡µä¿¡æ¯çš„å“åº”ä½“ï¼Œåœ¨ajaxè¯·æ±‚æˆåŠŸå¹¶å¾—åˆ°æ•°æ®çš„æ—¶å€™è°ƒç”¨è¯¥å‡½æ•°
function page(res){
    // æ¯æ¬¡è°ƒç”¨æ”¹æ–¹æ³•æ—¶é¡µç å®¹å™¨å’Œæ˜¾ç¤ºæ•°æ®æ¡æ•°çš„å®¹å™¨éƒ½è¦æ¸…ç©º
    $(&#39;#page-total&#39;).empty();
    $(&#39;#page&#39;).empty();
    // ä»ç›¸åº”ä½“ä¸­è·å–åˆ†é¡µéœ€è¦çš„ä¸€äº›å‚æ•°
    var total = res.totalElements; // æ•°æ®æ€»æ•°
    var currentPage = res.currentPage;    // å½“å‰é¡µ
    var size = res.size; // æ¯é¡µæ•°æ®æ¡æ•°
    var totalPages = res.totalPages; // æ€»é¡µæ•°
    var start = currentPage == 0 ? 1 : currentPage*size + 1; // å½“å‰é¡µç¬¬ä¸€æ¡æ•°æ®åœ¨æ€»æ•°æ®ä¸­çš„ä½ç½®ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€é¡µåˆ™æ˜¯ç¬¬ä¸€æ¡ï¼Œè‹¥ä¸æ˜¯åˆ™æ˜¯ç¬¬(å½“å‰é¡µç *æ¯é¡µæ•°æ®æ¡æ•°+1)æ¡
    var end = currentPage == totalPages-1 ? total : currentPage*size + size;// å½“å‰é¡µæœ€åä¸€æ¡æ•°æ®åœ¨æ€»æ•°æ®ä¸­çš„ä½ç½®ï¼Œå¦‚æœæ˜¯æœ€åä¸€é¡µåˆ™æ˜¯ç¬¬ï¼ˆæ•°æ®æ€»æ•°ï¼‰æ¡ï¼Œè‹¥ä¸æ˜¯åˆ™æ˜¯ï¼ˆå½“å‰é¡µç *æ¯é¡µæ•°æ®æ¡æ•°+æ¯é¡µæ•°æ®æ¡æ•°ï¼‰
    $(&quot;#page-total&quot;).append(&quot;æ˜¾ç¤º&quot;+start+&quot;-&quot;+end+&quot; å…± &quot;+total+&quot;æ¡&quot;); 
    // æ¸²æŸ“é¡µç 
    $(&#39;#next&#39;).attr(&#39;total-pages&#39;,totalPages);  // åœ¨è¿™é‡Œä¸ºä¸‹ä¸€é¡µæŒ‰é’®çš„divæ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§total-pagesï¼Œè®°å½•æ€»é¡µæ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¹¦å¦è¿›è¡Œä¸‹ä¸€é¡µæ“ä½œ
    // æ¥ä¸‹æ¥å°±æ˜¯æ¸²æŸ“é¡µç 
    for (var i = 0;i&lt;totalPages;i++){
        if(i==page) //åˆ¤æ–­å½“å‰é¡µæ˜¯ä¸æ˜¯è¯¥æŒ‰é’®æ§åˆ¶çš„é‚£ä¸€é¡µï¼Œå¦‚æœæ˜¯å°±æ·»åŠ ä¸€ä¸ªactiveç±»å
            $(&#39;#page&#39;).append(&quot;&lt;li class=&#39;active&#39; current-page=&quot;+page+&quot;  page-no=&quot;+i+ &quot;&gt;&quot;+(i+1)+&quot;&lt;/li&gt;&quot;); // è‡ªå®šä¹‰å±æ€§current-pageè¡¨ç¤ºå½“å‰é¡µ ï¼Œpage-noè¡¨ç¤ºè¯¥é¡µç æŒ‰é’®æ§åˆ¶è·³è½¬åˆ°ç¬¬å‡ é¡µ
        else
            $(&#39;#page&#39;).append(&quot;&lt;li current-page=&quot;+page+&quot;  page-no=&quot;+i+ &quot;&gt;&quot;+(i+1)+&quot;&lt;/li&gt;&quot;);
    }
}
// ä¸ºé¡µç æŒ‰é’®ï¼Œä¸Šä¸€é¡µä¸‹ä¸€é¡µæ·»åŠ äº‹ä»¶
$(&#39;#page&#39;).on(&#39;click&#39;,&#39;li&#39;,function(e){
        var currentPage = Number($(this).attr(&#39;current-page&#39;));
        var page = Number($(this).attr(&#39;page-no&#39;));
        var params = {
            page:page,
            size:10
        }
        if(currentPage!==page){ //åˆ¤æ–­ç‚¹å‡»çš„è¿™ä¸€é¡µæ˜¯å¦ä¸ºå½“å‰é¡µï¼Œå¦‚æœä¸æ˜¯åˆ™æ‰§è¡Œè·³é¡µæ“ä½œ
            $(&quot;#page li&quot;).removeClass(&#39;active&#39;);
            $(this).addClass(&#39;active&#39;);
            getNotices(params);
        }

    })
    $(&#39;#next&#39;).on(&#39;click&#39;,function(e){
        var totalPages = Number($(this).attr(&#39;total-pages&#39;));
        var currentPage = Number($($(&#39;#page li&#39;)[0]).attr(&#39;current-page&#39;));
        if(currentPage&lt;(totalPages-1)){ // åˆ¤æ–­å½“å‰é¡µæ˜¯å¦ä¸ºæœ€åä¸€é¡µï¼Œå¦‚æœå¦åˆ™æ‰§è¡Œä¸‹ä¸€é¡µæ“ä½œ
            var params = {
                page:currentPage+1,
                size:10
            }
            getNotices(params);
        }
    })
    $(&#39;#prev&#39;).on(&#39;click&#39;,function(e){
        var currentPage = Number($($(&#39;#page li&#39;)[0]).attr(&#39;current-page&#39;));
        if(currentPage&gt;0){ // åˆ¤æ–­å½“å‰é¡µæ˜¯å¦ä¸ºç¬¬ä¸€é¡µï¼Œå¦‚æœå¦åˆ™æ‰§è¡Œä¸Šä¸€é¡µæ“ä½œ
            var params = {
                page:currentPage-1,
                size:10
            }
            getNotices(params);
        }
    })
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>jQuery</tag>
        <tag>åˆ†é¡µ</tag>
        <tag>ajax</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨APIåœ°å€</title>
    <url>/2021/07/11/api/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ä¸€äº›å¸¸ç”¨æŠ€æœ¯æ ˆçš„APIé“¾æ¥</em></strong></p>
<a id="more"></a>
<p><a href="https://yarn.bootcss.com/docs/usage/" target="_blank" rel="noopener">yarn</a></p>
<p><a href="https://git-scm.com/" target="_blank" rel="noopener">git</a></p>
<p><a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ES6 æ–‡æ¡£ </a></p>
<p><a href="http://lesscss.cn/" target="_blank" rel="noopener">less æ–‡æ¡£</a></p>
<p><a href="https://react.docschina.org/" target="_blank" rel="noopener">reactå®˜æ–¹æ–‡æ¡£</a></p>
<p><a href="https://dvajs.com/" target="_blank" rel="noopener">dva æ–‡æ¡£</a></p>
<p><a href="https://cn.redux.js.org/" target="_blank" rel="noopener">reduxæ–‡æ¡£</a></p>
<p><a href="https://www.webpackjs.com/" target="_blank" rel="noopener">webpackæ–‡æ¡£</a></p>
<p><a href="https://redux-saga-in-chinese.js.org/" target="_blank" rel="noopener">redux-sagaæ–‡æ¡£</a></p>
<p><a href="https://reacttraining.com/react-router/web/example/basic" target="_blank" rel="noopener">react-routeræ–‡æ¡£</a></p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <tags>
        <tag>api</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactç‰ˆHellowWorld</title>
    <url>/2021/06/15/startreact/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ç´§å¼ åˆºæ¿€çš„æ¯•ä¸šè®¾è®¡æ‚„ç„¶è¿›å…¥å°¾å£°ï¼Œæˆ‘ç»ˆäºè¿«äºç”Ÿè®¡æ”¾å¼ƒäº†åˆšåˆšå­¦äº†ç‚¹çš®æ¯›çš„Vueï¼Œæ‹¿èµ·äº†ã€ŠReactå¼•é¢†æœªæ¥çš„ç”¨æˆ·ç•Œé¢å¼€å‘æ¡†æ¶ã€‹ï¼Œéƒ½æ˜¯å¿ƒé…¸å•Šï¼Œä½†æ˜¯è¿˜æ˜¯è¦åœ¨å‰ç«¯çš„è·¯ä¸Šç»§ç»­æ‘¸ç´¢å‘€</em></strong><br><a id="more"></a></p>
<h3 id="React-æ˜¯ä»€ä¹ˆ"><a href="#React-æ˜¯ä»€ä¹ˆ" class="headerlink" title="React æ˜¯ä»€ä¹ˆ"></a>React æ˜¯ä»€ä¹ˆ</h3><p>React æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JAVASCRIPT åº“ã€‚</p>
<p>Reactä¸»è¦ç”¨äºæ„å»ºUIï¼Œå¾ˆå¤šäººè®¤ä¸º React æ˜¯ MVC ä¸­çš„ Vï¼ˆè§†å›¾ï¼‰ã€‚</p>
<p>React èµ·æºäº Facebook çš„å†…éƒ¨é¡¹ç›®ï¼Œç”¨æ¥æ¶è®¾ Instagram çš„ç½‘ç«™ï¼Œå¹¶äº 2013 å¹´ 5 æœˆå¼€æºã€‚</p>
<p>React æ‹¥æœ‰è¾ƒé«˜çš„æ€§èƒ½ï¼Œä»£ç é€»è¾‘éå¸¸ç®€å•ï¼Œè¶Šæ¥è¶Šå¤šçš„äººå·²å¼€å§‹å…³æ³¨å’Œä½¿ç”¨å®ƒã€‚</p>
<p>å—¯ã€‚ã€‚ã€‚è¿™å°±æ˜¯ä½œä¸ºä¸€ä¸ªèœé¸Ÿï¼Œé˜Ÿreactçš„åˆæ­¥è®¤è¯†ã€‚</p>
<h3 id="Reactç‰ˆHellowWorldæ•™ç¨‹"><a href="#Reactç‰ˆHellowWorldæ•™ç¨‹" class="headerlink" title="Reactç‰ˆHellowWorldæ•™ç¨‹"></a>Reactç‰ˆHellowWorldæ•™ç¨‹</h3><p>HellowWorldæ˜¯æˆ‘ä»¬ç¨‹åºçŒ¿å…¥é—¨ä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„æ—¶å€™çš„ç¬¬ä¸€ä¸ªâ€œé¡¹ç›®â€<br>ç°åœ¨æ— è®ºæ˜¯å‰ç«¯å¼€å‘è¿˜æ˜¯åç«¯å¼€å‘ï¼Œéƒ½è¶‹äºå·¥ç¨‹åŒ–æ¨¡å—åŒ–çš„å¼€å‘æ¨¡å¼äº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæœ¬èœé¸Ÿå°±åªè®°å½•æœ€æ–¹ä¾¿å®ç”¨çš„è„šæ‰‹æ¶ä½¿ç”¨æ–¹æ³•ã€‚</p>
<h4 id="1-å®‰è£…ç¯å¢ƒ"><a href="#1-å®‰è£…ç¯å¢ƒ" class="headerlink" title="1.å®‰è£…ç¯å¢ƒ"></a>1.å®‰è£…ç¯å¢ƒ</h4><p>é¦–å…ˆè‚¯å®šæ˜¯éœ€è¦nodeç¯å¢ƒçš„ï¼Œä½œä¸ºä¸€ä¸ª21ä¸–çºªçš„å‰ç«¯ç¨‹åºçŒ¿ï¼Œå¦‚æœä½ æ²¡äº†è§£è¿‡nodeçš„è¯ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ å·²ç»OUTäº†ï¼Œä¸å¼€ç©ç¬‘åœ°è¯´ï¼Œå‰ç«¯ç¨‹åºå‘˜ä¸€å®šè¦å»äº†è§£nodeçš„<br>è‡³äºnodeç¯å¢ƒçš„å®‰è£…ï¼Œé‚£ç®€ç›´æ˜¯ç®€å•çš„ä¸èƒ½å†ç®€å•äº†ï¼Œwindowsç³»ç»Ÿä¸‹çš„nodeç¯å¢ƒæ­å»ºå°±åƒå®‰è£…ä¸€ä¸ªæ¸¸æˆä¸€æ ·ç®€å•ï¼Œlinuxç¯å¢ƒæœ‰ç‚¹å°å¤æ‚ï¼Œä½†ä¸æ˜¯é—®é¢˜ï¼Œè°¢è°¢ä¼Ÿå¤§çš„èœé¸Ÿæ•™ç¨‹ç»™äºˆæœ¬èœé¸Ÿçš„å¤§åŠ›æ”¯æŒï¼Œè°¢è°¢ï¼è°¢è°¢ï¼<br><a href="https://www.runoob.com/nodejs/nodejs-tutorial.html" target="_blank" rel="noopener">å…¨å¥—æ•™ç¨‹ç‚¹å‡»è¿™é‡ŒğŸ‘ˆ</a></p>
<h4 id="2-å®‰è£…å¹¶ä½¿ç”¨reactè„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®"><a href="#2-å®‰è£…å¹¶ä½¿ç”¨reactè„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®" class="headerlink" title="2.å®‰è£…å¹¶ä½¿ç”¨reactè„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®"></a>2.å®‰è£…å¹¶ä½¿ç”¨reactè„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®</h4><p>åœ¨è¿™é‡Œæˆ‘æ˜¯ä½¿ç”¨nodeçš„åŒ…ç®¡ç†å™¨npmæ¥å®‰è£…reactè„šæ‰‹æ¶<br>å…¨å±€å®‰è£…reactè„šæ‰‹æ¶</p>
<pre><code>$ cnpm install -g create-react-app
</code></pre><p>åœ¨æŸç›˜æŸæ–‡ä»¶å¤¹ä¸‹æ‰“å¼€cmdï¼Œè¿è¡Œä¸‹è¾¹å‘½ä»¤åˆ›å»ºé¡¹ç›®</p>
<pre><code>$ create-react-app reacttest
</code></pre><p>è¿™æ—¶å€™ï¼Œé¡¹ç›®å·²ç»æ­å»ºå¥½äº†,é¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š</p>
<pre><code>reacttest/
  README.md
  node_modules/
  package.json
  .gitignore
  public/
    favicon.ico
    index.html
    manifest.json
  src/
    App.css
    App.js
    App.test.js
    index.css
    index.js
    logo.svg
</code></pre><p>è¿è¡Œé¡¹ç›®</p>
<pre><code>$ cd reacttest/
$ npm start
</code></pre><p>è¿™æ—¶å€™é™é™ç­‰å¾…å¯åŠ¨å®Œæˆï¼Œå®ƒä¼šè‡ªåŠ¨æ‰“å¼€ä¸€ä¸ªreactå®˜æ–¹ç¤ºä¾‹é¡µé¢ï¼Œåˆ°è¿™é‡ŒReactç‰ˆçš„HellowWorldå°±å®Œæˆäº†</p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>jsé¢å‘å¯¹è±¡åŸºç¡€</title>
    <url>/2020/04/09/jsobject/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>jsä½œä¸ºä¸€ç§åŸºäºå¯¹è±¡çš„å¼±ç±»å‹è„šæœ¬è¯­è¨€ï¼Œåœ¨å‰åç«¯åˆ†ç¦»çš„ä»Šå¤©æ‹…ä»»ç€ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ä»»åŠ¡ï¼Œéšç€å‰ç«¯çš„å‘å±•ï¼Œè¶Šæ¥å¤æ‚çš„é€»è¾‘ï¼Œè®©å‰ç«¯ç¨‹åºçŒ¿ä»¬ä¸å†æ»¡è¶³äºè¿™ç§åŸºäºå¯¹è±¡çš„ç¼–ç¨‹æ–¹å¼ï¼Œè¿™æ—¶å€™jsåŸºäºåŸå‹é“¾çš„ä¸€ç§é¢å‘å¯¹è±¡çš„å®ç°æ–¹æ³•è¢«è¶Šæ¥è¶Šå¤šçš„äººæ‰€é‡‡çº³</em></strong></p>
<a id="more"></a>
<h1 id="jsåŸºäºå¯¹è±¡è€Œä¸æ˜¯é¢å‘å¯¹è±¡"><a href="#jsåŸºäºå¯¹è±¡è€Œä¸æ˜¯é¢å‘å¯¹è±¡" class="headerlink" title="jsåŸºäºå¯¹è±¡è€Œä¸æ˜¯é¢å‘å¯¹è±¡"></a>jsåŸºäºå¯¹è±¡è€Œä¸æ˜¯é¢å‘å¯¹è±¡</h1><p>jsæ˜¯ä¸€ç§åŸºäºå¯¹è±¡çš„è¯­è¨€ï¼Œæ‰€è°“åŸºäºå¯¹è±¡ï¼Œç®€å•æ¥è¯´å°±æ˜¯åœ¨jsä¸­æœ‰å¯¹è±¡çš„æ¦‚å¿µï¼Œä½†æ˜¯æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œå­¦è¿‡javaçš„äººéƒ½çŸ¥é“ï¼Œåœ¨javaä¸­ï¼Œè¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œé¦–å…ˆéœ€è¦ä¸€ä¸ªæœ‰ä¸€ä¸ªè¿™ä¸ªå¯¹è±¡çš„ç±»ï¼Œç”¨ç±»å»åˆ›å»ºè¿™ä¸ªç±»çš„å¯¹è±¡å®ä¾‹ï¼Œè€ŒåŸºäºå¯¹è±¡åˆ™æ˜¯ç”¨å¯¹è±¡å»åˆ›å»ºå¯¹è±¡ã€‚ä¸¾ä¸ªç½‘ä¸Šçš„ä¾‹å­ï¼š</p>
<ul>
<li><p>é¢å‘å¯¹è±¡å°±æ˜¯å…ˆè®¾è®¡ä¸€ä¸ªæˆ¿å­çš„å›¾çº¸ï¼Œç„¶åæŒ‰ç…§å›¾çº¸çš„è®¾è®¡å»å»ºé€ ä¸€ä¸ªæˆ¿å­</p>
</li>
<li><p>åŸºäºå¯¹è±¡å°±æ˜¯å…ˆå»ºé€ ä¸€ä¸ªæˆ¿å­ï¼Œç„¶åæ ¹æ®å·²æœ‰çš„æˆ¿å­çš„æ ·å­å†å»å»ºé€ ä¸€ä¸ªæˆ¿å­</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
</li>
<li><p>é¢å‘å¯¹è±¡ï¼š å…ˆæœ‰ä¸€ä¸ªå¯¹è±¡çš„æŠ½è±¡æè¿°ï¼ˆç±»ï¼‰ï¼Œç„¶åæ ¹æ®è¿™ä¸ªç±»å»æ„å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</p>
</li>
<li><p>åŸºäºå¯¹è±¡ï¼šç°æœ‰ä¸€ä¸ªå…·ä½“å¯¹è±¡ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œå»åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</p>
<p>ç”±æ­¤çœ‹æ¥jsä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„å­å¯¹è±¡ã€‚</p>
<p>é¢å‘å¯¹è±¡çš„ä¸‰å¤§åŸºæœ¬ç‰¹å¾ï¼šå°è£…ï¼Œå¤šæ€ï¼Œç»§æ‰¿ï¼Œç„¶è€ŒåŸºäºå¯¹è±¡å’Œé¢å‘å¯¹è±¡æœ€å¤§çš„åŒºåˆ«ä¹Ÿåœ¨è¿™é‡Œï¼ŒåŸºäºå¯¹è±¡è™½ç„¶ä¹Ÿä½¿ç”¨äº†å¯¹è±¡ï¼Œä½†æ˜¯æ— æ³•åˆ©ç”¨ç°æœ‰å¯¹è±¡æ¨¡æ¿äº§ç”Ÿæ–°çš„å¯¹è±¡ç±»å‹ï¼Œäº§ç”Ÿæ–°çš„å¯¹è±¡ï¼Œæ‰€ä»¥å°±æ²¡æœ‰ç»§æ‰¿è¿™ä¸€è¯´ï¼Œæ²¡æœ‰ç»§æ‰¿ä¹Ÿå°±æ²¡æœ‰å¤šæ€äº†ã€‚</p>
</li>
</ul>
<blockquote>
<p>å¤šæ€ä½“ç°çš„å°±æ˜¯ç»§æ‰¿ï¼Œä¸€èˆ¬ä½“ç°åœ¨æŠ½è±¡ç±»ä¸Šã€‚jsè¯­è¨€åŸºäºå¯¹è±¡ï¼Œå®ƒå°è£…äº†ä¸€äº›å¯¹è±¡ï¼Œè°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œè®¾ç½®å¯¹è±¡çš„å±æ€§ï¼Œä½†æ˜¯æ²¡åŠæ³•äº§ç”Ÿæ–°çš„ç±»ï¼Œåªèƒ½ä½¿ç”¨ç°æœ‰çš„å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ã€‚  </p>
</blockquote>
<h1 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h1><p>æˆ‘ä»¬åœ¨jsä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨newå…³é”®å­—ï¼Œä»–å…·ä½“åšäº†ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Œå…¶å®ä»–å°±å¹²äº†ä¸‰ä»¶äº‹</p>
<ul>
<li><ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡: <code>var obj = {}</code></li>
</ol>
</li>
<li><ol start="2">
<li>ä½¿è¿™ä¸ªç©ºå¯¹è±¡çš„<em>proto</em>æŒ‡å‘åŸºå‡½æ•°prototype : <code>obj._proto_ = Basr.prototype</code></li>
</ol>
</li>
<li><ol start="3">
<li>å°†åŸºå‡½æ•°çš„thisæŒ‡å‘æ”¹ä¸ºæ–°çš„å¯¹è±¡: <code>Base.call(obj)</code></li>
</ol>
</li>
</ul>
<p>å…¶å®ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯ Function çš„å®ä¾‹ã€‚åœ¨æ„é€ å‡½æ•°ä¸Šéƒ½æœ‰ä¸€ä¸ªåŸå‹å±æ€§ prototypeï¼Œè¯¥å±æ€§ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›é‚£ä¹ˆåœ¨åŸå‹å¯¹è±¡ä¸Šæœ‰ä¸€ä¸ª constructor å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘çš„å°±æ˜¯æ„é€ å‡½æ•°ï¼›è€Œå®ä¾‹å¯¹è±¡ä¸Šæœ‰ä¸€ä¸ª <em>proto</em>  å±æ€§ï¼Œè¯¥å±æ€§ä¹ŸæŒ‡å‘åŸå‹å¯¹è±¡ï¼Œå¹¶ä¸”è¯¥å±æ€§ä¸æ˜¯æ ‡å‡†å±æ€§ï¼Œä¸å¯ä»¥ç”¨åœ¨ç¼–ç¨‹ä¸­ï¼Œè¯¥å±æ€§ç”¨äºæµè§ˆå™¨å†…éƒ¨ä½¿ç”¨ã€‚</p>
<pre><code>// _proto_
åœ¨å‡½æ•°é‡Œæœ‰ä¸€ä¸ªå±æ€§prototype
ç”±è¯¥å‡½æ•°åˆ›å»ºçš„å¯¹è±¡é»˜è®¤ä¼šè¿æ¥åˆ°è¯¥å±æ€§ä¸Š
    //prototype ä¸ _proto_ çš„å…³ç³»
_proto_æ˜¯ç«™åœ¨å¯¹è±¡è§’åº¦æ¥è¯´çš„
prototype æ˜¯ç«™åœ¨æ„é€ å‡½æ•°è§’åº¦æ¥è¯´çš„
</code></pre><p>æ‰€è°“åŸå‹é“¾å°±æ˜¯æœ‰é™çš„å®ä¾‹å¯¹è±¡å’ŒåŸå‹ä¹‹é—´ç»„æˆæœ‰é™é“¾ï¼Œå°±æ˜¯ç”¨æ¥å®ç°å…±äº«å±æ€§å’Œç»§æ‰¿çš„ã€‚ä¸€ä¸ªå¯¹è±¡æœ‰åŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œä¸€ä¸ªå¯¹è±¡çš„æœ«çº§åŸå‹å¯¹è±¡ä¹Ÿå°±æ˜¯Objectçš„åŸå‹å¯¹è±¡æ˜¯nullã€‚</p>
<pre><code>// åŸå‹é“¾ç¤ºä¾‹
 7    var arr = [];
 8    arr -&gt; Array.prototype -&gt;Object.prototype -&gt; null
 9    var o = new Object();
10    o -&gt; Object.prototype -&gt; null;
</code></pre><h1 id="jsé¢å‘å¯¹è±¡"><a href="#jsé¢å‘å¯¹è±¡" class="headerlink" title="jsé¢å‘å¯¹è±¡"></a>jsé¢å‘å¯¹è±¡</h1><p>  es5é¢å‘å¯¹è±¡ç»§æ‰¿å®ç°ï¼š</p>
<pre><code>    function Animal() { }
    function Dog() { }
    Object.defineProperties(Animal.prototype, {
    name: {
        value() {
        return &#39;Animal&#39;;
        }
    },
    say: {
        value() {
        return `I &#39; m ${this.name()}`
        }
    }
    })
    Dog.prototype = Object.create(Animal.prototype);
    console.log(new Dog().say());  // è¾“å‡º  I&#39;m Animal
</code></pre><p>å¤šæ€å°±æ˜¯å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•</p>
<pre><code>    function Animal() { }
    function Dog() { }
    Object.defineProperties(Animal.prototype, {
    name: {
        value() {
        return &#39;Animal&#39;;
        }
    },
    say: {
        value() {
        return `I &#39; m ${this.name()}`
        }
    }
    })
    Dog.prototype = Object.create(Animal.prototype, {
        name: {
            value() {
            return &#39;Lucy&#39;;
            }
        }
    });
    console.log(new Dog().say());  // è¾“å‡º  I&#39;m Lucy
</code></pre><p>  åœ¨es6ä¸­æä¾›äº†è¯­æ³•ç³– ï¼Œä¸€å®šç¨‹åº¦ä¸Šç®€åŒ–äº†ç»§æ‰¿ä¸å¤šæ€çš„å®ç°ï¼š</p>
<pre><code>    class Person {
        say() {
            console.log(&#39;æˆ‘å§“&#39; + this.xs);
        }
    }

    class PersonZ extends Person {
         xs = &#39;å¼ &#39;;
    }


    new PersonZ().say();  // è¾“å‡º  æˆ‘å§“å¼ 
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>js</tag>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ¬è™«åˆ©å™¨Puppeteer</title>
    <url>/2021/10/31/Puppeteer/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>Puppeteer ç¿»è¯‘æ˜¯æ“çºµæœ¨å¶çš„äººï¼Œåˆ©ç”¨è¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬èƒ½åšä¸€ä¸ªæ“çºµé¡µé¢çš„äººã€‚Puppeteeræ˜¯ä¸€ä¸ªNodejsçš„åº“ï¼Œæ”¯æŒè°ƒç”¨Chromeçš„APIæ¥æ“çºµWebï¼Œç›¸æ¯”è¾ƒSeleniumæˆ–æ˜¯PhantomJs,å®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å®ƒçš„æ“ä½œDomå¯ä»¥å®Œå…¨åœ¨å†…å­˜ä¸­è¿›è¡Œæ¨¡æ‹Ÿæ—¢åœ¨V8å¼•æ“ä¸­å¤„ç†è€Œä¸æ‰“å¼€æµè§ˆå™¨ï¼Œè€Œä¸”å…³é”®æ˜¯è¿™ä¸ªæ˜¯Chromeå›¢é˜Ÿåœ¨ç»´æŠ¤ï¼Œä¼šæ‹¥æœ‰æ›´å¥½çš„å…¼å®¹æ€§å’Œå‰æ™¯ã€‚</em></strong><br><a id="more"></a></p>
<h1 id="Puppeteerå¯ä»¥åšä»€ä¹ˆ"><a href="#Puppeteerå¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="Puppeteerå¯ä»¥åšä»€ä¹ˆ"></a>Puppeteerå¯ä»¥åšä»€ä¹ˆ</h1><ul>
<li>åˆ©ç”¨ç½‘é¡µç”ŸæˆPDFã€å›¾ç‰‡</li>
<li>çˆ¬å–SPAåº”ç”¨ï¼Œç”Ÿæˆé¢„æ¸²æŸ“å†…å®¹</li>
<li>å¯ä»¥ä»ç½‘ç«™æŠ“å–å†…å®¹</li>
<li>è‡ªåŠ¨åŒ–è¡¨å•æäº¤ã€UIæµ‹è¯•ã€é”®ç›˜è¾“å…¥ç­‰</li>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•</li>
<li>æ•è·ç«™ç‚¹çš„æ—¶é—´çº¿ï¼Œå¸®åŠ©ç«™é•¿åˆ†æç½‘ç«™æ€§èƒ½é—®é¢˜</li>
</ul>
<h1 id="Puppeteerä½¿ç”¨"><a href="#Puppeteerä½¿ç”¨" class="headerlink" title="Puppeteerä½¿ç”¨"></a>Puppeteerä½¿ç”¨</h1><h2 id="å®‰è£…Puppeteer"><a href="#å®‰è£…Puppeteer" class="headerlink" title="å®‰è£…Puppeteer"></a>å®‰è£…Puppeteer</h2><p> å¯ä»¥ç›´æ¥ä½¿ç”¨npmå»å®‰è£…puppeteer</p>
<pre><code> npm i puppeteer
</code></pre><p> <a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pageclickselector-options" target="_blank" rel="noopener">puppeteer API</a></p>
<h2 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h2><ul>
<li>const browser = await puppeteer.launch() å¯åŠ¨æµè§ˆå™¨å®ä¾‹,å¾—åˆ°ä¸€ä¸ªæµè§ˆå™¨å®ä¾‹</li>
<li>const page = await browser.newPage() å¾—åˆ°ä¸€ä¸ªæ–°çš„é¡µé¢</li>
<li><p>await page.goto([URL]) è·³è½¬åˆ°æŸä¸€é¡µ</p>
<h1 id="å°DEMO"><a href="#å°DEMO" class="headerlink" title="å°DEMO"></a>å°DEMO</h1><pre><code>const puppeteer = require(&#39;puppeteer&#39;);
(async ()=&gt;{
const browser = await puppeteer.launch({headless: false}); //è·å¾—ä¸€ä¸ªæµè§ˆå™¨å®ä¾‹
const page = await browser.newPage(); //å¾—åˆ°ä¸€ä¸ªæµè§ˆå™¨é¡µé¢å®ä¾‹
await page.goto(&#39;http://localhost:8000&#39;); // è·³è½¬åˆ°æŒ‡å®šURL
await page.waitFor(5000); //ç­‰å¾…5s
await page.focus(&#39;#username&#39;); // ä½¿idä¸ºusernameçš„å…ƒç´ è·å¾—ç„¦ç‚¹
await page.type(&#39;#username&#39;, &#39;13131313132&#39;, {delay: 100}); // åœ¨idä¸ºusernameçš„è¾“å…¥æ¡†è¾“å…¥æŒ‡å®šå­—ç¬¦ä¸²ï¼Œæ¯å­—ç¬¦é—´å»¶æ—¶100ms
await page.focus(&#39;#password&#39;);
await page.type(&#39;#password&#39;, &#39;hand1234&#39;, {delay: 100});
await page.click(&#39;#submitLogin&#39;); //ç‚¹å‡»idä¸ºsubmitLoginçš„æŒ‰é’®
await page.waitFor(5000);
const result = await page.evaluate(()=&gt;{ //åœ¨è¿™ä¸ªå‡½æ•°ä¸­å¯ä»¥å‘é¡µé¢åµŒå…¥è„šæœ¬ï¼Œä½¿ç”¨jsä¸ºæ‰€æ¬²ä¸ºäº†
 alert(111);

 return {}
})
})()
</code></pre></li>
</ul>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>Nodejs</category>
      </categories>
      <tags>
        <tag>node</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>ES6æ–°ç‰¹æ€§</title>
    <url>/2021/07/12/es6day1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ES6æ˜¯EMCAScriptæ ‡å‡†çš„ç¬¬6æ¬¡é‡å¤§æ”¹ç‰ˆ</em></strong><br><a id="more"></a></p>
<h1 id="es6å˜é‡ç›¸è¾ƒäºes5çš„ä¸»è¦åŒºåˆ«"><a href="#es6å˜é‡ç›¸è¾ƒäºes5çš„ä¸»è¦åŒºåˆ«" class="headerlink" title="es6å˜é‡ç›¸è¾ƒäºes5çš„ä¸»è¦åŒºåˆ«"></a>es6å˜é‡ç›¸è¾ƒäºes5çš„ä¸»è¦åŒºåˆ«</h1><h2 id="1ã€ä¸å­˜åœ¨å˜é‡æå‡"><a href="#1ã€ä¸å­˜åœ¨å˜é‡æå‡" class="headerlink" title="1ã€ä¸å­˜åœ¨å˜é‡æå‡"></a>1ã€ä¸å­˜åœ¨å˜é‡æå‡</h2><pre><code>    console.log(a); //è¾“å‡ºundefined
    var a = 0;
    console.log(b); //æŠ¥é”™ å˜é‡bæœªå®šä¹‰
    let b = 2;
</code></pre><p>ä½¿ç”¨varå®šä¹‰çš„å˜é‡å­˜åœ¨å˜é‡æå‡çš„ç°è±¡ï¼Œå°±æ˜¯åœ¨å˜é‡è¢«å®šä¹‰ä¹‹å‰å¯ä»¥å¼•ç”¨ï¼Œå€¼ä¸ºundefinedï¼Œè€Œä½¿ç”¨letå®šä¹‰çš„å˜é‡ä¸å­˜åœ¨å˜é‡æå‡çš„ç°è±¡ï¼Œæ‰€ä»¥åœ¨å®šä¹‰ä¹‹å‰å¼•ç”¨ä¼šæŠ¥é”™</p>
<h2 id="2ã€ä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal-dead-zoneï¼Œç®€ç§°-TDZï¼‰"><a href="#2ã€ä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal-dead-zoneï¼Œç®€ç§°-TDZï¼‰" class="headerlink" title="2ã€ä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼Œç®€ç§° TDZï¼‰"></a>2ã€ä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼Œç®€ç§° TDZï¼‰</h2><p>ä»€ä¹ˆæ˜¯TDZå‘¢ï¼Ÿ</p>
<p>æˆ‘ä¸ªäººçš„ç†è§£æ˜¯ï¼šä»å—çº§ä½œç”¨åŸŸçš„å¼€å§‹èµ·ï¼Œç›´åˆ°letå…³é”®å­—å£°æ˜ä¸€ä¸ªå˜é‡ç»“æŸçš„è¿™æ®µåŒºåŸŸå°±æ˜¯è¯¥å˜é‡çš„TDZï¼Œä¸‹è¾¹ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<pre><code>var a = 1;
{
//TDZå¼€å§‹
    console.log(a); //æŠ¥é”™  Uncaught ReferenceError
    let a = 2; //TDZç»“æŸ
    console.log(a);//2
}

</code></pre><p>åœ¨å…¨å±€æœ‰ä¸€ä¸ªaå˜é‡ï¼Œåœ¨ä»£ç å—é‡Œåˆç”¨äº†letå…³é”®å­—å£°æ˜äº†ä¸€ä¸ªaå˜é‡ï¼Œè¿™æ—¶å€™aå˜é‡å°±ç»‘å®šäº†è¯¥å—çº§ä½œç”¨åŸŸï¼Œåœ¨è¿™ä¸ªå—çº§ä½œç”¨åŸŸä¸­letå£°æ˜aä¹‹å‰éƒ½å±äºaå˜é‡çš„TDZï¼Œåœ¨ä¸€ä¸ªå˜é‡çš„TDZä¸­å¼•ç”¨å®ƒéƒ½ä¼šæŠ¥Uncaught ReferenceErroré”™è¯¯ï¼Œè¿™å°±å¯¼è‡´äº†typeofæ“ä½œå¹¶ä¸èƒ½ä¿è¯100%å®‰å…¨ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code>typeof a // undefined
var a = 1;
typeof b //Uncaught ReferenceError
let b =1;
typeof c //undefined å˜é‡æœªå£°æ˜çš„è¯åè€Œæ˜¯å®‰å…¨çš„
</code></pre><h2 id="3ã€å˜é‡ä¸å¯é‡å¤å£°æ˜"><a href="#3ã€å˜é‡ä¸å¯é‡å¤å£°æ˜" class="headerlink" title="3ã€å˜é‡ä¸å¯é‡å¤å£°æ˜"></a>3ã€å˜é‡ä¸å¯é‡å¤å£°æ˜</h2><p>es5ä¸­å­˜åœ¨å˜é‡è¦†ç›–çš„ç°è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´varå£°æ˜çš„å˜é‡å¯ä»¥é‡åï¼Œè€Œes6ä¸­çš„letå’Œconstå˜é‡ä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå‡ºç°åŒåå˜é‡ï¼Œåªè¦åœ¨ä¸€ä¸ªå—çº§ä½œç”¨åŸŸæœ‰letæˆ–è€…constå˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡å°±ä¸å¯ä»¥é‡åï¼Œè·Ÿä¸Šè¾¹è¯´çš„å˜é‡ç»‘å®šä¸€æ ·ï¼š</p>
<pre><code>{
    let a = 1;
    var a = 1;//æŠ¥é”™
    let b = 1;
    let b = 2;//æŠ¥é”™
    var c = 3;
    let c = 5;//æŠ¥é”™
}
</code></pre><p><strong><em>ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼ŒES6 è§„å®šï¼Œå—çº§ä½œç”¨åŸŸä¹‹ä¸­ï¼Œå‡½æ•°å£°æ˜è¯­å¥çš„è¡Œä¸ºç±»ä¼¼äºletï¼Œåœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¸å¯å¼•ç”¨ã€‚</em></strong></p>
<h1 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h1><p>é˜®ä¸€å³°å¤§ä½¬çš„ã€ŠECMAScript 6 å…¥é—¨ã€‹ä¸€ä¹¦ä¸­å¯¹äºç»“æ„å¤åˆ¶çš„è§£é‡Šç›¸å½“ç®€å•æ˜äº†ï¼Œä»–æ˜¯è¿™æ ·è¯´çš„ï¼šES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰ã€‚</p>
<p>ä»€ä¹ˆæ˜¯æ¨¡å¼åŒ¹é…å‘¢ï¼Ÿä¸ªäººç†è§£å°±æ˜¯â€œ=â€å·¦å³ä¸¤è¾¹çš„æ•°æ®çš„â€œç»“æ„â€æ˜¯ä¸€æ ·å°±å¯ä»¥ï¼Œæœ€ç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code>let [a, b, c] = [1, 2, 3];//a=1 b=2 c=3
</code></pre><p>æ²¡é”™å°±æ˜¯è¿™ä¹ˆç®€å•</p>
<p>é‚£ä¹ˆä»€ä¹ˆæ ·çš„æ•°æ®ç±»å‹å¯ä»¥è¢«è§£æ„å‘¢ï¼Ÿå¤§ä½¬è¯´ï¼šâ€œå¯éå†çš„ç»“æ„å°±å¯ä»¥è¢«è§£æ„â€ï¼Œæˆ‘ä»¬æš‚æ—¶å¯ä»¥ç†è§£ä¸ºå…·æœ‰lengthå±æ€§çš„æ•°æ®ç±»å‹éƒ½å¯ä»¥è¢«è§£æ„ï¼Œæ¯”å¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>let [a,b,c] = &#39;qwe&#39;; // a = &#39;q&#39; b = &#39;w&#39; c = &#39;e&#39;
let {name,age}  = {
    name : &#39;qqq&#39;,
    age : 2
} // name = &#39;qqq&#39;  age = 2
//æ”¯æŒå¤æ‚æ•°æ®ç±»å‹çš„è§£æ„
let {code,json:{data}} = {
    code : 2,
    json : {
        data : [1,2,3]
    }
}// code = 2 data = 123
</code></pre><p>è§£æ„èµ‹å€¼å…è®¸ä¸å®Œå…¨è§£æ„</p>
<hr>
<p>è§£æ„èµ‹å€¼å…è®¸è®¾ç½®é»˜è®¤å€¼,å½“å˜é‡å¯¹åº”çš„è¢«ç»“æ„çš„æ•°æ®ä¸­çš„undefinedçš„æ—¶å€™ï¼Œé»˜è®¤å€¼æ‰ä¼šç”Ÿæ•ˆï¼Œè€Œä¸”è¦æ˜¯é»˜è®¤å€¼ä¸ºå¾…è®¡ç®—çš„å€¼ï¼ˆå‡½æ•°æˆ–è€…è¡¨è¾¾å¼ï¼‰çš„æ—¶å€™ï¼Œåªæœ‰é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ—¶å€™æ‰ä¼šå»è®¡ç®—å®ƒçš„å€¼ï¼Œè¿™å«æƒ°æ€§æ±‚å€¼ï¼Œä¸Šä»£ç ï¼š</p>
<pre><code>let [,b=1] = [1,4]; //b = 4 å› ä¸ºè¢«è§£æ„çš„æ•°æ®ä¸­å­˜åœ¨bå¯¹åº”çš„å€¼ï¼Œæ‰€ä»¥é»˜è®¤å€¼ä¸ç”Ÿæ•ˆ
let [,b=2] = [1]; //b = 2 
//æƒ°æ€§æ±‚å€¼
let a = funtion () {
    console.log(&#39;æ±‚å€¼&#39;)
    return 4;
}
let [,b = a()] = [1,2]// b  = 2 æ§åˆ¶å°ä¸æ‰“å°&#39;æ±‚å€¼&#39;
let [,b = a()] = [2]// b  = 4 æ§åˆ¶å°æ‰“å°&#39;æ±‚å€¼&#39;
</code></pre><h2 id="æœ‰ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„ï¼šåœ¨è§£æ„èµ‹å€¼ä¹‹ä¸­èƒ½ä¸ç”¨åœ†æ‹¬å·å°±ä¸è¦ç”¨åœ†æ‹¬å·"><a href="#æœ‰ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„ï¼šåœ¨è§£æ„èµ‹å€¼ä¹‹ä¸­èƒ½ä¸ç”¨åœ†æ‹¬å·å°±ä¸è¦ç”¨åœ†æ‹¬å·" class="headerlink" title="æœ‰ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„ï¼šåœ¨è§£æ„èµ‹å€¼ä¹‹ä¸­èƒ½ä¸ç”¨åœ†æ‹¬å·å°±ä¸è¦ç”¨åœ†æ‹¬å·"></a>æœ‰ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„ï¼šåœ¨è§£æ„èµ‹å€¼ä¹‹ä¸­èƒ½ä¸ç”¨åœ†æ‹¬å·å°±ä¸è¦ç”¨åœ†æ‹¬å·</h2><h1 id="es6å‡½æ•°çš„æ‰©å±•å¸¸ç”¨ç‚¹"><a href="#es6å‡½æ•°çš„æ‰©å±•å¸¸ç”¨ç‚¹" class="headerlink" title="es6å‡½æ•°çš„æ‰©å±•å¸¸ç”¨ç‚¹"></a>es6å‡½æ•°çš„æ‰©å±•å¸¸ç”¨ç‚¹</h1><h2 id="1ã€å‡½æ•°å‚æ•°å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼"><a href="#1ã€å‡½æ•°å‚æ•°å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼" class="headerlink" title="1ã€å‡½æ•°å‚æ•°å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼"></a>1ã€å‡½æ•°å‚æ•°å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼</h2><p>è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ï¼š</p>
<pre><code>function fun (a , b = 8) {
    return [a,b];
}
fun(1,2); //[1,2]
fun(1); //[1,8]
</code></pre><h2 id="éœ€è¦æ³¨æ„çš„æ˜¯ï¼š"><a href="#éœ€è¦æ³¨æ„çš„æ˜¯ï¼š" class="headerlink" title="éœ€è¦æ³¨æ„çš„æ˜¯ï¼š"></a>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</h2><p><strong><em>1ã€å‡½æ•°çš„å‚æ•°æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨letæˆ–è€…constå…³é”®å­—å†æ¬¡å£°æ˜ï¼Œå¦‚ä¸‹é”™è¯¯æ“ä½œ</em></strong></p>
<pre><code>function fun (x = 6) {
    let x = 5;
    const x = 3;
}
</code></pre><p><strong><em>2ã€å½“ä½¿ç”¨å‡½æ•°é»˜è®¤å‚æ•°æ—¶å‡½æ•°çš„å½¢å‚ä¹Ÿä¸å…è®¸æœ‰åŒåï¼š</em></strong></p>
<pre><code>// ä¸æŠ¥é”™
function fun(x, x, y) {
  // ...
}

// æŠ¥é”™
function fun(x, x, y = 1) {
  // ...
}
// SyntaxError: Duplicate parameter name not allowed in this context
</code></pre><h2 id="2ã€restå‚æ•°"><a href="#2ã€restå‚æ•°" class="headerlink" title="2ã€restå‚æ•°"></a>2ã€restå‚æ•°</h2><p>åœ¨es6ä»¥å‰å‡½æ•°å†…éƒ¨æœ‰ä¸€ä¸ªå«argumentsçš„ç±»æ•°ç»„å¯¹è±¡ä¿å­˜ç€å‡½æ•°çš„å‚æ•°ï¼Œåœ¨es6ä¸­å¼•è¿›äº†ä¸€ç§æ–°çš„å‚æ•°ï¼Œå«restå‚æ•°ï¼Œè¯¥å‚æ•°è¡¨ç¤ºå½¢å¼ä¸ºï¼ˆâ€¦å‚æ•°åï¼‰æ¥ä»£æ›¿argumentså¯¹è±¡æ¥è¡¨ç¤ºå‡½æ•°å¤šä½™çš„å‚æ•°,è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¸‹è¾¹æ˜¯ä½¿ç”¨restå‚æ•°å®Œæˆæ±‚å’ŒåŠŸèƒ½çš„ä¸€ä¸ªå‡½æ•°ï¼š</p>
<pre><code>function add (...nums){
    let sum = 0;
    for(let v of nums){
        sum+=v
    }
    return sum;
}
console.log(add(1,2,3)) // 6
</code></pre><h3 id="éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æœ‰ä¸¤ç‚¹ï¼š"><a href="#éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æœ‰ä¸¤ç‚¹ï¼š" class="headerlink" title="éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æœ‰ä¸¤ç‚¹ï¼š"></a>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æœ‰ä¸¤ç‚¹ï¼š</h3><p><strong><em>1ã€restå‚æ•°ä¹‹åä¸èƒ½æœ‰å…¶ä»–å‚æ•°</em></strong></p>
<pre><code>function fun (x , ...values , y){

}//Uncaught SyntaxError: Rest parameter must be last formal parameter
</code></pre><p><strong><em>2ã€å‡½æ•°çš„lengthå±æ€§ä¸è®¡ç®—restå‚æ•°</em></strong></p>
<pre><code>function fun (x,y,...values){

}
console.log(fun.length) // 2
</code></pre><h2 id="3ã€ç®­å¤´å‡½æ•°"><a href="#3ã€ç®­å¤´å‡½æ•°" class="headerlink" title="3ã€ç®­å¤´å‡½æ•°"></a>3ã€ç®­å¤´å‡½æ•°</h2><p>ç®­å¤´å‡½æ•°æ˜¯es6ä¸­åŠ å…¥æ ‡å‡†çš„ä¸€ç§ç±»ä¼¼äºLambdaæ‹‰å§†è¾¾è¡¨è¾¾å¼çš„è¯­æ³•ç³–å§ï¼Œçº¯å±ä¸ªäººç†è§£ï¼Œè¯ä¸å¤šè¯´ç›´æ¥ä¸Šä»£ç ï¼š</p>
<pre><code>var f = v =&gt; v;

// ç­‰åŒäº
var f = function (v) {
  return v;
};
var f = () =&gt; 5;
// ç­‰åŒäº
var f = function () { return 5 };

var sum = (num1, num2) =&gt; num1 + num2;
// ç­‰åŒäº
var sum = function(num1, num2) {
  return num1 + num2;
};
</code></pre><p>ç”¨èµ·æ¥æ˜¯ç›¸å½“æ–¹ä¾¿å•Šï¼Œä¸è¿‡åœ¨ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<p><strong><em>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´thiså¯¹è±¡çš„æŒ‡å‘æ˜¯å¯å˜çš„ï¼Œä½†åœ¨ç®­å¤´å‡½æ•°ä¸­thiså¯¹è±¡çš„æŒ‡å‘æ˜¯å›ºå®šçš„ã€‚</em></strong></p>
<pre><code>function foo() {
  setTimeout(() =&gt; {
    console.log(&#39;id:&#39;, this.id);
  }, 100);
}

var id = 21;

foo.call({ id: 42 });
</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒsetTimeoutçš„å‚æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿™ä¸ªç®­å¤´å‡½æ•°çš„å®šä¹‰ç”Ÿæ•ˆæ˜¯åœ¨fooå‡½æ•°ç”Ÿæˆæ—¶ï¼Œè€Œå®ƒçš„çœŸæ­£æ‰§è¡Œè¦ç­‰åˆ° 100 æ¯«ç§’åã€‚å¦‚æœæ˜¯æ™®é€šå‡½æ•°ï¼Œæ‰§è¡Œæ—¶thisåº”è¯¥æŒ‡å‘å…¨å±€å¯¹è±¡windowï¼Œè¿™æ—¶åº”è¯¥è¾“å‡º21ã€‚ä½†æ˜¯ï¼Œç®­å¤´å‡½æ•°å¯¼è‡´thisæ€»æ˜¯æŒ‡å‘å‡½æ•°å®šä¹‰ç”Ÿæ•ˆæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼ˆæœ¬ä¾‹æ˜¯{id: 42}ï¼‰ï¼Œæ‰€ä»¥è¾“å‡ºçš„æ˜¯42ã€‚</p>
<p><strong><em>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</em></strong></p>
<p><strong><em>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚</em></strong></p>
<p><strong><em>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚</em></strong></p>
<h3 id="æœ‰ä¸¤ç§åœºåˆä¸é€‚åˆä½¿ç”¨ç®­å¤´å‡½æ•°"><a href="#æœ‰ä¸¤ç§åœºåˆä¸é€‚åˆä½¿ç”¨ç®­å¤´å‡½æ•°" class="headerlink" title="æœ‰ä¸¤ç§åœºåˆä¸é€‚åˆä½¿ç”¨ç®­å¤´å‡½æ•°"></a>æœ‰ä¸¤ç§åœºåˆä¸é€‚åˆä½¿ç”¨ç®­å¤´å‡½æ•°</h3><h4 id="1ã€å®šä¹‰å¯¹è±¡çš„æ–¹æ³•ï¼Œä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬thisã€‚"><a href="#1ã€å®šä¹‰å¯¹è±¡çš„æ–¹æ³•ï¼Œä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬thisã€‚" class="headerlink" title="1ã€å®šä¹‰å¯¹è±¡çš„æ–¹æ³•ï¼Œä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬thisã€‚"></a>1ã€å®šä¹‰å¯¹è±¡çš„æ–¹æ³•ï¼Œä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬thisã€‚</h4><pre><code>const cat = {
  lives: 9,
  jumps: () =&gt; {
    this.lives--;
  }
}
</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œcat.jumps()æ–¹æ³•æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿™æ˜¯é”™è¯¯çš„ã€‚è°ƒç”¨cat.jumps()æ—¶ï¼Œå¦‚æœæ˜¯æ™®é€šå‡½æ•°ï¼Œè¯¥æ–¹æ³•å†…éƒ¨çš„thisæŒ‡å‘catï¼›å¦‚æœå†™æˆä¸Šé¢é‚£æ ·çš„ç®­å¤´å‡½æ•°ï¼Œä½¿å¾—thisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œå› æ­¤ä¸ä¼šå¾—åˆ°é¢„æœŸç»“æœã€‚è¿™æ˜¯å› ä¸ºå¯¹è±¡ä¸æ„æˆå•ç‹¬çš„ä½œç”¨åŸŸï¼Œå¯¼è‡´jumpsç®­å¤´å‡½æ•°å®šä¹‰æ—¶çš„ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ä½œç”¨åŸŸã€‚</p>
<h4 id="2ã€éœ€è¦åŠ¨æ€thisçš„æ—¶å€™ï¼Œä¹Ÿä¸åº”ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚"><a href="#2ã€éœ€è¦åŠ¨æ€thisçš„æ—¶å€™ï¼Œä¹Ÿä¸åº”ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚" class="headerlink" title="2ã€éœ€è¦åŠ¨æ€thisçš„æ—¶å€™ï¼Œä¹Ÿä¸åº”ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚"></a>2ã€éœ€è¦åŠ¨æ€thisçš„æ—¶å€™ï¼Œä¹Ÿä¸åº”ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚</h4><pre><code>var button = document.getElementById(&#39;press&#39;);
button.addEventListener(&#39;click&#39;, () =&gt; {
  this.classList.toggle(&#39;on&#39;);
});
</code></pre><p>ä¸Šé¢ä»£ç è¿è¡Œæ—¶ï¼Œç‚¹å‡»æŒ‰é’®ä¼šæŠ¥é”™ï¼Œå› ä¸ºbuttonçš„ç›‘å¬å‡½æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œå¯¼è‡´é‡Œé¢çš„thiså°±æ˜¯å…¨å±€å¯¹è±¡ã€‚å¦‚æœæ”¹æˆæ™®é€šå‡½æ•°ï¼Œthiså°±ä¼šåŠ¨æ€æŒ‡å‘è¢«ç‚¹å‡»çš„æŒ‰é’®å¯¹è±¡ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœå‡½æ•°ä½“å¾ˆå¤æ‚ï¼Œæœ‰è®¸å¤šè¡Œï¼Œæˆ–è€…å‡½æ•°å†…éƒ¨æœ‰å¤§é‡çš„è¯»å†™æ“ä½œï¼Œä¸å•çº¯æ˜¯ä¸ºäº†è®¡ç®—å€¼ï¼Œè¿™æ—¶ä¹Ÿä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œè€Œæ˜¯è¦ä½¿ç”¨æ™®é€šå‡½æ•°ï¼Œè¿™æ ·å¯ä»¥æé«˜ä»£ç å¯è¯»æ€§ã€‚</p>
<h1 id="æ•°ç»„æ‰©å±•å¸¸ç”¨ç‚¹"><a href="#æ•°ç»„æ‰©å±•å¸¸ç”¨ç‚¹" class="headerlink" title="æ•°ç»„æ‰©å±•å¸¸ç”¨ç‚¹"></a>æ•°ç»„æ‰©å±•å¸¸ç”¨ç‚¹</h1><h2 id="1ã€æ‰©å±•è¿ç®—ç¬¦"><a href="#1ã€æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="1ã€æ‰©å±•è¿ç®—ç¬¦"></a>1ã€æ‰©å±•è¿ç®—ç¬¦</h2><p>æ•°ç»„çš„æ‰©å±•è¿ç®—ç¬¦è¡¨ç¤ºå½¢å¼ç±»ä¼¼äºå‡½æ•°çš„restå‚æ•°ä¹Ÿæ˜¯ï¼ˆâ€¦ï¼‰ï¼Œä½†æ˜¯å®ƒä½œç”¨æ­£å¥½æ˜¯restå‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚</p>
<pre><code>console.log(...[1, 2, 3])
// 1 2 3

console.log(1, ...[2, 3, 4], 5)
// 1 2 3 4 5

[...document.querySelectorAll(&#39;div&#39;)]
</code></pre><h3 id="æ‰©å±•è¿ç®—ç¬¦çš„å¸¸è§åº”ç”¨"><a href="#æ‰©å±•è¿ç®—ç¬¦çš„å¸¸è§åº”ç”¨" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦çš„å¸¸è§åº”ç”¨"></a>æ‰©å±•è¿ç®—ç¬¦çš„å¸¸è§åº”ç”¨</h3><p><strong><em>1ã€å¤åˆ¶æ•°ç»„</em></strong><br>çœ‹ä¸‹è¾¹è¿™æ®µä»£ç </p>
<pre><code>var arr1 = [1,2];
var arr2 = arr1;

arr2[0] = 2;
console.log(arr1) // [2,2]
</code></pre><p>æˆ‘ä»¬éƒ½çŸ¥é“æ•°ç»„æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œé‡‡ç”¨èµ‹å€¼çš„æ–¹å¼å¤åˆ¶æ•°ç»„æ˜¯ä¸å¯å–çš„ï¼Œå› ä¸ºarr1å’Œarr2éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ä¿®æ”¹arr2ä¼šæ”¹å˜arr1çš„å€¼ï¼Œåœ¨es5ä¸­è¦å¤åˆ¶æ•°ç»„åªèƒ½é€šè¿‡ä¸‹è¾¹çš„æ–¹å¼ï¼š</p>
<pre><code>var a1 = [1, 2];
var a2 = a1.concat();

a2[0] = 2;
a1 // [1, 2]
</code></pre><p>åœ¨es6ä¸­å¯ä»¥é€šè¿‡æ•°ç»„çš„æ‰©å±•è¿ç®—ç¬¦æ¥å¯¹æ•°ç»„è¿›è¡Œå¤åˆ¶ï¼Œè€Œä¸æ”¹å˜åŸæ¥çš„æ•°ç»„ï¼š</p>
<pre><code>const a1 = [1, 2];
// å†™æ³•ä¸€
const a2 = [...a1];
// å†™æ³•äºŒ
const [...a2] = a1;
</code></pre><p><strong><em>2ã€åˆå¹¶æ•°ç»„</em></strong></p>
<pre><code>const arr1 = [&#39;a&#39;, &#39;b&#39;];
const arr2 = [&#39;c&#39;];
const arr3 = [&#39;d&#39;, &#39;e&#39;];

// ES5 çš„åˆå¹¶æ•°ç»„
arr1.concat(arr2, arr3);
// [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39; ]

// ES6 çš„åˆå¹¶æ•°ç»„
[...arr1, ...arr2, ...arr3]
</code></pre><p>è¿™æ˜¯es5å’Œes6åˆå¹¶æ•°ç»„å†™æ³•ä¸Šçš„åŒºåˆ«</p>
<pre><code>const a1 = [{ foo: 1 }];
const a2 = [{ bar: 2 }];

const a3 = a1.concat(a2);
const a4 = [...a1, ...a2];

a3[0] === a1[0] // true
a4[0] === a1[0] // true
</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œa3å’Œa4æ˜¯ç”¨ä¸¤ç§ä¸åŒæ–¹æ³•åˆå¹¶è€Œæˆçš„æ–°æ•°ç»„ï¼Œä½†æ˜¯å®ƒä»¬çš„æˆå‘˜éƒ½æ˜¯å¯¹åŸæ•°ç»„æˆå‘˜çš„å¼•ç”¨ï¼Œè¿™å°±æ˜¯æµ…æ‹·è´ã€‚å¦‚æœä¿®æ”¹äº†åŸæ•°ç»„çš„æˆå‘˜ï¼Œä¼šåŒæ­¥åæ˜ åˆ°æ–°æ•°ç»„ã€‚</p>
<p><strong><em>3ã€ä¸è§£æ„èµ‹å€¼ç»“åˆ</em></strong></p>
<pre><code>const [first, ...rest] = [1, 2, 3, 4, 5];
first // 1
rest  // [2, 3, 4, 5]

const [first, ...rest] = [];
first // undefined
rest  // []

const [first, ...rest] = [&quot;foo&quot;];
first  // &quot;foo&quot;
rest   // []
</code></pre><p>è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šå¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<pre><code>const [...butLast, last] = [1, 2, 3, 4, 5];
// æŠ¥é”™

const [first, ...middle, last] = [1, 2, 3, 4, 5];
// æŠ¥é”™
</code></pre><p><strong><em>4ã€å°†å¯éå†å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„</em></strong></p>
<pre><code>let nodeList = document.querySelectorAll(&#39;div&#39;);
let array = [...nodeList];
[...&#39;hello&#39;] // [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]
</code></pre><p>æ‰€è°“å¯éå†å¯¹è±¡åœ¨es6ä¸­çš„å°±æ˜¯å®ç°äº†Iterator æ¥å£çš„å¯¹è±¡ï¼Œæ‰€ä»¥Map å’Œ Set ç»“æ„ï¼ŒGenerator å‡½æ•°è¿”å›çš„Generatorçš„</p>
<pre><code>let map = new Map([
  [1, &#39;one&#39;],
  [2, &#39;two&#39;],
  [3, &#39;three&#39;],
]);

let arr = [...map.keys()]; // [1, 2, 3]

const go = function*(){
  yield 1;
  yield 2;
  yield 3;
};

[...go()] // [1, 2, 3]
</code></pre><p>è¦æ³¨æ„å¦‚æœå¯¹æ²¡æœ‰å®ç°Iteratoræ¥å£çš„å¯¹è±¡ä¹Ÿå°±æ˜¯ä¸å¯éå†çš„å¯¹è±¡ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦çš„è¯ä¼šæŠ¥é”™</p>
<pre><code>let a = 1;
[...a] //Uncaught TypeError: number 1 is not iterable (cannot read property Symbol(Symbol.iterator))
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Javascript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>èµ·ç‚¹</title>
    <url>/2019/03/27/start/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>é‚£å¹´å¤å¤©ï¼Œæ‡µæ‡‚çš„æˆ‘æ€€æ£æ¢¦æƒ³ï¼Œå»äº†é‚£ä¸ªé™Œç”Ÿçš„åŸå¸‚</em></strong><br><strong><em>å¼€å§‹äº†æˆ‘çš„è¿½æ¢¦ä¹‹è·¯</em></strong><br><!-- ***ä¹Ÿé‡è§äº†å¥¹*** --><br><a id="more"></a></p>
<h3 id="æ¢¦æƒ³"><a href="#æ¢¦æƒ³" class="headerlink" title="æ¢¦æƒ³"></a>æ¢¦æƒ³</h3><p> <strong><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¢¦æƒ³è¿™ä¸ªå­—çœ¼å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œå¹¶ä¸é™Œç”Ÿã€‚æˆ‘ä»¬æ¯ä¸ªäººéƒ½æœ‰æˆ–æœ‰è¿‡æ¢¦æƒ³ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½ä¼šæœ‰ä¸åŒçš„æ¢¦æƒ³ã€‚å°æ—¶å€™æœ‰å°æ—¶å€™çš„æ¢¦æƒ³ï¼Œé•¿å¤§ä»¥åä¼šæœ‰é•¿å¤§ä»¥åçš„æ¢¦æƒ³ã€‚</em></strong></p>
<div id="aplayer-peFmmJkS" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">
				<pre class="aplayer-lrc-content">[00:36.530]å°æ—¶å€™çš„æˆ‘ åšç€ç¾çš„æ¢¦
[00:44.170]æ¢¦æƒ³ä¸­ é‚£ç‰‡å¤©ç©º å¥½åƒæŒ‚æ»¡ç¬‘å®¹
[00:50.930]é•¿å¤§åçš„æˆ‘ åšå®šç€ç¾æ¢¦
[00:58.910]å› ä¸ºæˆ‘ å·²æ…¢æ…¢æ‡‚ åŠªåŠ›å°±èƒ½æˆåŠŸ
[01:04.890]
[01:07.100]æˆ‘ä¸€ä¸ªäººçš„åŠ›é‡
[01:10.850]èƒ½å»é—¯ å°±ç®—è¦é£è¶Šæµ·æ´‹
[01:16.470]ä¹Ÿä¸èƒ½ é˜»æŒ¡æˆ‘å¯¹æ¢¦çš„æ¸´æœ›  [01:21.960]æˆ‘ä¸€ä¸ªäººçš„ä¿¡ä»° [01:25.600]åƒå¤ªé˜³ æ•£å‘ç€ç‚½çƒ­çš„å…‰ [01:31.180]èƒ½ç…§äº® æ‰€æœ‰å†…å¿ƒ ç°æš—çš„åœ°æ–¹ [01:38.240] [01:59.370]å¤©è¾¹çš„å½©è™¹ å€’æ˜ æˆ‘çš„æ¢¦ [02:06.890]è·¯è¾¹çš„ å½©è‰²éœ“è™¹ æµæ·Œç€æ„ŸåŠ¨ [02:14.300]é£å¹çš„æ¸©æŸ” å¸¦èµ°äº†æ²‰é‡ [02:22.400]æˆ‘è¦å’Œåˆ«äººä¸åŒ åšè‡ªå·±çš„è‹±é›„ [02:28.500] [02:29.579]æˆ‘ä¸€ä¸ªäººçš„åŠ›é‡ [02:33.950]èƒ½å»é—¯ å°±ç®—è¦é£è¶Šæµ·æ´‹ [02:39.340]ä¹Ÿä¸èƒ½ é˜»æŒ¡æˆ‘å¯¹æ¢¦çš„æ¸´æœ› [02:44.990]æˆ‘ä¸€ä¸ªäººçš„ä¿¡ä»° [02:48.750]åƒå¤ªé˜³ æ•£å‘ç€ç‚½çƒ­çš„å…‰ [02:54.410]èƒ½ç…§äº® æ‰€æœ‰å†…å¿ƒ ç°æš—çš„åœ°æ–¹ [03:01.290] [03:03.340]æˆ‘ä¸€ä¸ªäººçš„åŠ›é‡ [03:07.280]èƒ½å»é—¯ å°±ç®—è¦é£è¶Šæµ·æ´‹ [03:12.760]ä¹Ÿä¸èƒ½ é˜»æŒ¡æˆ‘å¯¹æ¢¦çš„æ¸´æœ› [03:18.250]æˆ‘ä¸€ä¸ªäººçš„ä¿¡ä»° [03:21.829]åƒå¤ªé˜³ æ•£å‘ç€ç‚½çƒ­çš„å…‰ [03:27.590]èƒ½ç…§äº® æ‰€æœ‰å†…å¿ƒ ç°æš—çš„åœ°æ–¹ [03:34.550] [03:37.829]å°æ—¶å€™çš„æˆ‘ åšç€ç¾çš„æ¢¦ [03:45.180]æ¢¦æƒ³ä¸­ é‚£ç‰‡å¤©ç©º å¥½åƒæŒ‚æ»¡ç¬‘å®¹ [03:51.890]é•¿å¤§åçš„æˆ‘ åšå®šç€ç¾æ¢¦ [03:59.890]å› ä¸ºæˆ‘ å·²æ…¢æ…¢æ‡‚ åŠªåŠ›å°±èƒ½æˆåŠŸ [04:06.180] [04:09.900]å°±èƒ½æˆåŠŸ [04:12.280]</pre>
			</div>
			<script>
				var ap = new APlayer({
					element: document.getElementById("aplayer-peFmmJkS"),
					narrow: false,
					autoplay: false,
					showlrc: 2,
					music: {
						title: "æ…¢æ…¢æ‡‚",
						author: "æ±ªè‹æ³·",
						url: "http://music.163.com/song/media/outer/url?id=165383.mp3",
						pic: "http://p1.music.126.net/k_WHGJoTvS6H7exsSnK1iA==/3304032446773006.jpg?param=130y130",
					}
				});
				window.aplayers || (window.aplayers = []);
				window.aplayers.push(ap);
			</script>
<p>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æˆ‘ä¸Šå°å­¦çš„æ—¶å€™ï¼Œçœ‹åˆ°å¤©ä¸Šçš„æ˜Ÿæ˜Ÿä¸€é—ªä¸€é—ªçš„ï¼Œæˆ‘å°±ä¼šæƒ³ï¼Œä¸ºä»€ä¹ˆå¤©ä¸Šçš„æ˜Ÿæ˜Ÿä¸ä¼šæ‰ä¸‹æ¥ï¼Œä¸ºä»€ä¹ˆä»–ä»¬ä¼šå‘å…‰ã€‚é‚£ä¸ªæ—¶å€™ï¼Œæˆ‘çš„æ¢¦æƒ³å°±æ˜¯é•¿å¤§ä¹‹ååšä¸€åå¤©æ–‡å­¦å®¶ã€‚å†é•¿å¤§äº›ä¹‹åï¼Œçœ‹åˆ°çˆ¸å¦ˆæ¯å¤©ç»™å­¦ç”Ÿä¸Šè¯¾ï¼Œæ¯å‘¨ä¼‘æ¯ä¸¤å¤©ï¼Œæ¯å¹´è¿˜æœ‰å¯’æš‘å‡ï¼Œå°±è§‰å¾—åšä¸€åäººæ°‘æ•™å¸ˆä¹ŸæŒºå¥½çš„ï¼Œäºæ˜¯é‚£ä¸ªæ—¶å€™æˆ‘çš„æ¢¦æƒ³å°±å˜æˆäº†é•¿å¤§åï¼Œåƒçˆ¸å¦ˆä¸€æ ·ï¼Œåšä¸€åäººæ°‘æ•™å¸ˆã€‚åæ¥ä¸Šäº†é«˜ä¸­ï¼Œæœ‰äº†ä¸€äº›ä¸ä¼—ä¸åŒçš„ç»å†ä¹‹åï¼Œæˆ‘æ„Ÿè§‰åˆ°äº†é‚£ç§åœ¨ç—…ç—›é¢å‰ä»€ä¹ˆä¹Ÿåšä¸äº†çš„æ— åŠ›ã€æ— åŠ©ã€ç»æœ›ã€‚æ‰€ä»¥ï¼Œé‚£ä¸ªæ—¶å€™ï¼Œæˆ‘çš„æ¢¦æƒ³å°±å˜æˆäº†åšä¸€ååŒ»ç”Ÿã€‚å†åæ¥ï¼Œä¸Šå¤§å­¦äº†ï¼Œæˆ‘çš„ä¸“ä¸šå¹¶ä¸æ˜¯ç†æƒ³ä¸­çš„åŒ»å­¦ä¸“ä¸šï¼Œè€Œæ˜¯ä»¥å‰ä»æ¥æ²¡æœ‰æƒ³è¿‡çš„â€œè½¯ä»¶å·¥ç¨‹â€ã€‚<br>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ…¢æ…¢çš„ï¼Œæˆ‘æ‡‚äº†ï¼Œæ¯ä¸ªäººå¹¶ä¸æ˜¯ç”Ÿæ¥å°±èƒ½ä¸é¡¾ä¸€åˆ‡çš„å»åšè‡ªå·±æƒ³åšçš„äº‹æƒ…ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰èƒ½åŠ›å»æ”¹å˜ç¤¾ä¼šï¼Œé‚£ä¹ˆå°±åªèƒ½ä¹–ä¹–çš„å¬ä»ç¤¾ä¼šçš„å®‰æ’ï¼Œæ¥æ”¹å˜è‡ªå·±ã€‚æ‰€ä»¥ï¼Œæˆ‘çš„æ¢¦æƒ³åˆå˜æˆäº†æ¯•ä¸šä¹‹ååšä¸€åè½¯ä»¶å·¥ç¨‹å¸ˆã€‚</p>
<p>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ°äº†é€‰æ‹©ç¼–ç¨‹è¯­è¨€çš„æ—¶å€™ï¼Œå‘¨å›´çš„äººéƒ½é€‰æ‹©äº†ç›®å‰ä¸–ç•Œä¸Šæœ€ç«çš„è¯­è¨€ä¹‹ä¸€ â€” Javaâ€¦â€¦.ä½†æ˜¯è¿™ä¸€æ¬¡æˆ‘ä¸æƒ³å¦¥åï¼Œæˆ‘æ¯…ç„¶å†³ç„¶çš„é€‰æ‹©äº†æˆ‘å–œæ¬¢çš„ç¼–ç¨‹è¯­è¨€ â€”-Javascript ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬å­¦æ ¡å¼€è®¾çš„æ‰€æœ‰è¯¾ç¨‹éƒ½æ˜¯å…³äºJavaçš„ï¼Œæˆ‘åªèƒ½å»è‡ªå·±æ‘¸ç´¢ï¼Œè‡ªå·±çœ‹ä¹¦æŸ¥èµ„æ–™å»å­¦ä¹ è¿™é—¨ä»æ¥æ²¡æœ‰æ¥è§¦è¿‡çš„è¯­è¨€ï¼Œä»¥è‡³äºæˆ‘è‡ªå­¦äº†ä¸¤ä¸‰ä¸ªæœˆè¿˜æ²¡æœ‰å…¥é—¨ã€‚ç›´åˆ°2017å¹´åœ£è¯èŠ‚çš„æ—¶å€™ï¼Œæˆ‘é‡åˆ°äº†æˆ‘çš„ç¬¬ä¸€ä¸ªå‰ç«¯çš„è€å¸ˆï¼Œæˆ‘ç®¡ä»–å«å›å“¥ï¼ˆçœŸå®å§“åä¸ä¾¿é€éœ²ï¼‰ï¼Œæ„Ÿè°¢æˆ‘å›å“¥ï¼Œæ˜¯ä»–å¸¦æˆ‘è¿›å…¥äº†webå‰ç«¯çš„å¤§é—¨ï¼Œè®©æˆ‘è®¤è¯†äº†ä¸€ä¸ªä¸ä¸€æ ·çš„Javascriptã€‚<br>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†åˆ°åæ¥ï¼Œæˆ‘é‡åˆ°äº†æˆ‘ç¬¬äºŒä¸ªå‰ç«¯è€å¸ˆâ€”äº‘å§ï¼Œä»å¥¹è¿™é‡Œæˆ‘æ‰çœŸæ­£è®¤è¯†äº†å‰ç«¯ï¼Œäº†è§£äº†å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆåœ¨ä¸€ä¸ªé¡¹ç›®ä¸­æ‰€æ‰¿æ‹…çš„è§’è‰²ï¼Œå­¦ä¼šäº†å¦‚ä½•åˆç†çš„åˆ©ç”¨ç½‘ç»œèµ„æºå»å­¦ä¹ è‡ªå·±æ‰€éœ€è¦çš„çŸ¥è¯†ï¼Œå¹¶ä¸”åœ¨çœŸæ­£çš„å‰ç«¯é¢†åŸŸåˆçª¥é—¨å¾„ã€‚</p>
<!-- ### å¥¹
***&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘æ‰€é€‰çš„è¿™ä¸ªæ–¹å‘æ³¨å®šäº†æˆ‘æœªæ¥çš„è·¯ä¸æ˜¯é‚£ä¹ˆå¥½èµ°ï¼Œæˆ–è®¸çœŸåƒç”µè§†é‡Œæ¼”å¾—ä¸€æ ·ï¼Œå†¥å†¥ä¹‹ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å®šæ•°ã€‚å­¤èº«ä¸€äººï¼Œä¸çŸ¥é“ä½•å»ä½•å­˜çš„æˆ‘ï¼Œå‡ ç»å‘¨æŠ˜å¸¦ç€æˆ‘çš„å‰ç«¯æ¢¦æ¥åˆ°äº†è¿™åº§æœºä¼šä¸ç»æœ›å¹¶å­˜çš„åŸå¸‚ï¼Œè®¤è¯†äº†å¥¹ã€‚***
<div id="aplayer-eqJaBpVS" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">
				<pre class="aplayer-lrc-content">[00:26.30]æˆ‘åœ¨æ²™æ»©åˆ’ä¸ªåœ†åœˆ  
[00:28.69]å±äºæˆ‘ä¿©å®‰é€¸ä¸–ç•Œ  
[00:31.14]ä¸ç”¨å’Œåˆ«äººè¿çº¿  
[00:36.33]æˆ‘ä¸ç®¡ä½ æ¥è‡ªæ·±æ¸Š  
[00:38.68]ä¹Ÿä¸åœ¨ä¹èº«ä¸Šé³ç‰‡  
[00:41.38]çˆ±æƒ…èƒ½è¶…è¶Šä¸€åˆ‡  
[00:45.93]åªè¦ä½ åœ¨æˆ‘èº«è¾¹  
[00:47.79]æ‰€æœ‰èœšè¯­æµè¨€ å®Œå…¨è§†è€Œä¸è§  
[00:50.73]è¯·ä¸è¦åŒ†åŒ†ä¸€é¢  
[00:52.72]ä¸€è½¬èº«å°±æ²‰å…¥æµ·å¹³çº¿  
[00:58.25]ä¼ è¯´ä¸­ä½ ä¸ºçˆ±ç”˜å¿ƒè¢«ææµ…  
[01:03.33]æˆ‘ä¹Ÿå¯ä»¥ä¸ºä½  æ½œå…¥æµ·é‡Œé¢  
[01:08.02]æ€ä¹ˆå¿å¿ƒæ–­ç»  
[01:10.65]å¿˜è®°æˆ‘ä¸å˜çš„èª“è¨€  
[01:14.31]æˆ‘çœ¼æ³ªæ–­äº†çº¿  
[01:18.36]ç°å®é‡Œæœ‰äº†æˆ‘å¯¹ä½ çš„çœ·æ‹  
[01:23.40]æˆ‘æ„¿æ„åŒ–ä½œé›•åƒ ç­‰ä½ å‡ºç°  
[01:28.19]å†è§å†ä¹Ÿä¸è§  
[01:30.68]å¿ƒç¢äº†é£˜è¡åœ¨æµ·è¾¹  
[01:34.57]ä½ æŠ¬å¤´å°±çœ‹è§  
[01:59.54]æˆ‘åœ¨æ²™æ»©åˆ’ä¸ªåœ†åœˆ  
[02:02.19]å±äºæˆ‘ä¿©å®‰é€¸ä¸–ç•Œ  
[02:04.63]ä¸ç”¨å’Œåˆ«äººè¿çº¿  
[02:09.42]æˆ‘ä¸ç®¡ä½ æ¥è‡ªæ·±æ¸Š  
[02:12.33]ä¹Ÿä¸åœ¨ä¹èº«ä¸Šé³ç‰‡  
[02:14.73]çˆ±æƒ…èƒ½è¶…è¶Šä¸€åˆ‡  
[02:19.06]åªè¦ä½ åœ¨æˆ‘èº«è¾¹  
[02:21.11]æ‰€æœ‰èœšè¯­æµè¨€ å®Œå…¨è§†è€Œä¸è§  
[02:24.14]è¯·ä¸è¦åŒ†åŒ†ä¸€é¢  
[02:26.18]ä¸€è½¬èº«å°±æ²‰å…¥æµ·å¹³çº¿  
[02:31.88]ä¼ è¯´ä¸­ä½ ä¸ºçˆ±ç”˜å¿ƒè¢«ææµ…  
[02:36.87]æˆ‘ä¹Ÿå¯ä»¥ä¸ºä½  æ½œå…¥æµ·é‡Œé¢  
[02:41.64]æ€ä¹ˆå¿å¿ƒæ–­ç»  
[02:44.29]å¿˜è®°æˆ‘ä¸å˜çš„èª“è¨€ 
[02:47.75]æˆ‘çœ¼æ³ªæ–­äº†çº¿  
[02:52.04]ç°å®é‡Œæœ‰äº†æˆ‘å¯¹ä½ çš„çœ·æ‹  
[02:57.03]æˆ‘æ„¿æ„åŒ–ä½œé›•åƒ ç­‰ä½ å‡ºç°  
[03:01.87]å†è§å†ä¹Ÿä¸è§  
[03:04.66]å¿ƒç¢äº†é£˜è¡åœ¨æµ·è¾¹  
[03:07.95]ä½ æŠ¬å¤´å°±çœ‹è§  
[03:12.54]ä¼ è¯´ä¸­ä½ ä¸ºçˆ±ç”˜å¿ƒè¢«ææµ…  
[03:17.23]æˆ‘ä¹Ÿå¯ä»¥ä¸ºä½  æ½œå…¥æµ·é‡Œé¢  
[03:22.02]æ€ä¹ˆå¿å¿ƒæ–­ç»  
[03:24.71]å¿˜è®°æˆ‘ä¸å˜çš„èª“è¨€  
[03:28.04]æˆ‘çœ¼æ³ªæ–­äº†çº¿  
[03:32.43]ç°å®é‡Œæœ‰äº†æˆ‘å¯¹ä½ çš„çœ·æ‹  
[03:37.48]æˆ‘æ„¿æ„åŒ–ä½œé›•åƒ ç­‰ä½ å‡ºç°  
[03:42.21]å†è§å†ä¹Ÿä¸è§  
[03:44.85]å¿ƒç¢äº†é£˜è¡åœ¨æµ·è¾¹  
[03:48.16]ä½ æŠ¬å¤´å°±çœ‹è§  
[03:52.12]ä½  ä½ æŠ¬å¤´å°±çœ‹è§  
[03:57.30]ä½  ä½ æŠ¬å¤´å°±çœ‹è§</pre>
			</div>
			<script>
				var ap = new APlayer({
					element: document.getElementById("aplayer-eqJaBpVS"),
					narrow: false,
					autoplay: false,
					showlrc: 2,
					music: {
						title: "ç¾äººé±¼",
						author: "æ—ä¿Šæ°",
						url: "http://music.163.com/song/media/outer/url?id=108931.mp3",
						pic: "http://p2.music.126.net/3jBJ00NEgPuhRFAYwErgag==/109951163533012556.jpg?param=130y130",
					}
				});
				window.aplayers || (window.aplayers = []);
				window.aplayers.push(ap);
			</script>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äººçœŸçš„æ˜¯ä¸€ç§å¥‡æ€ªçš„ç”Ÿç‰©ï¼Œæœ‰æ—¶å€™åœ¨å¬åˆ°æŸä¸€é¦–æ­Œçš„æ—¶å€™å°±ä¼šæƒ³èµ·ä¸€ä¸ªäººã€‚é‚£æ˜¯ä¸€ä¸ªå‘¨æœ«ï¼Œå»ç½‘å§ç©æ¸¸æˆï¼Œä¸€ä¸ªäººç©çš„æ— èŠï¼Œçœ‹åˆ°æ—è¾¹åçš„ä¸€ä¸ªå°å§å§ç”Ÿæ¶©çš„æ‰‹æŒ‡æŒ‰ç€æœºæ¢°é”®ç›˜å’”å’”å“ï¼Œåœ¨ç©qqé£è½¦ï¼Œäºæ˜¯ã€‚ã€‚ã€‚ã€‚<br>â€œå—¨ï¼ä½ ä¹Ÿç©qqé£è½¦å—ï¼Ÿä¸€èµ·å•Šâ€<br>â€œæˆ‘è¿˜ä¸ä¼šç©â€<br> â€œæ²¡äº‹ï¼Œæˆ‘ä¹Ÿä¸ä¼šâ€<br> â€œé‚£å¥½å‘€ï¼Œä¸€èµ·ç©â€<br> å…¶å®æˆ‘æ˜¯ä¼šç©çš„ï¼Œå½“æ—¶å°±æ˜¯æƒ³æ‰¾ä¸ªä¸€èµ·ç©çš„äººï¼Œå°±è¿™æ ·æˆ‘è®¤è¯†äº†å¥¹ã€‚ â€“&gt;<br> <!-- åæ¥åˆä¸€èµ·ç©äº†å‡ æ¬¡æ¸¸æˆï¼Œæ…¢æ…¢ç†Ÿæ‚‰äº†èµ·æ¥ï¼Œçœ‹ç”µå½±ï¼Œåƒé¥­ ï¼Œ ç©æ¸¸æˆï¼Œ é€›è¡— ï¼Œä¸€åˆ‡åœ¨é¡ºå…¶è‡ªç„¶çš„å‘ç”Ÿã€‚
 ç¬¬ä¸€æ¬¡å»ktvçš„æ—¶å€™ï¼Œå¥¹å”±äº†è¿™é¦–æ—ä¿Šæ°çš„ ã€Šç¾äººé±¼ã€‹ ï¼Œä»é‚£æ¬¡ä¹‹åä»¿ä½›è¿™å°±å˜æˆäº†ä¸€é¦–å±äºå¥¹çš„æ­Œï¼Œæ— è®ºåœ¨å“ªé‡Œå¬åˆ°è¿™é¦–æ­Œæˆ‘çš„è„‘æµ·é‡Œæµ®ç°å‡ºçš„éƒ½æ˜¯é‚£æ¬¡åœ¨ktvå¥¹å”±è¿™é¦–æ­Œçš„åœºæ™¯ã€‚è¿™æ—¶å€™æˆ‘çªç„¶å‘è§‰ï¼Œæˆ‘å¯èƒ½æ˜¯æœ‰ç‚¹å–œæ¬¢å¥¹ã€‚
 å°±è¿™æ ·ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæˆ‘é¼“èµ·å‹‡æ°”åœ¨ktvå‘Šç™½äº†ï¼Œå¾ˆå¹¸è¿ï¼Œå¥¹ç­”åº”æˆ‘äº†ã€‚æˆ‘ä»¬å°±è¿™æ ·åœ¨ä¸€èµ·äº†ã€‚
è“é£é“ƒçš„é¦™å‘³ã€æ¸…æ¾ˆçš„çœ¼ç›ã€ç©ºæ°”åˆ˜æµ·ã€é˜³å…‰ã€å¯çˆ±ï¼Œæ­£æ‰€è°“â€œæƒ…äººçœ¼é‡Œå‡ºè¥¿æ–½â€ï¼Œåœ¨ä¸€èµ·ä¹‹åå°±è§‰å¾—å¥¹å“ªå“ªéƒ½å¥½ã€‚
æœ€å–œæ¬¢çš„å°±æ˜¯å¥¹çš„çœ¼ç›ï¼Œå°±åƒä¸€æ±ªæ¸…æ³‰ï¼Œæ¸…æ¾ˆè§åº•ï¼Œç¬‘èµ·æ¥çœ¼ç›ä¸‹é¢å°±ä¼šå‡ºç°ä¸€å¯¹å§èš•ï¼Œè§‰å¾—å¾ˆç¾ã€‚ --><p></p>
<p><center>è¿™å°±æ˜¯æˆ‘çš„èµ·ç‚¹</center></p>
<script type="text/javascript" src="/js/src/bai.js"></script>   
]]></content>
      <categories>
        <category>è®°å½•ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>æ¢¦æƒ³</tag>
        <tag>èµ·ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>webpackæ­å»ºdvaé¡¹ç›®</title>
    <url>/2020/04/02/webpackDvaDemo/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>webpackä½œä¸ºæ–°ä¸€ä»£å‰ç«¯æ‰“åŒ…å·¥å…·ï¼Œä¸ºå‰ç«¯å·¥ç¨‹åŒ–æä¾›äº†ä¸€äº›å¾ˆæ–¹ä¾¿çš„è§£å†³æ–¹å¼ï¼Œåœ¨ç»è¿‡å¥½å‡ å¤©çš„è¸©å‘ä¹‹åï¼Œä¸€è·¯è¹’è·šã€è·Œè·Œæ’æ’çš„ç»ˆäºä½¿ç”¨webpack-dev-middleware æ’ä»¶+expressæ­å»ºå‡ºäº†ä¸€ä¸ªdvaçš„é¡¹ç›®</em></strong></p>
<a id="more"></a>
<h1 id="webpack-dev-middleware-æ’ä»¶"><a href="#webpack-dev-middleware-æ’ä»¶" class="headerlink" title="webpack-dev-middleware æ’ä»¶"></a>webpack-dev-middleware æ’ä»¶</h1><p>é¦–å…ˆä»‹ç»ä¸€ä¸‹è¿™ä¸ªwebpack-dev-middleware æ’ä»¶ï¼Œwebpack-dev-middleware,ä½œç”¨å°±æ˜¯ï¼Œç”Ÿæˆä¸€ä¸ªä¸webpackçš„compilerç»‘å®šçš„ä¸­é—´ä»¶ï¼Œç„¶ååœ¨expresså¯åŠ¨çš„æœåŠ¡appä¸­è°ƒç”¨è¿™ä¸ªä¸­é—´ä»¶ã€‚<br>è¿™ä¸ªä¸­é—´ä»¶çš„ä½œç”¨æœ‰ä¸‰ç‚¹ï¼š  </p>
<ul>
<li>1.é€šè¿‡ç›‘å¬ä»£ç çš„å˜æ›´ï¼Œå®ç°è‡ªåŠ¨æ‰“åŒ…</li>
<li>2.å¿«é€Ÿç¼–è¯‘å¹¶ä¸”å°†æ‰“åŒ…åçš„æ–‡ä»¶ç¼“å­˜åœ¨å†…å­˜ä¹‹ä¸­ã€‚ï¼ˆè¿™å°±æ˜¯webpackæ˜æ˜å¯ä»¥ç”¨watch modeï¼Œå¯ä»¥å®ç°ä¸€æ ·çš„æ•ˆæœï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¿˜éœ€è¦è¿™ä¸ªä¸­é—´ä»¶çš„åŸå› ï¼‰</li>
<li>3.è¿”å›çš„æ˜¯ä¸€ä¸ªä¸­é—´ä»¶ï¼Œæ”¯æŒexpressçš„useæ ¼å¼</li>
</ul>
<p>ps: è¿™ä¸ªä¸­é—´ä»¶æ‰“åŒ…åçš„äº§ç‰©ç›´æ¥èµ°å†…å­˜ï¼Œç›¸æ¯”äºwebpackæ¯æ¬¡æ‰“åŒ…å®Œä¹‹åå°†æ–°çš„æ–‡ä»¶æ”¾åœ¨æœ¬åœ°æŒ‡å®šä½ç½®æ¥è¯´æ•ˆç‡æ›´å¿«ï¼Œå¯¹äºå¼€å‘æ¥è®²æ›´åŠ æ–¹ä¾¿</p>
<h1 id="é¡¹ç›®æ­å»º"><a href="#é¡¹ç›®æ­å»º" class="headerlink" title="é¡¹ç›®æ­å»º"></a>é¡¹ç›®æ­å»º</h1><h2 id="1-åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ç›®å½•è¿è¡Œnpm-initç”Ÿæˆpackage-json-å®‰è£…ç›¸å…³ä¾èµ–"><a href="#1-åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ç›®å½•è¿è¡Œnpm-initç”Ÿæˆpackage-json-å®‰è£…ç›¸å…³ä¾èµ–" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ç›®å½•è¿è¡Œnpm initç”Ÿæˆpackage.json å®‰è£…ç›¸å…³ä¾èµ–"></a>1.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ç›®å½•è¿è¡Œnpm initç”Ÿæˆpackage.json å®‰è£…ç›¸å…³ä¾èµ–</h2><p>ç”Ÿæˆçš„package.jsonæ–‡ä»¶å¦‚ä¸‹ï¼Œå¯ç›´æ¥å¤åˆ¶ä¹‹å  yarnã€‚</p>
<pre><code>{
  &quot;name&quot;: &quot;reactwebpackexc&quot;,
  &quot;version&quot;: &quot;0.1.0&quot;,
  &quot;private&quot;: true,
  &quot;dependencies&quot;: {
    &quot;babel-core&quot;: &quot;^6.26.3&quot;,
    &quot;babel-loader&quot;: &quot;^8.1.0&quot;,
    &quot;babel-preset-env&quot;: &quot;^1.7.0&quot;,
    &quot;commitizen&quot;: &quot;^4.0.3&quot;,
    &quot;cz-conventional-changelog&quot;: &quot;^3.1.0&quot;,
    &quot;dva&quot;: &quot;^2.4.1&quot;,
    &quot;express&quot;: &quot;^4.17.1&quot;,
    &quot;react&quot;: &quot;^16.13.1&quot;,
    &quot;react-dev-utils&quot;: &quot;^10.2.1&quot;,
    &quot;react-dom&quot;: &quot;^16.13.1&quot;,
    &quot;react-scripts&quot;: &quot;3.4.1&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@babel/preset-react&quot;: &quot;^7.9.4&quot;,
    &quot;clean-webpack-plugin&quot;: &quot;^3.0.0&quot;,
    &quot;eslint&quot;: &quot;^6.8.0&quot;,
    &quot;eslint-friendly-formatter&quot;: &quot;^4.0.1&quot;,
    &quot;eslint-loader&quot;: &quot;^3.0.3&quot;,
    &quot;html-webpack-plugin&quot;: &quot;^4.0.3&quot;,
    &quot;webpack&quot;: &quot;^4.42.1&quot;,
    &quot;webpack-cli&quot;: &quot;^3.3.11&quot;,
    &quot;webpack-dev-middleware&quot;: &quot;^3.7.2&quot;,
    &quot;webpackbar&quot;: &quot;^4.0.0&quot;
  },
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node script/start.js&quot;,
    &quot;build:dll&quot;: &quot;webpack --progress --config config/webpack.dll.config.js&quot;, 
    &quot;build:dll-dev&quot;: &quot;webpack --progress --config config/webpack.dll-dev.config.js&quot;,
    &quot;commit&quot;: &quot;git-cz&quot;
  },
  &quot;config&quot;: {
    &quot;commitizen&quot;: {
      &quot;path&quot;: &quot;./node_modules/cz-conventional-changelog&quot;
    }
  }
}

</code></pre><h2 id="é¡¹ç›®æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š"><a href="#é¡¹ç›®æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š" class="headerlink" title="é¡¹ç›®æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š"></a>é¡¹ç›®æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š</h2><pre><code>config  (é¡¹ç›®æ‰€éœ€çš„é…ç½®æ–‡ä»¶éƒ½åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹)
|__webpack.config.js  (webpackåŸºç¡€é…ç½®æ–‡ä»¶)
|__webpack.dll-dev.config.js  (webpack dll æ’ä»¶é…ç½®æ–‡ä»¶)
|__routes.js  (è·¯ç”±é…ç½®æ–‡ä»¶)
public  (é™æ€æ–‡ä»¶ï¼Œhtmlæ¨¡æ¿ç›¸å…³çš„æ–‡ä»¶)
|__index.html (spaåº”ç”¨å…¥å£é¡µé¢æ¨¡æ¿)
script ï¼ˆé¡¹ç›®å¯åŠ¨æ–‡ä»¶ï¼‰
|__start.js (å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨æ–‡ä»¶)
src
|__Layout (æ•´ä½“å¸ƒå±€ç›¸å…³æ–‡ä»¶å¤¹)
|__model (dva modelç›¸å…³æ–‡ä»¶å¤¹)
|__routes (dva è·¯ç”±ç»„ä»¶ç›¸å…³æ–‡ä»¶å¤¹)
|__service (è¯·æ±‚æ¥å£ç›¸å…³æ–‡ä»¶å¤¹)
|__index.js (é¡¹ç›®å…¥å£æ–‡ä»¶)
|__router.js (é¡¹ç›®è·¯ç”±ç»„ä»¶å…¥å£æ–‡ä»¶)

</code></pre><h2 id="é‡è¦æ–‡ä»¶ä»£ç "><a href="#é‡è¦æ–‡ä»¶ä»£ç " class="headerlink" title="é‡è¦æ–‡ä»¶ä»£ç "></a>é‡è¦æ–‡ä»¶ä»£ç </h2><p>webpack.config.js ï¼ˆwebpackåŸºç¡€é…ç½®æ–‡ä»¶ï¼‰ï¼š</p>
<pre><code>const path = require(&#39;path&#39;);
const WebpackBar = require(&#39;webpackbar&#39;);
const webpack = require(&#39;webpack&#39;);
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);

const plugins = require(&#39;./plugins&#39;);


module.exports = function (mode) {
    const isDev = mode === &#39;development&#39;;

    return {
        mode: mode,
        devtool: isDev
            ? &#39;source-map&#39;
            : false,
        entry: {
            main: path.resolve(__dirname, &#39;../src/index.js&#39;),
        },
        output: {
            filename: &#39;[name].js&#39;,
            path: !isDev ? path.resolve(__dirname, &#39;../dist/[hash]&#39;) : path.resolve(__dirname, &#39;../static/dist&#39;),
            publicPath: &#39;/app&#39;
        },
        plugins: Array.from(new Set([
            ...plugins,
            new HtmlWebpackPlugin({
                filename: !isDev ? path.resolve(__dirname, &#39;../dist/[hash]/index.html&#39;) : path.resolve(__dirname, &#39;../static/dist/index.html&#39;),
                template: path.resolve(__dirname, &#39;../public/index.html&#39;)
            }),
            new webpack.DllReferencePlugin({   // è¿™ä¸ªæ’ä»¶æ—¶é…åˆDllPliginæ’ä»¶ä½¿ç”¨çš„ï¼ŒæŒ‡å®šlibraryçš„æ˜ å°„æ–‡ä»¶
                context:&#39;/app&#39;,  
                manifest: !isDev ? require(&#39;../dist/vendor-manifest.json&#39;) : require(&#39;../static/vendor-manifest.json&#39;)
            }),
            new WebpackBar({ name: &#39;âœˆ æ‰“åŒ…ä¸­ã€‚ã€‚ã€‚&#39;, color: &#39;red&#39; }),
            new webpack.NamedModulesPlugin(), // ç”¨äºå¯åŠ¨ HMR æ—¶å¯ä»¥æ˜¾ç¤ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„
            new webpack.HotModuleReplacementPlugin(), // Hot Module Replacement çš„æ’ä»¶

        ])),
        module: {
            rules: [{ test: /\.js$/, use: &#39;babel-loader&#39;, exclude: /node_modules/ }, { test: /\.jsx$/, use: &#39;babel-loader&#39;, exclude: /node_modules/ }]
        },

    }
}
</code></pre><p>è¿™é‡Œå°±å’Œæ­£å¸¸webpacké…ç½®ä¸€æ ·</p>
<p>webpack.dll-dev.config.js(DllPluginæ’ä»¶é…ç½®æ–‡ä»¶)ï¼š</p>
<pre><code>

const path = require(&#39;path&#39;);
const webpack = require(&#39;webpack&#39;);
const WebpackBar = require(&#39;webpackbar&#39;);
const { CleanWebpackPlugin } = require(&#39;clean-webpack-plugin&#39;);

module.exports = {
    mode: &#39;development&#39;,
    devtool: &#39;source-map&#39;,
    entry: {
        vendor: [&#39;react&#39;,
            &#39;react-dom&#39;,
            &#39;dva&#39;,
            &#39;dva/router&#39;,
            &#39;dva/saga&#39;,
            &#39;dva/fetch&#39;,], 
    },
    output: {
        path: path.resolve(__dirname, &#39;../static/dll&#39;),
        filename: &#39;[name].dll.js&#39;,
        library: &#39;[name]_library&#39;,
        publicPath: &#39;/app&#39;

    },
    plugins: [
        new webpack.DllPlugin({
            path: path.resolve(&#39;./static&#39;, &#39;[name]-manifest.json&#39;),
            name: &#39;[name]_library&#39;,
            context: &#39;app&#39;
        }),
        new CleanWebpackPlugin({
            root: path.resolve(__dirname,&#39;../&#39;) , // æ ¹ç›®å½•
            verbose: true, // å¼€å¯åœ¨æ§åˆ¶å°è¾“å‡ºä¿¡æ¯
            dry: false, // å¯ç”¨åˆ é™¤æ–‡ä»¶
        }),
        new WebpackBar({ name: &#39;âœˆ ç”ŸæˆDLLæ–‡ä»¶&#39;, color: &#39;blue&#39; }),
    ],

    module: {
        rules: [{ test: /\.js$/, use: &#39;babel-loader&#39;, exclude: /node_modules/ }]
    }
};
</code></pre><p>è¿™é‡Œä½¿ç”¨DllPluginæ’ä»¶æ˜¯å°†é™¤äº†ä¸šåŠ¡ä»£ç ä¹‹å¤–çš„æ¡†æ¶ä»£ç æå‰æ‰“åŒ…ï¼Œæé«˜ä¸šåŠ¡ä»£ç æ‰“åŒ…çš„æ•ˆç‡ï¼Œæ‰€ä»¥å†yarn start ä¹‹å‰éœ€è¦è¿è¡Œyarn build:dll-devç”Ÿæˆlibraryæ–‡ä»¶</p>
<p>start.js(å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ–‡ä»¶):</p>
<pre><code>&#39;use strict&#39;;
const webpack = require(&#39;webpack&#39;);
const express = require(&#39;express&#39;);
const path = require(&#39;path&#39;);
const webpackMiddleWare = require(&#39;webpack-dev-middleware&#39;);
const webpackConfigFac = require(&#39;../config/webpack.config&#39;);
const openBrowser = require(&#39;react-dev-utils/openBrowser&#39;);


const app = new express();
const compiler = webpack(webpackConfigFac(&#39;development&#39;));
app.use(express.static(path.resolve(__dirname, &#39;../static&#39;))); // æŒ‡å®šé™æ€æ–‡ä»¶ç›®å½•
app.use(webpackMiddleWare(compiler, {
    publicPath: &#39;/app&#39;
}));
app.get(&#39;*&#39;, function (request, response) { response.sendFile(path.resolve(__dirname, &#39;../public&#39;, &#39;index.html&#39;)) })   //  createBrowserHistory çš„æœåŠ¡ç«¯é…ç½®
app.listen(3000, () =&gt; {
    console.log(`server is running in port 3000`);
    console.log(`http://localhost:3000/app`);
    openBrowser(&#39;http://localhost:3000/app&#39;);
})
</code></pre><p>index.js (é¡¹ç›®å…¥å£æ–‡ä»¶):</p>
<pre><code>import dva from &#39;dva&#39;;
import { createBrowserHistory } from &#39;history&#39;;
import routes from &#39;./router&#39;;



const app = dva({
  history: createBrowserHistory({
    basename:&#39;/app&#39;
  })
});
app.router(routes);
app.start(&#39;#root&#39;);
</code></pre><p>router.js(è·¯ç”±å¤„ç†æ–‡ä»¶)ï¼š</p>
<pre><code>import React from &#39;react&#39;;
import { routerRedux, Switch, Route,Redirect } from &#39;dva/router&#39;;
import routes from &#39;../config/routes&#39;;


const { ConnectedRouter } = routerRedux;

function getRoutes(routes) {
    if (routes.components) {
        getRoutes(routes.components);
    } else {
        return routes.map(item =&gt; {
            return &lt;Route path={item.path} key={item.path} component={require(`./routes/${item.component}`).default} /&gt;;
        })
    }
}


export default function ({ history }) {
    return (&lt;ConnectedRouter history={history}&gt;
        &lt;Switch&gt;
            {
                getRoutes(routes)
            }
            &lt;Redirect form=&#39;/&#39; to=&#39;home&#39; /&gt;
        &lt;/Switch&gt;
    &lt;/ConnectedRouter&gt;)
}
</code></pre><p>.babelrc(babelé…ç½®æ–‡ä»¶):</p>
<pre><code>{
    &quot;presets&quot;: [&quot;@babel/preset-env&quot;,&quot;@babel/preset-react&quot;],
    &quot;plugins&quot;: [&quot;@babel/plugin-transform-runtime&quot;,&quot;@babel/plugin-proposal-class-properties&quot;]
}
</code></pre><h2 id="è¿™é‡Œè®°å½•ä¸€ä¸‹ç®¡ç†reactè·¯ç”±çš„historyä½¿ç”¨"><a href="#è¿™é‡Œè®°å½•ä¸€ä¸‹ç®¡ç†reactè·¯ç”±çš„historyä½¿ç”¨" class="headerlink" title="è¿™é‡Œè®°å½•ä¸€ä¸‹ç®¡ç†reactè·¯ç”±çš„historyä½¿ç”¨"></a>è¿™é‡Œè®°å½•ä¸€ä¸‹ç®¡ç†reactè·¯ç”±çš„historyä½¿ç”¨</h2><h3 id="history-æ’ä»¶çš„ä½¿ç”¨"><a href="#history-æ’ä»¶çš„ä½¿ç”¨" class="headerlink" title="history æ’ä»¶çš„ä½¿ç”¨"></a>history æ’ä»¶çš„ä½¿ç”¨</h3><pre><code> cnpm install history --save
 import { createBrowserHistory } from &#39;history&#39;;
</code></pre><h3 id="ä½¿ç”¨historyçš„ä¸‰ç§æ–¹å¼"><a href="#ä½¿ç”¨historyçš„ä¸‰ç§æ–¹å¼" class="headerlink" title="ä½¿ç”¨historyçš„ä¸‰ç§æ–¹å¼"></a>ä½¿ç”¨historyçš„ä¸‰ç§æ–¹å¼</h3><ol>
<li>createBrowserHistory   ç°ä»£æµè§ˆå™¨ä½¿ç”¨</li>
</ol>
<pre><code>        createBrowserHistory({
            basename: &#39;&#39;, // åŸºé“¾æ¥
            forceRefresh: false, // æ˜¯å¦å¼ºåˆ¶åˆ·æ–°æ•´ä¸ªé¡µé¢
            keyLength: 6, // location.keyçš„é•¿åº¦
            getUserConfirmation: (message,callback) =&gt; callback(window.confirm(message)) // è·³è½¬æ‹¦æˆªå‡½æ•°
        })
</code></pre><ol start="2">
<li>createMemoryHistory æ‰‹æœºç«¯ä½¿ç”¨</li>
</ol>
<pre><code>        createMemoryHistory({
            initialEntries: [&#39;/&#39;], // åˆå§‹è½½å…¥è·¯å¾„ï¼Œå’ŒMemoryRouterä¸­çš„initialEntriesæ˜¯ä¸€æ ·çš„
            initialIndex: 0, // initialEntriesåˆå§‹è½½å…¥ç´¢å¼•
            keyLength: 6, // location.keyçš„é•¿åº¦
            getUserConfirmation: null // è·¯ç”±è·³è½¬æ‹¦æˆªå‡½æ•°
        })
</code></pre><ol start="3">
<li>createHashHistory (è€ç‰ˆæœ¬æµè§ˆå™¨ä½¿ç”¨ï¼Œç”±äºå¤ªè¿‡å¤è€ï¼Œè¿™é‡Œä¸åšè®°å½•)</li>
</ol>
<p> <a href="https://github.com/zhangyongxuan/webpackExcDemo.git" target="_blank" rel="noopener">æºç åœ°å€</a></p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>webpack</tag>
        <tag>dva</tag>
      </tags>
  </entry>
  <entry>
    <title>es6å‡½æ•°å’Œç±»</title>
    <url>/2021/07/15/funcionandclass/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ä»es6ä¸­åšå‡ºçš„æ”¹å˜æ¥çœ‹ï¼ŒJavaScriptæ­£åœ¨å‘ä¸€é—¨é¢å‘å¯¹è±¡çš„è¯­è¨€è¿›è¡Œå‘å±•ï¼ˆå°å£°bbï¼‰</em></strong><br><a id="more"></a></p>
<h2 id="es6å‡½æ•°"><a href="#es6å‡½æ•°" class="headerlink" title="es6å‡½æ•°"></a>es6å‡½æ•°</h2><p>ç®­å¤´å‡½æ•°æ˜¯es6ä¸­å‡½æ•°çš„ä¸€ç§æ–°çš„å†™æ³•ï¼Œä¹Ÿæ˜¯å¹³æ—¶æˆ‘ä»¬ç”¨çš„æ¯”è¾ƒå¤šçš„å†™æ³•</p>
<h3 id="ç®­å¤´å‡½æ•°åœ¨é¡¹ç›®ä¸­æœ€å¸¸ç”¨çš„å‡ ä¸ªç‚¹"><a href="#ç®­å¤´å‡½æ•°åœ¨é¡¹ç›®ä¸­æœ€å¸¸ç”¨çš„å‡ ä¸ªç‚¹" class="headerlink" title="ç®­å¤´å‡½æ•°åœ¨é¡¹ç›®ä¸­æœ€å¸¸ç”¨çš„å‡ ä¸ªç‚¹"></a>ç®­å¤´å‡½æ•°åœ¨é¡¹ç›®ä¸­æœ€å¸¸ç”¨çš„å‡ ä¸ªç‚¹</h3><h4 id="å‡½æ•°é…åˆè§£æ„èµ‹å€¼çš„ç”¨æ³•"><a href="#å‡½æ•°é…åˆè§£æ„èµ‹å€¼çš„ç”¨æ³•" class="headerlink" title="å‡½æ•°é…åˆè§£æ„èµ‹å€¼çš„ç”¨æ³•"></a>å‡½æ•°é…åˆè§£æ„èµ‹å€¼çš„ç”¨æ³•</h4><p>å…¶å®é…åˆè§£æ„èµ‹å€¼ä½¿ç”¨å¹¶ä¸æ˜¯ç®­å¤´å‡½æ•°çš„ä¸“åˆ©ï¼Œæ™®é€šå‡½æ•°ä¹Ÿå¯ä»¥é…åˆè§£æ„èµ‹å€¼è¿›è¡Œä½¿ç”¨ï¼š</p>
<pre><code>function fun({name,age}){
    return `My name is ${name},I am ${age}years old`
}
console.log(fun({name:&#39;zyx&#39;,age:22})) //My name is zyx,I am 22years old
</code></pre><p>ä½†æ˜¯è§£æ„èµ‹å€¼å’Œç®­å¤´å‡½æ•°éƒ½æ˜¯es6æ–°å¢ç‰¹æ€§ï¼Œæ‰€ä»¥è¦ç”¨æ–°çš„å°±éƒ½ç”¨æ–°çš„å•Šï¼Œä¸ç„¶å¤šlowï¼š</p>
<pre><code>let fun = ({name,age})=&gt; `My name is ${name},I am ${age}years old`;
console.log(fun({name:&#39;zyx&#39;,age:22})) //My name is zyx,I am 22years old
</code></pre><p>è¿™ä¸¤æ®µä»£ç å¯¹æ¯”ä¹‹ä¸‹ï¼Œç®­å¤´å‡½æ•°æ˜¾å¾—æ›´åŠ ç®€æ´æ˜äº†</p>
<h4 id="é…åˆæ‰©å±•è¿ç®—ç¬¦çš„ç”¨æ³•"><a href="#é…åˆæ‰©å±•è¿ç®—ç¬¦çš„ç”¨æ³•" class="headerlink" title="é…åˆæ‰©å±•è¿ç®—ç¬¦çš„ç”¨æ³•"></a>é…åˆæ‰©å±•è¿ç®—ç¬¦çš„ç”¨æ³•</h4><p>ä¸ªäººè§‰å¾—è¿™ä¸ªåŠŸèƒ½å°±æ˜¯é˜®å¤§ä½¬åœ¨<a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">ã€Šes6å…¥é—¨ã€‹</a>ä¸€ä¹¦å‡½æ•°çš„æ‰©å±•ä¸€ç« ä¸­æåˆ°çš„restå‚æ•°ï¼š</p>
<pre><code>let fun = (a,...prams)=&gt;{
    console.log(prams)
}
fun(1,2,3,4) // [2,3,4]
</code></pre><p>æˆ‘è‡ªå·±è¯´å®è¯è¿˜æ²¡å‘ç°ä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒ</p>
<h4 id="å‡½æ•°çš„é»˜è®¤å‚æ•°è®¾ç½®"><a href="#å‡½æ•°çš„é»˜è®¤å‚æ•°è®¾ç½®" class="headerlink" title="å‡½æ•°çš„é»˜è®¤å‚æ•°è®¾ç½®"></a>å‡½æ•°çš„é»˜è®¤å‚æ•°è®¾ç½®</h4><p>è¿™ä¹Ÿä¸æ˜¯ç®­å¤´å‡½æ•°çš„ä¸“åˆ©ï¼Œes6å¯¹å‡½æ•°çš„è¿™ä¸€æ‰©å±•åœ¨çœŸå®çš„é¡¹ç›®ä¸­æ¯”è¾ƒå®ç”¨ï¼Œåœ¨æˆ‘ä»¬çœŸå®çš„é¡¹ç›®ä¸­å­˜åœ¨ç€å„ç§å„æ ·çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™æ—¶å€™é»˜è®¤å€¼çš„ä½œç”¨å°±ä¸¾è¶³è½»é‡äº†ï¼Œå®ƒå¯ä»¥é¿å…å¾ˆå¤šè«åå…¶å¦™çš„å¯èƒ½ä¼šè®©ä½ å§‹æ–™ä¸åŠçš„é”™è¯¯,åœ¨es5ä¸­æˆ‘ä»¬æ˜¯è¿™æ ·è§£å†³é»˜è®¤å€¼é—®é¢˜çš„ï¼š</p>
<pre><code>function fun (x,y){
    var y = y ? y : 1;
    return x + y;
}
console.log(fun(2)) // è¾“å‡º3
</code></pre><p>è€Œä¸Šè¾¹è¿™æ®µä»£ç ç»è¿‡es6æ”¹å†™ä¹‹åå˜æˆäº†ï¼š</p>
<pre><code>let fun = (x,y=1)=&gt;x+y;
console.log(fun(2)) // è¾“å‡º3
</code></pre><p>ç®­å¤´å‡½æ•°åŠ é»˜è®¤å€¼è®¾ç½®å°†ä»£ç ç¼©å‡ä¸º2è¡Œï¼Œè¿™å°±æ˜¯es6çš„é­…åŠ›</p>
<h4 id="å¤šé‡è°ƒç”¨"><a href="#å¤šé‡è°ƒç”¨" class="headerlink" title="å¤šé‡è°ƒç”¨"></a>å¤šé‡è°ƒç”¨</h4><pre><code>    let sums = n =&gt; m =&gt; m+n;
    console.log(sums(1)(2)); // 3
    console.log(sums(1)); // m =&gt; m+n
</code></pre><p>åˆ†æä¸Šè¾¹è¿™æ®µä»£ç ï¼Œsumså‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ä¹‹åè¿”å›äº†ä¸€ä¸ªæ¥å—ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›äº†ä¸¤ä¸ªå‚æ•°çš„å’Œï¼Œè¯´èµ·æ¥å¯èƒ½æœ‰ç‚¹ç»•å£ï¼Œé‚£ä¹ˆå°†ä»£ç è¿˜åŸä¸ºes5æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code>function sums(n){
    return function(m){
        return m+n;
    }
}
console.log(sums(1)(2)); // 3
console.log(sums(1)); // Æ’ (m){return m+n;}
</code></pre><p>åœ¨æˆ‘çœ‹æ¥è¿™ä¸ªå†™æ³•æœ‰ç‚¹åƒé—­åŒ…ï¼ˆè™½ç„¶æˆ‘ä¹Ÿä¸å¤ªç†è§£é—­åŒ…ï¼‰ï¼Œåœ¨æˆ‘çš„ç†è§£å½“ä¸­ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯å¦å¤–ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™å°±äº§ç”Ÿäº†é—­åŒ…ã€‚</p>
<p>è¯è¯´åœ¨è¿™ç§å¯¹æ¯”ä¹‹ä¸‹ç®­å¤´å‡½æ•°å’Œä¼ ç»Ÿå‡½æ•°é«˜ä¸‹ç«‹è§ï¼</p>
<h2 id="es6-class"><a href="#es6-class" class="headerlink" title="es6 class"></a>es6 class</h2><h3 id="ä»¥ä¸‹å†…å®¹çº¯å±ä¸ªäººç†è§£ï¼Œå¤§ä½¬ä»¬è¯·è½»ç‚¹pen"><a href="#ä»¥ä¸‹å†…å®¹çº¯å±ä¸ªäººç†è§£ï¼Œå¤§ä½¬ä»¬è¯·è½»ç‚¹pen" class="headerlink" title="ä»¥ä¸‹å†…å®¹çº¯å±ä¸ªäººç†è§£ï¼Œå¤§ä½¬ä»¬è¯·è½»ç‚¹pen"></a><center><strong><em>ä»¥ä¸‹å†…å®¹çº¯å±ä¸ªäººç†è§£ï¼Œå¤§ä½¬ä»¬è¯·è½»ç‚¹pen</em></strong></center></h3><p>classå…³é”®å­—æ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œåœ¨es6ä¹‹å‰jsè¢«å®šä¹‰ä¸ºä¸€é—¨åŸºäºå¯¹è±¡çš„å¼±ç±»å‹è„šæœ¬è¯­è¨€ï¼Œä¹‹æ‰€ä»¥è¯´å®ƒæ˜¯åŸºäºå¯¹è±¡è€Œä¸æ˜¯é¢å‘å¯¹è±¡ï¼Œå°±æ˜¯å› ä¸ºåœ¨es6ä¹‹å‰jsæ ¹æœ¬æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œä½†å¾ˆå¥‡æ€ªçš„æ˜¯å®ƒæœ‰å¯¹è±¡çš„æ¦‚å¿µï¼Œæ‰€ä»¥å°±è¢«å®šä¹‰ä¸ºåŸºäºå¯¹è±¡çš„è¯­è¨€ï¼Œæ›´åŠ å¥‡æ€ªçš„æ˜¯å®ƒæ²¡æœ‰ç±»çš„æ¦‚å¿µç«Ÿç„¶ä¹Ÿå¯ä»¥è¿›è¡Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼š</p>
<pre><code>function People(name,age){
    this.name = name;
    this.age = age;
} //ä¸ç®¡è£…çš„å¤šåƒæ˜¯æ„é€ æ–¹æ³•ï¼Œé‚£ä¹Ÿä¸æ˜¯çœŸæ­£çš„æ„é€ æ–¹æ³•
People.prototype.say = function(){
    console.log(&#39;My name is &#39;+this.name+&#39; ,I am &#39;+this.age+&#39; years old&#39;)
}
var zyx = new People(&#39;zyx&#39;,22); //å‡è£…æ˜¯newä¸€ä¸ªå¯¹è±¡
zyx.say(); //My name is zyx ,I am 22 years old
</code></pre><p>è¿™æ ·çš„å†™æ³•å’Œé‚£äº›é¢å‘å¯¹è±¡çš„è¯­è¨€æ¯”å¦‚javaä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å†™æ³•å¤§ç›¸å¾„åº­ï¼Œæœ¬æ¥åŸºäºå¯¹è±¡å°±å·²ç»å¾ˆå¥‡æ€ªäº†ï¼Œç°åœ¨è¿™æ ·ä¸€é—¨åŸºäºå¯¹è±¡çš„è¯­è¨€ç«Ÿç„¶è¿˜æœ‰è¿™æ ·å¥‡æ€ªçš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ–¹å¼ï¼Œé‚£å²‚ä¸æ˜¯è®©ä¸äº†è§£çš„äººæ›´åŠ è§‰å¾—jsæ˜¯ä¸€é—¨â€œä¸æ­£ç»â€çš„è¯­è¨€ï¼Œæ‰€ä»¥eså¼•å…¥äº†classå…³é”®å­—ï¼Œå¼•å…¥äº†ç±»çš„æ¦‚å¿µï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨jså°±å·²ç»èœ•å˜ä¸ºåƒjavaé‚£æ ·çš„é¢å‘å¯¹è±¡çš„è¯­è¨€äº†ï¼Œjsèœ•å˜ä¹‹è·¯ä»es6æ‰åˆšåˆšå¼€å§‹ï¼Œæ®æˆ‘æ‰€çŸ¥classå…³é”®å­—åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒçš„å†…éƒ¨åŸç†å…¶å®å’Œä¸Šè¾¹è¿™ç§å†™æ³•ä¸€æ ·ï¼Œæ–¹æ³•å…¨åœ¨è¯¥å¯¹è±¡çš„prototypeå±æ€§ä¸Šï¼Œä½†æ˜¯èµ·ç å†™æ³•ä¸Šæ¯”è¾ƒç¬¦åˆé‚£äº›é¢å‘å¯¹è±¡çš„è¯­è¨€ä¸­çš„é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼š</p>
<pre><code>class People{
    constructor(name,age){
        this.name = name;
        this.age = age;
    }
    say(){
        console.log(`My name is ${this.name}, I am ${this.age} years old`)
    }
}
let zyx = new People(&#39;zyx&#39;,23); //æ³¨æ„è¿™é‡Œï¼Œclasså®šä¹‰çš„ç±»åªèƒ½é€šè¿‡newå…³é”®å­—æ¥åˆ›å»ºå®ä¾‹
zyx.say();//My name is zyx ,I am 23 years old
</code></pre><p><strong><em>ä¸ºäº†æ›´åŠ è¶‹å‘äºé¢å‘å¯¹è±¡ï¼Œes6é™åˆ¶äº†classå®šä¹‰çš„ç±»åªèƒ½ç”¨newå…³é”®å­—å»åˆ›å»ºå®ä¾‹</em></strong></p>
<h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><pre><code>export default calss XXX extends Component{}
</code></pre><p>æ®è¯´react.jsä¸­åˆ°å¤„æ˜¯è¿™æ ·çš„å†™æ³•ï¼Œä½†æ˜¯æˆ‘æœ¬äººç›®å‰è¿˜æ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ è¿‡reactï¼Œæ‰€ä»¥zaä¹Ÿä¸çŸ¥é“ï¼Œzaä¹Ÿä¸æ•¢è¯´ï¼Œzaä¹Ÿä¸æ•¢é—®å•Šã€‚</p>
<p><strong><em>æ—¢ç„¶æœ‰ç±»çš„æ¦‚å¿µäº†ï¼Œé‚£ä¹ˆç»§æ‰¿è‚¯å®šæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œç”¨æˆ‘ä»¬å…¬å¸å¤§ä½¬çš„è¯æ¥è¯´ç»§æ‰¿å°±æ˜¯ï¼ˆå’³å’³ï¼Œè¯¥æ‹¿å‡ºç¬”è®°æœ¬è®°ç¬”è®°äº†ï¼‰ï¼šå°†ä¸€äº›å¯ä»¥é‡å¤ä½¿ç”¨çš„ä»£ç æŠ½è±¡ï¼Œæ”¾åˆ°é¡¶å±‚å·²ä¾›æ›´å¤šç»„ä»¶å»ä½¿ç”¨ï¼Œä»è€Œå‡å°‘é‡å¤ä»£ç ï¼Œæé«˜ä»£ç è´¨é‡çš„ä¸€ç§æ–¹æ³•</em></strong></p>
<p>é‚£ä¹ˆes6ä¸­æ—¢ç„¶æœ‰classï¼Œé‚£å¿…ç„¶ä¼šæœ‰extendsäº†ï¼Œä¸‹è¾¹ç®€å•çš„ä»¥ä¸Šè¾¹é‚£ä¸ªpeopleç±»ä¸ºçˆ¶ç±»ä¸¾ä¸ªæ —å­ï¼ˆä¸ªäººæ¯”è¾ƒå–œæ¬¢åƒè¿™å®¶çš„æ —å­ï¼‰ï¼š</p>
<pre><code>class ShangHaiPeople extends People {
    constructor(name,age,money){
        super(name,age);
        this.money = money;
    }

    say(){
        console.log(`My name is ${this.name}, I am ${this.age} years oldï¼ŒI am a ShangHaiPeople,I have ï¿¥ ${this.money}`)
    }
}

let zyx = new ShangHaiPeople(&#39;zyx&#39;,22,100000000)
zyx.say();//My name is zyx, I am 22 years oldï¼ŒI am a ShangHaiPeople,I have ï¿¥ 100000000
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>é¢å‘å¯¹è±¡</tag>
        <tag>Javascript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>Dvaå…¥é—¨</title>
    <url>/2021/07/24/dva1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>å¯¹äºDvaæˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼šDvaé‡æ–°ç»„ç»‡äº†reacté¡¹ç›®ï¼Œå†…ç½®äº†react-routerï¼Œreduxï¼Œrequestï¼Œå‡å°‘äº†é…ç½®è¿™äº›æ¨¡å—çš„ä»£ç ï¼Œå°†ç¨‹åºçŒ¿çš„ç²¾åŠ›éƒ½ç•™ç»™å¤„ç†ä¸šåŠ¡é€»è¾‘ </em></strong></p>
<a id="more"></a>
<h1 id="ä»€ä¹ˆæ˜¯Dva"><a href="#ä»€ä¹ˆæ˜¯Dva" class="headerlink" title="ä»€ä¹ˆæ˜¯Dva"></a>ä»€ä¹ˆæ˜¯Dva</h1><blockquote>
<p>DvaåŸºäºç°æœ‰åº”ç”¨æ¶æ„ (redux + react-router + redux-saga ç­‰)çš„ä¸€å±‚è½»é‡å°è£…ï¼Œæ²¡æœ‰å¼•å…¥ä»»ä½•æ–°æ¦‚å¿µï¼Œå…¨éƒ¨ä»£ç ä¸åˆ° 100 è¡Œã€‚</p>
</blockquote>
<p>è¿™æ˜¯Dvaå®˜æ–¹æ–‡æ¡£ä¸­å¯¹å®ƒçš„ä»‹ç»ï¼Œæˆ‘çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼š</p>
<p>Dvaé‡æ–°ç»„ç»‡äº†reacté¡¹ç›®ï¼Œå†…ç½®äº†react-routerï¼Œreduxï¼Œrequestï¼Œå‡å°‘äº†é…ç½®è¿™äº›æ¨¡å—çš„ä»£ç ï¼Œå°†ç¨‹åºçŒ¿çš„ç²¾åŠ›éƒ½ç•™ç»™å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>ä½¿ç”¨Dvaéå¸¸ç®€å•ï¼Œé¦–å…ˆé€šè¿‡ npm å®‰è£… dva-cli å¹¶ç¡®ä¿ç‰ˆæœ¬æ˜¯ 0.9.1 æˆ–ä»¥ä¸Šã€‚</p>
<pre><code>$ npm install dva-cli -g
$ dva -v
dva-cli version 0.9.1
</code></pre><p>å®‰è£…å®Œ dva-cli ä¹‹åï¼Œå°±å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œè®¿é—®åˆ° dva å‘½ä»¤ï¼ˆä¸èƒ½è®¿é—®ï¼Ÿï¼‰ã€‚ç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡ dva new åˆ›å»ºæ–°åº”ç”¨ã€‚</p>
<pre><code>$ dva new dva-quickstart
</code></pre><p>è¿™ä¼šåˆ›å»º dva-quickstart ç›®å½•ï¼ŒåŒ…å«é¡¹ç›®åˆå§‹åŒ–ç›®å½•å’Œæ–‡ä»¶ï¼Œå¹¶æä¾›å¼€å‘æœåŠ¡å™¨ã€æ„å»ºè„šæœ¬ã€æ•°æ® mock æœåŠ¡ã€ä»£ç†æœåŠ¡å™¨ç­‰åŠŸèƒ½ã€‚</p>
<p>ç„¶åæˆ‘ä»¬ cd è¿›å…¥ dva-quickstart ç›®å½•ï¼Œå¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š</p>
<pre><code>$ cd dva-quickstart
$ npm start
</code></pre><p>ä¹‹åå°±ä¼šè‡ªæ‰“å¼€ç³»ç»Ÿé»˜è®¤æµè§ˆå™¨ï¼Œå¹¶è®¿é—®<code>http://localhost:8000/</code>,åªæ˜¯åå°±èƒ½çœ‹åˆ°dvaçš„æ¬¢è¿é¡µé¢äº†</p>
<h1 id="dvaä¸­çš„æ•°æ®æµå‘ï¼Œä»¥åŠdvaè„šæ‰‹æ¶æ­å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„"><a href="#dvaä¸­çš„æ•°æ®æµå‘ï¼Œä»¥åŠdvaè„šæ‰‹æ¶æ­å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„" class="headerlink" title="dvaä¸­çš„æ•°æ®æµå‘ï¼Œä»¥åŠdvaè„šæ‰‹æ¶æ­å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„"></a>dvaä¸­çš„æ•°æ®æµå‘ï¼Œä»¥åŠdvaè„šæ‰‹æ¶æ­å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„</h1><h2 id="é¡¹ç›®ç›®å½•ç»“æ„"><a href="#é¡¹ç›®ç›®å½•ç»“æ„" class="headerlink" title="é¡¹ç›®ç›®å½•ç»“æ„"></a>é¡¹ç›®ç›®å½•ç»“æ„</h2><p><a href="https://blog.csdn.net/wangrong111222/article/details/79835490" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p>
<blockquote>
<p>é¡¹ç›®ä¸­ä¸€èˆ¬srcé‡Œçš„ç›®å½•æ ‡é…ï¼š</p>
<ul>
<li>./assets   :æ”¾ç½®é™æ€èµ„æº æ¯”å¦‚å›¾ç‰‡;</li>
<li>./components   :æ”¾ç½®æœ¨å¶ç»„ä»¶ï¼Œåªè´Ÿè´£ä»./routesçš„æ™ºèƒ½ç»„ä»¶æ¥è¯»å–propså¡«å……å±•ç¤ºï¼Œä¸€èˆ¬æ¥è®²æ˜¯çº¯å‡½æ•°çš„reactä¹¦å†™æ–¹å¼;</li>
<li>./models   :æ˜¯ä¸€ä¸ªå¤„ç†æ•°æ®çš„åœ°æ–¹ï¼Œæ¯”å¦‚åœ¨modelé‡Œé¢è°ƒç”¨./serviceè¾“å‡ºçš„æ–¹æ³•æ¥è·å–æ•°æ®å¡«å……åˆ°store;å…¶å®æˆ‘è§‰å¾—å°±æ˜¯storeçš„æ•´ä½“çš„é›†åˆï¼Œä»¥ namespaceä½œä¸ºå”¯ä¸€æ ‡è¯†è¿›è¡ŒåŒºåˆ†ï¼›</li>
<li>./routes   :æ”¾ç½®è‹¥å¹²æ™ºèƒ½ç»„ä»¶çš„åœ°æ–¹ï¼Œæ™ºèƒ½ç»„ä»¶é‡Œä¸€èˆ¬é€šè¿‡dvaçš„connectï¼ˆ({yourModle})=&gt;({yourModle})ï¼‰ï¼ˆyourComponentï¼‰æ–¹æ³•æ¥å’Œä½ çš„ç»„ä»¶æ¥å®ç°æ•°æ®äº’é€šçš„ï¼Œç”Ÿæˆå¸¦æ•°æ®çš„æ´»ç»„ä»¶ï¼›ï¼ˆä¸€èˆ¬æ¥è®²æ™ºèƒ½ç»„ä»¶çš„æ ·å¼ä¹Ÿåœ¨è¿™çº§ç›®å½•ï¼Œå› ä¸ºç»„ä»¶å°±è¿‘ç»´æŠ¤åŸåˆ™å§ï¼‰;</li>
<li>./services   :è´Ÿè´£å‘åå°è¯·æ±‚æ•°æ®ï¼Œåœ¨servicesé‡Œè°ƒç”¨åå°æä¾›çš„apiè·å–æ•°æ®;</li>
<li>./utils   :æ”¾ç½®å·¥å…·ç±»ï¼šæ¯”å¦‚å¸¸è§çš„åå°æ¥å£è¯·æ±‚å·¥å…·ç±»ï¼›è¿™é‡Œæ˜¯é»˜è®¤å°è£…äº†fetchæ•°æ®äº¤äº’çš„æ–¹æ³•ï¼Œç›´æ¥å…¥å‚è°ƒç”¨å³å¯;</li>
<li>index.css   :index.htmlçš„æ ·å¼ï¼Œä½ æ‡‚çš„;</li>
<li>index.js   :ä¸»é¡µçš„å…¥å£ä½ç½®ï¼Œä¹Ÿæ˜¯åˆå§‹åŒ–dvaçš„ä½ç½®ï¼›ä»€ä¹ˆ app.use( )/app.model( )/app.router( )/app.start( )éƒ½æ˜¯åœ¨è¿™é‡Œçš„å®Œæˆçš„;</li>
<li>index.html   :å…¥å£æŒ‚è½½domçš„htmlæ¨¡æ¿;</li>
<li>router.js   :é…ç½®è·¯ç”±çš„åœ°æ–¹ï¼Œä¼šä»./routesæ–‡ä»¶å¤¹ä¸‹å¼•å…¥å†™å¥½çš„æ™ºèƒ½ç»„ä»¶æ¥ç»„è£…é¡µé¢ï¼Œexport default å‡ºä¸€ä¸ªæ–¹æ³•æ¥ç”Ÿæˆrouterç»“æ„ã€‚</li>
</ul>
</blockquote>
<h1 id="æ•°æ®æµå‘é—®é¢˜"><a href="#æ•°æ®æµå‘é—®é¢˜" class="headerlink" title="æ•°æ®æµå‘é—®é¢˜"></a>æ•°æ®æµå‘é—®é¢˜</h1><p>æ•°æ®æµå‘ç®€å•æ¥è¯´çš„è¯å°±æ˜¯ï¼š</p>
<p><code>server----&gt;services----&gt;models----&gt;routes----&gt;components</code></p>
<p>è¿™æ ·è¯´å¯èƒ½æœ‰ç‚¹è¿‡äºç®€å•ï¼Œä¸‹é¢å°±ä»¥è·å–ä¸€ä¸ªè¡¨æ ¼æ•°æ®ä¸ºä¾‹ï¼Œçœ‹çœ‹å…·ä½“æ•°æ®æµå‘</p>
<p>å¤šè¯ä¸è¯´ç›´æ¥ä¸Šä»£ç ï¼š</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬çš„è¡¨æ ¼æ•°æ®æ˜¯ä»åç«¯æœåŠ¡å™¨é€šè¿‡è¯·æ±‚æ¥å£è·å–åˆ°çš„ï¼Œé‚£ä¹ˆä¸Šé¢ä¹Ÿè¯´äº†ï¼Œ<code>services</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>.js</code>æ–‡ä»¶çš„ä»»åŠ¡å°±æ˜¯è¯·æ±‚æ¥å£ä»åç«¯æ‹¿åˆ°æ•°æ®ï¼š</p>
<pre><code>// services/test.js
import request from &#39;../utils/request&#39; //è¿™é‡Œå¯¼å…¥dvaå°è£…çš„requestæ¨¡å—

export function fetchData(){ // è¿™æ˜¯ä¸€ä¸ªæ— å‚è¯·æ±‚çš„ç¤ºä¾‹                                                                               const url = &#39;xxxxxxxxxx&#39;                       
    return request(url)
}
export function fetchData1(params){ // è¿™æ˜¯ä¸€ä¸ªå¸¦å‚è¯·æ±‚çš„ç¤ºä¾‹
    const url = &#39;xxxxxxxxxx&#39;                       
    return request(url,{...params})
}
</code></pre><p>åœ¨è¿™é‡Œï¼Œä½¿ç”¨dvaå°è£…çš„requestå‘åç«¯å‘é€è¯·æ±‚ï¼Œæ¥æ”¶åˆ°æ•°æ®ä¹‹åä½œä¸ºå‡½æ•°çš„è¿”å›å€¼returnå‡ºå»ã€‚</p>
<pre><code>// models/test.js
import {fetchData,fetchData1} from &#39;../services/test&#39;
export default {
    namespace:&quot;test&quot;,
    state:{
        data : {},
        data1:{}
    },
    reducers:{
        getData:(state,action)=&gt;{ // è¿™é‡Œå°±å’Œreduxçš„reducerä¸€æ ·ï¼Œå»æ›´æ–°çŠ¶æ€
            const newState = Object.assign({},state)
            // console.log(action)
            newState.data = action.value
            return newState; 
        },
        getData1:(state,action)=&gt;{
            const newState = Object.assign({},state)
            // console.log(action)
            newState.data1 = action.value
            return newState;
        }
    },
    effects:{
        *fetchData(action,opr){
            const call = opr.call;
            const put = opr.put;
            const res = yield call(fetchData) //è°ƒç”¨servicesé‡Œçš„å‡½æ•°è·å¾—è¿”å›å€¼

            // console.log(res,111)
            const a = {
                type:&#39;getData&#39;,
                value:res.data
            }
            yield put(a) //å‘reducersæäº¤ä¸€ä¸ªaction
            return res; //è¿™é‡Œè¿”å›çš„å€¼ä¼šä¼ åˆ°dispatch().then()çš„æˆåŠŸå›è°ƒå‚æ•°é‡Œ
        },
        *fetchData1(action,opr){
            const call = opr.call;
            const put = opr.put;
            const res = yield call(fetchData1,params) //æœ‰å‚æ— å‚åŒºåˆ«å°±åœ¨äºè¿™é‡Œ

            // console.log(res,111)
            const a = {
                type:&#39;getData&#39;,
                value:res.data
            }
            yield put(a)
            return res;
        }
    }

}

</code></pre><p>modelså±‚å†™å¥½äº†ï¼Œè¿™é‡Œæœ‰ä¸€æ­¥è‡³å…³é‡è¦ï¼Œé‚£å°±æ˜¯å»index.jsæ³¨å†Œè¿™ä¸ªmodelï¼š</p>
<pre><code>index.js

// + app.model(require(&#39;./models/test&#39;).default);

</code></pre><p>æ ¹æ®åˆšæ‰æ‰€è¯´çš„æ•°æ®æµå‘ï¼Œç°åœ¨è½®åˆ°äº†routeså±‚ï¼š</p>
<pre><code>import React, { Component } from &#39;react&#39;;
import {connect} from &#39;dva&#39; //è¿™é‡Œå¯¼å…¥dvaçš„connectå‡½æ•°
class Test extends Component {

 fetchData=()=&gt;{
        const dispatch = this.props.dispatch;
        const action = {
            type : &#39;test/fetchData&#39;,
            value:1
        }
        dispatch(action).then(res=&gt;{ //è¿™é‡Œæäº¤actionå°±å’Œreduxä¸€æ ·
            console.log(res)
        })
       }
        fetchData1=()=&gt;{
        const dispatch = this.props.dispatch;
        const action = {
            type : &#39;test/fetchData1&#39;,
            value:1
        }
        dispatch(action).then(res=&gt;{
            console.log(res)
        })
       }

    render() {
        // console.log(this.props)åœ¨è¿™é‡Œæœ‰æˆ‘ä»¬æ“ä½œå…¨å±€çŠ¶æ€ç”¨çš„dispatchå‡½æ•°ä»¥åŠä¸‹è¾¹å›è°ƒå‡½æ•°è¿”å›çš„é‚£äº›å±æ€§åå’Œå¯¹åº”çš„å€¼

        return (
            &lt;div&gt;
              &lt;Button onClick={()=&gt;{this.fetchData()}}&gt;fetchData&lt;/Button&gt;
              &lt;Button onClick={()=&gt;{this.fetchData1()}}&gt;fetchData&lt;/Button&gt;

            &lt;/div&gt;
        );
    }
}

export default connect(state=&gt;{ //è¿™é‡Œçš„stateæ˜¯å…¨å±€çš„state

    const data = state.test.data; //æ¯ä¸€ä¸ªmodelä¸‹çš„namespaceåœ¨ç»„åˆçš„æ—¶å€™å˜æˆäº†ä¸€ä¸ªå…¨å±€stateçš„ä¸€ä¸ªkeyï¼Œè¿™ä¸ªkeyæ‰€å¯¹åº”çš„valueå°±æ˜¯è¯¥namespaceä¸‹å¯¹åº”çš„stateçš„å€¼
    const data = state.test.data;
    const data1 = state.test.data1;


    return{ //è¿™ä¸ªå›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼šè¢«è§£æ„ï¼Œç„¶ååˆå¹¶åˆ°åè¾¹æ‹¬å·ä¸­ç»„ä»¶çš„propså½“ä¸­
        data,
        data1
    }
})(Test); //ç»è¿‡connectåŒ…è£…åï¼Œä¼šèµ‹äºˆTestè¿™ä¸ªç»„ä»¶ä¸€äº›æˆ‘ä»¬è¦ç”¨åˆ°çš„ä¸œè¥¿
// export default Test;
</code></pre><p>å…¶å®connectå‡½æ•°æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œ<a href="http://www.zhangyongxuan.com/2021/07/18/hoc/">ç‚¹è¿™é‡Œå¤ä¹ é«˜é˜¶ç»„ä»¶</a></p>
<p>è¿™æ ·ï¼Œæ•´ä¸ªæ•°æ®æµç¨‹ï¼Œä»è¯·æ±‚æ•°æ®åˆ°æ•°æ®æ¸²æŸ“æ•´ä¸ªæµç¨‹å°±è·‘å®Œäº†ï¼Œè¿™æ ·èµ°ä¸€éä¹‹åæ˜¯ä¸æ˜¯è§‰å¾—dvaçš„æ•°æ®æµå‘å…¶å®ä¹Ÿå¹¶ä¸å¤æ‚</p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>å‰ç«¯</tag>
        <tag>Dva</tag>
      </tags>
  </entry>
  <entry>
    <title>Generatorå‡½æ•°å’Œasyncå‡½æ•°</title>
    <url>/2021/07/16/generatorandasync/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>æœ¬æ–‡æ‰€æœ‰å¼•ç”¨éƒ½å‡ºè‡ªâ€”â€“&gt;é˜®ä¸€å³°ã€ŠES6å…¥é—¨ã€‹</em></strong><br><a id="more"></a></p>
<h1 id="Generatorå‡½æ•°"><a href="#Generatorå‡½æ•°" class="headerlink" title="Generatorå‡½æ•°"></a>Generatorå‡½æ•°</h1><p>Generatorå‡½æ•°æ˜¯es6æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œä¸åŒäºpromiseçš„æ˜¯ï¼ŒGeneratorçš„è¯­æ³•å®Œå…¨æ˜¯ä»¥åŒæ­¥ç¼–ç¨‹çš„æ–¹å¼æ¥å®ç°å¼‚æ­¥æ“ä½œï¼Œè€Œpromiseå…¶å®å°±æ˜¯å›è°ƒçš„å°è£…ï¼Œæ“ä½œå¤æ‚äº†ä¹‹åï¼Œä»£ç çœ‹èµ·æ¥å°±æ˜¯ä¸€ä¸²thenå‡½æ•°ï¼Œå¯è¯»æ€§ä¹Ÿå¾ˆä½ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„Generatorå‡½æ•°ï¼š</p>
<pre><code>function* fun(x){
    let result = yield x+2; // çŠ¶æ€01  è¿™é‡Œæ³¨æ„ï¼Œyieldè¿™ä¸ªå…³é”®å­—çš„ä½œç”¨æ˜¯Generatorå‡½æ•°å‘å‡½æ•°å¤–éƒ¨è½¬é€’çŠ¶æ€
    return result; //çŠ¶æ€02 è¿™ä¸ªGeneratorå‡½æ•°æœ€ç»ˆçš„çŠ¶æ€
}
let g = fun(3); //é¦–å…ˆè·å–Generatorå‡½æ•°äº§ç”Ÿçš„éå†å™¨å¯¹è±¡
let status1 = g.next(); //æ‰§è¡Œéå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œä½¿æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªçŠ¶æ€ -&gt;01
console.log(status1); // {value:5,done:false} valueæ˜¯yieldåè¾¹è¡¨è¾¾å¼çš„å€¼ï¼Œdoneæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸ
let result = g.next(status1); //æ‰§è¡Œéå†å™¨å¯¹è±¡çš„nextæ–¹æ³•ï¼Œä½¿æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªçŠ¶æ€-&gt;02
console.log(result); // {value:5,done:false}
</code></pre><blockquote>
<p>nextæ–¹æ³•çš„ä½œç”¨æ˜¯åˆ†é˜¶æ®µæ‰§è¡ŒGeneratorå‡½æ•°ã€‚æ¯æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„ä¿¡æ¯ï¼ˆvalueå±æ€§å’Œdoneå±æ€§ï¼‰ã€‚valueå±æ€§æ˜¯yieldè¯­å¥åé¢è¡¨è¾¾å¼çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰é˜¶æ®µçš„å€¼ï¼›doneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Generator å‡½æ•°æ˜¯å¦æ‰§è¡Œå®Œæ¯•ï¼Œå³æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</p>
</blockquote>
<p>Generatorå‡½æ•°æœ‰ä¸€ç‚¹å’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œå°±æ˜¯returnåè¾¹çš„ä»£ç æ˜¯ä¸ä¼šè¢«æ‰§è¡Œåˆ°çš„ï¼Œå½“ä½¿ç”¨è§£æ„èµ‹å€¼æŸ¥çœ‹å‡½æ•°æ‰§è¡Œç»“æœçš„æ—¶å€™ï¼Œå®ƒåªä¼šéå†doneä¸ºfalseçš„valueï¼š</p>
<pre><code>function * fun(){
    yield 1;
    yield 2;
    yield 3;
    return 4;
}
console.log([...fun()]) //  [1, 2, 3]
</code></pre><p>ä½¿ç”¨Genneratorå®ç°å¼‚æ­¥ç¼–ç¨‹çš„ä¾‹å­ ï¼š</p>
<pre><code>function * fun (){
    let result = yield new Promise((resolve,reject)=&gt;{
        resolve({
            code : 1,
            msg : &#39;æ•°æ®åŠ è½½æˆåŠŸ&#39;
        })
    }) //è¿™é‡Œä½¿ç”¨ä¸€ä¸ªPromiseå¯¹è±¡æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚
    console.log(result);
}
let g = fun();
let status1 = g.next(); //è·å–çŠ¶æ€1
status1.value.then((data)=&gt;{
    g.next(data);
}).catch((err)=&gt;{
    console.error(err);
}) //{code: 1, msg: &quot;æ•°æ®åŠ è½½æˆåŠŸ&quot;}

</code></pre><p>é¦–å…ˆè°ƒç”¨ç¬¬ä¸€æ¬¡yieldçš„æ—¶å€™æ‰§è¡Œåè¾¹é‚£ä¸ªPromiseå¼‚æ­¥æ“ä½œï¼Œå°†è¿™ä¸ªPromiseå¯¹è±¡ä½œä¸ºéå†å™¨å¯¹è±¡çš„valueå±æ€§ä¼ åˆ°å‡½æ•°å¤–éƒ¨ï¼Œåœ¨å‡½æ•°å¤–éƒ¨thenå‡½æ•°ä¸­å¯¹nextæ–¹æ³•è¿›è¡Œç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œå°†promiseä¼ å‡ºçš„dataä½œä¸ºnextå‡½æ•°çš„å‚æ•°ä¼ å›å‡½æ•°å†…éƒ¨å®Œæˆå¼‚æ­¥æ“ä½œã€‚<br><strong><em>nodejsä¸­çº¦å®šçš„å›è°ƒå‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯errorå°±æ˜¯å› ä¸ºåŸå› æ˜¯æ‰§è¡Œåˆ†æˆä¸¤æ®µï¼Œç¬¬ä¸€æ®µæ‰§è¡Œå®Œä»¥åï¼Œä»»åŠ¡æ‰€åœ¨çš„ä¸Šä¸‹æ–‡ç¯å¢ƒå°±å·²ç»ç»“æŸäº†ã€‚åœ¨è¿™ä»¥åæŠ›å‡ºçš„é”™è¯¯ï¼ŒåŸæ¥çš„ä¸Šä¸‹æ–‡ç¯å¢ƒå·²ç»æ— æ³•æ•æ‰ï¼Œåªèƒ½å½“ä½œå‚æ•°ï¼Œä¼ å…¥ç¬¬äºŒæ®µã€‚</em></strong></p>
<h1 id="Thunkå‡½æ•°-ç®€å•äº†è§£"><a href="#Thunkå‡½æ•°-ç®€å•äº†è§£" class="headerlink" title="Thunkå‡½æ•°(ç®€å•äº†è§£)"></a>Thunkå‡½æ•°(ç®€å•äº†è§£)</h1><p>Thunk å‡½æ•°æ˜¯è‡ªåŠ¨æ‰§è¡Œ Generator å‡½æ•°çš„ä¸€ç§æ–¹æ³•ã€‚</p>
<pre><code>// æ­£å¸¸ç‰ˆæœ¬çš„readFileï¼ˆå¤šå‚æ•°ç‰ˆæœ¬ï¼‰
fs.readFile(fileName, callback);

// Thunkç‰ˆæœ¬çš„readFileï¼ˆå•å‚æ•°ç‰ˆæœ¬ï¼‰
var Thunk = function (fileName) {
  return function (callback) {
    return fs.readFile(fileName, callback);
  };
};

var readFileThunk = Thunk(fileName);
readFileThunk(callback);
</code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œfsæ¨¡å—çš„readFileæ–¹æ³•æ˜¯ä¸€ä¸ªå¤šå‚æ•°å‡½æ•°ï¼Œä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸ºæ–‡ä»¶åå’Œå›è°ƒå‡½æ•°ã€‚ç»è¿‡è½¬æ¢å™¨å¤„ç†ï¼Œå®ƒå˜æˆäº†ä¸€ä¸ªå•å‚æ•°å‡½æ•°ï¼Œåªæ¥å—å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå•å‚æ•°ç‰ˆæœ¬ï¼Œå°±å«åš Thunk å‡½æ•°ã€‚</p>
<h1 id="asyncå‡½æ•°"><a href="#asyncå‡½æ•°" class="headerlink" title="asyncå‡½æ•°"></a>asyncå‡½æ•°</h1><p>asyncå‡½æ•°å¿…é¡»æ­é…å…³é”®å­—awaitä½¿ç”¨ï¼Œå°±æ˜¯è¯´åªæœ‰asyncå‡½æ•°å†…éƒ¨æ‰å¯ä»¥ä½¿ç”¨awaitå…³é”®å­—ã€‚asyncå‡½æ•°å…¶å®å°±æ˜¯Generatorå‡½æ•°çš„è¯­æ³•ç³–ï¼Œasyncå‡½æ•°è¿”å›çš„ä¹Ÿæ˜¯ä¸ªpromiseå¯¹è±¡ã€‚</p>
<pre><code>const gen = function* () {
  const f1 = yield readFile(&#39;/etc/fstab&#39;);
  const f2 = yield readFile(&#39;/etc/shells&#39;);
  console.log(f1.toString());
  console.log(f2.toString());
};
</code></pre><p>è¿™æ˜¯ä¸€ä¸ªGeneratorå‡½æ•°è¯»å–æ–‡ä»¶çš„ä¾‹å­ï¼Œæ”¹å†™ä¸ºasync/awaitæ–¹å¼å°±æ˜¯ä¸‹è¾¹è¿™æ ·ï¼š</p>
<pre><code>const asyncReadFile = async function () {
  const f1 = await readFile(&#39;/etc/fstab&#39;);
  const f2 = await readFile(&#39;/etc/shells&#39;);
  console.log(f1.toString());
  console.log(f2.toString());
};
</code></pre><p>æˆ‘ä»¬è§‚å¯Ÿåå‘ç°ï¼Œä»è¡¨é¢çœ‹æ¥å°±æ˜¯å°†*æ›¿æ¢ä¸ºasyncï¼Œå°†yieldæ›¿æ¢ä¸ºawaitï¼Œä½†æ˜¯å®ƒæ¯”Generatorå‡½æ•°çš„æœ‰ç‚¹æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h3 id="1-å†…ç½®æ‰§è¡Œå™¨"><a href="#1-å†…ç½®æ‰§è¡Œå™¨" class="headerlink" title="1.å†…ç½®æ‰§è¡Œå™¨"></a>1.å†…ç½®æ‰§è¡Œå™¨</h3><p>ä¸åŒäºGeneratorå‡½æ•°çš„æ‰§è¡Œï¼Œasyncå‡½æ•°ä¸éœ€è¦å»ä¸€æ­¥æ­¥è°ƒç”¨nextå‡½æ•°ï¼Œè€Œæ˜¯åªéœ€è¦ä¸€è¡Œä»£ç è°ƒç”¨å³å¯ã€‚</p>
<pre><code>async function  fun(){
    let a = await new Promise((resolve,reject)=&gt;{
        resolve(1111);
    })
    console.log(a);
}
fun(); //  111
</code></pre><h3 id="2-æ›´å¥½çš„è¯­ä¹‰"><a href="#2-æ›´å¥½çš„è¯­ä¹‰" class="headerlink" title="2.æ›´å¥½çš„è¯­ä¹‰"></a>2.æ›´å¥½çš„è¯­ä¹‰</h3><p>ç›¸æ¯”äºGeneratorå‡½æ•°çš„*å’Œyieldè€Œè¨€ï¼Œasyncå’Œawaitæ›´åŠ ä¾¿äºç†è§£ã€‚asyncè¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚</p>
<h3 id="3-æ›´å¹¿çš„é€‚ç”¨æ€§"><a href="#3-æ›´å¹¿çš„é€‚ç”¨æ€§" class="headerlink" title="3.æ›´å¹¿çš„é€‚ç”¨æ€§"></a>3.æ›´å¹¿çš„é€‚ç”¨æ€§</h3><blockquote>
<p>coæ¨¡å—çº¦å®šï¼Œyieldå‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œasyncå‡½æ•°çš„awaitå‘½ä»¤åé¢ï¼Œå¯ä»¥æ˜¯ Promise å¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ä¼šè‡ªåŠ¨è½¬æˆç«‹å³ resolved çš„ Promise å¯¹è±¡ï¼‰ã€‚</p>
</blockquote>
<h3 id="4-è¿”å›å€¼æ˜¯-Promise"><a href="#4-è¿”å›å€¼æ˜¯-Promise" class="headerlink" title="4.è¿”å›å€¼æ˜¯ Promise"></a>4.è¿”å›å€¼æ˜¯ Promise</h3><blockquote>
<p>asyncå‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨thenæ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚<br>è¿›ä¸€æ­¥è¯´ï¼Œasyncå‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œawaitå‘½ä»¤å°±æ˜¯å†…éƒ¨thenå‘½ä»¤çš„è¯­æ³•ç³–ã€‚</p>
</blockquote>
<h2 id="asyncå‡½æ•°æ‰§è¡Œé¡ºåº"><a href="#asyncå‡½æ•°æ‰§è¡Œé¡ºåº" class="headerlink" title="asyncå‡½æ•°æ‰§è¡Œé¡ºåº"></a>asyncå‡½æ•°æ‰§è¡Œé¡ºåº</h2><p>å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ°awaitå°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚</p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Javascript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°ç»„å¸¸ç”¨æ–¹æ³•</title>
    <url>/2021/07/16/arrayfun/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>æ•°ç»„å¸¸ç”¨æ–¹æ³•</em></strong><br><a id="more"></a></p>
<h1 id="æ•°ç»„å¸¸ç”¨æ–¹æ³•"><a href="#æ•°ç»„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="æ•°ç»„å¸¸ç”¨æ–¹æ³•"></a>æ•°ç»„å¸¸ç”¨æ–¹æ³•</h1><h2 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h2><ul>
<li>å¯¹ä¼ªæ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡(åŒ…æ‹¬arguments Array,Map,Set,Stringâ€¦)è½¬æ¢æˆæ•°ç»„å¯¹è±¡</li>
</ul>
<pre><code>function * fun(){
    yield 1;
    yield 11;
    yield 111;
    yield 1111;
    yield 11111;
}
let g = fun();
let arr = Array.from(g);
console.log(arr); //[1, 11, 111, 1111, 11111] 
</code></pre><h2 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray()"></a>Array.isArray()</h2><ul>
<li>ç”¨äºæ£€æµ‹ä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸ºæ•°ç»„å¯¹è±¡ï¼š</li>
</ul>
<pre><code>Array.isArray([]) //true
Array.isArray({}) //false
</code></pre><h2 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h2><ul>
<li>ç”¨äºç”Ÿæˆä¸€ä¸ªç”±å‚æ•°æ„æˆçš„æ•°ç»„</li>
</ul>
<pre><code>Array.of(7);       // [7] 
Array.of(1, 2, 3); // [1, 2, 3]

Array(7);          // [ , , , , , , ]
Array(1, 2, 3);    // [1, 2, 3]
</code></pre><h2 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h2><p>ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</p>
<pre><code>var arr1 = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];
    var arr2 = [&#39;d&#39;, &#39;e&#39;, &#39;f&#39;];
    var arr3 = [&#39;f&#39;];
    var arr4 = arr1.concat(arr2,arr3);
    // arr4 is a new array [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot; ]
</code></pre><h2 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h2><ul>
<li>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ </li>
</ul>
<pre><code>var arr= [1,10,20,30]
var brr = arr.filter((item)=&gt;{
    return item&gt;10;
})  //[20,30]
</code></pre><h2 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h2><ul>
<li>è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼</li>
</ul>
<pre><code>function isBigEnough(element) {
    return element &gt;= 15;
    }
    [12, 5, 8, 130, 44].find(isBigEnough); // 130
</code></pre><h2 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex()"></a>findIndex()</h2><ul>
<li>è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•</li>
</ul>
<pre><code>function isBigEnough(element) {
  return element &gt;= 15;
}
[12, 5, 8, 130, 44].findIndex(isBigEnough);  //&#39;3&#39;
</code></pre><h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h2><ul>
<li>æ–¹æ³•å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æä¾›çš„å‡½æ•°</li>
</ul>
<pre><code>var a = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;];
a.forEach(function (element, index, array) {
    // element: æŒ‡å‘å½“å‰å…ƒç´ çš„å€¼
    // index: æŒ‡å‘å½“å‰ç´¢å¼•
    // array: æŒ‡å‘Arrayå¯¹è±¡æœ¬èº«
    console.log(element);
});
</code></pre><h2 id="includes"><a href="#includes" class="headerlink" title="includes()"></a>includes()</h2><ul>
<li>ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œé…Œæƒ…è¿”å› trueæˆ– false</li>
</ul>
<pre><code>let a = [1, 2, 3];
a.includes(2); 
// true 
a.includes(4); 
// false
</code></pre><h2 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h2><ul>
<li>è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1</li>
</ul>
<pre><code>let a = [2, 9, 7, 8, 9]; 
a.indexOf(2); // 0 
a.indexOf(6); // -1
a.indexOf(7); // 2
a.indexOf(8); // 3
a.indexOf(9); // 1
if (a.indexOf(3) === -1) {
  // æ•°ç»„ä¸­ä¸åŒ…å«3
}
</code></pre><h2 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h2><ul>
<li>å°†æ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼‰çš„æ‰€æœ‰å…ƒç´ è¿æ¥åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­<pre><code>let a = [&#39;Wind&#39;, &#39;Rain&#39;, &#39;Fire&#39;];
a.join(); 
// é»˜è®¤ä¸º &quot;,&quot;
// &#39;Wind,Rain,Fire&#39;
</code></pre><h2 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h2></li>
<li>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°åè¿”å›çš„ç»“æœ</li>
</ul>
<pre><code>
var array1 = [1,4,9,16];
const map1 = array1.map(x =&gt; x *2);
console.log(map1); // Array [2,8,18,32]
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Javascript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>webpackçº¯æ‰‹å·¥æ­å»ºreacté¡¹ç›®</title>
    <url>/2021/07/25/webpack-react/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ä½¿ç”¨webpackä»0æ­å»ºä¸€ä¸ªreacté¡¹ç›®</em></strong></p>
<a id="more"></a>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>ç¬¬ä¸€æ­¥å°±æ˜¯å®‰è£…ï¼Œå®‰è£…ä»€ä¹ˆå‘¢ï¼Ÿå®‰è£…webpackï¼Œå¦‚æœæ˜¯webpack4.xç‰ˆæœ¬çš„è¯è¿˜éœ€è¦å®‰è£…ä¸€ä¸ªwebpack-cli,æ–°å»ºæ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹é‡Œåˆ›å»ºpackage.jsonæ–‡ä»¶ï¼Œå¾ˆç®€å•ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€cmdï¼Œè¿è¡Œä¸‹é¢è¿™ä¸¤æ¡å‘½ä»¤å°±å®Œæˆäº†ã€‚</p>
<pre><code>npm init
yarn add webpack webpack-cli
</code></pre><p>è¿™é‡Œè¿è¡Œ<code>npm init</code>çš„æ—¶å€™ä¸€è·¯å›è½¦å°±okäº†ã€‚</p>
<h3 id="å¼€å§‹é…ç½®"><a href="#å¼€å§‹é…ç½®" class="headerlink" title="å¼€å§‹é…ç½®"></a>å¼€å§‹é…ç½®</h3><ul>
<li>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶ï¼š<code>webpack.config.js</code><br>è¿™ä¸ªæ–‡ä»¶åæ˜¯webpacké»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨æ‰“åŒ…å‘½ä»¤<code>npx webpack</code>æˆ–è€…<code>webpack</code>æ¥æ‰§è¡Œæ‰“åŒ…çš„è¯ï¼Œå°±ä¼šé»˜è®¤ä»¥è¿™ä¸ªæ–‡ä»¶ä¸­çš„é…ç½®æ‰§è¡Œæ‰“åŒ…ï¼Œæ—¢ç„¶æ˜¯é»˜è®¤çš„ï¼Œå½“ç„¶å¯ä»¥è‡ªå·±æ”¹å˜è¿™ä¸ªæ–‡ä»¶äº†ï¼Œå¦‚æœé…ç½®æ–‡ä»¶ä¸º<code>config.js</code>çš„è¯å¯ä»¥ä½¿ç”¨ä¸‹è¾¹è¿™ä¸ªå‘½ä»¤ï¼š<pre><code>  npx webpack --config config.js 
</code></pre></li>
<li><p>é…ç½®å…¥å£æ–‡ä»¶ï¼Œè¾“å‡ºæ–‡ä»¶ä»¥åŠæ¨¡å¼ï¼š</p>
<pre><code>  const path = require(&#39;path&#39;);//è¿™é‡Œå¯¼å…¥nodejsçš„pathæ¨¡å—
  module.exports = {
      mode : &#39;development&#39;, //æŒ‡å®šæ‰“åŒ…æ¨¡å¼  &#39;production&#39;/&#39;development&#39;
      entry : &#39;./src/index.js&#39;, //æŒ‡å®šæ‰“åŒ…çš„å…¥å£æ–‡ä»¶ å†™ç›¸å¯¹è·¯å¾„
      devtool: &#39;inline-source-map&#39;, // æºç æ˜ å°„ç›´æ¥æ˜¾ç¤ºæºç é”™è¯¯ä½ç½®
      // build=&gt; &#39;source-map&#39;æ‰“åŒ…é€Ÿåº¦-- ç”Ÿæˆapp.js.mapæ˜ å°„æ–‡ä»¶ &#39;inline-source-map&#39; ä»¥dataurlçš„æ–¹å¼ç›´æ¥å†™åœ¨app.js
      output : {
          path : path.resolve(__dirname,&#39;dist&#39;),//è¿™é‡Œæ˜¯æŒ‡å®šæ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å­˜æ”¾è·¯å¾„
          //è¿™é‡Œçš„__dirnameæ˜¯nodejsä¸­çš„ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒçš„å€¼å°±æ˜¯å½“å‰è¿è¡Œè„šæœ¬æ‰€åœ¨è·¯å¾„
          filename : &#39;index.js&#39; //è¿™æ˜¯æŒ‡å®šæ‰“åŒ…çš„index.jsåœ¨ä¸Šè¾¹è·¯å¾„é‡Œçš„æ–‡ä»¶å
      }
   }    
</code></pre><p>  åˆ°è¿™é‡Œï¼Œä¸€ä¸ªæœ€åŸºç¡€çš„webpacké…ç½®æ–‡ä»¶å°±å®Œæˆäº†ï¼Œè¿è¡Œ<code>npx webpack</code>å°±èƒ½åœ¨æ ¹ç›®å½•ä¸‹çœ‹åˆ°ä¸€ä¸ªdistæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰index.js</p>
<p>  é…ç½®æ‰“åŒ…å‘½ä»¤ï¼š</p>
<pre><code>  .....
  &quot;script&quot; : {
      &quot;build&quot; : &quot;webpack&quot;
  }
  .....
</code></pre><p>  é…ç½®å®Œä¹‹åå°±å¯ä»¥ä½¿ç”¨<code>npm run build</code>ç›´æ¥è¿›è¡Œæ‰“åŒ…äº†</p>
</li>
<li><p>é…ç½®å¼€å‘ç¯å¢ƒæœåŠ¡å™¨ï¼š</p>
<p>  é¦–å…ˆå®‰è£…<code>webpack-dev-server</code></p>
<pre><code>  cnpm i webpack-dev-server --save-dev
</code></pre><pre><code>      devServer:{ //é…ç½®å‰ç«¯æœåŠ¡å™¨ï¼Œæ–¹ä¾¿å¼€å‘
          contentBase : &#39;./public&#39;, //æ–‡ä»¶æš‚å­˜åŒº
          port : 9000, //æœåŠ¡å™¨ç«¯å£å·
          hot : true, //å¯ç”¨æ¨¡å—çƒ­æ›´æ–°
          open : true, //æœåŠ¡å™¨å¯åŠ¨å®Œæˆä¹‹ååœ¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€index.html
          proxy:{ //ä¸ºè¯·æ±‚çš„æ¥å£é…ç½®ä»£ç†æœåŠ¡å™¨

          }
      }   
</code></pre><p>  ç„¶ååœ¨package.jsonä¸­å»é…ç½®ï¼š</p>
<pre><code>  ....
  &quot;scripts&quot;: {
      &quot;build&quot; : &quot;webpack&quot;, //ä¸€é”®æ‰“åŒ…
      &quot;start&quot;: &quot;webpack-dev-server&quot; //ä¸€é”®å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  },
  ....
</code></pre><p>  è¿™ä¸ªæ—¶å€™ä½¿ç”¨å‘½ä»¤<code>npm start</code>å°±å¯ä»¥å¯åŠ¨è¿™ä¸ªå¼€å‘æœåŠ¡å™¨äº†</p>
</li>
<li><p>é…ç½®cssæ¨¡å—å’Œhtmlæ¨¡å—ï¼š</p>
<p>   æ— è®ºæ˜¯ä»€ä¹ˆæ¡†æ¶çš„é¡¹ç›®ï¼Œåªè¦æ˜¯ä¸ªå‰ç«¯é¡¹ç›®å¿…ç„¶ä¼šä½¿ç”¨å±‚å æ ·å¼è¡¨å’Œhtmlï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦ä¸ºè¿™ä¸ªé¡¹ç›®çš„webpackèµ‹äºˆç»„ç»‡.cssæ–‡ä»¶å’Œ.htmlçš„æ–‡ä»¶ï¼Œé¦–å…ˆæˆ‘ä»¬åœ¨srcä¸‹åˆ›å»ºindex.csså’Œindex.html</p>
<p>  é¦–å…ˆè¿˜æ˜¯å®‰è£…ï¼š</p>
<pre><code>  cnpm install --save-dev html-webpack-plugin //è¿™æ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œé…ç½®å®Œä¹‹åä¼šæ ¹æ®è‡ªå·±çš„é…ç½®ï¼Œå°†htmlé¡µé¢æ‰“åŒ…è¿›å»
  cnpm install --save-dev css-loader style-loader //è¿™æ˜¯å¤„ç†cssæ–‡ä»¶çš„ä¸¤ä¸ªåŠ è½½å™¨
</code></pre><p>  è¿™é‡Œä½¿ç”¨æ·˜å®é•œåƒå¯ä»¥æé«˜ä¸‹è½½é€Ÿåº¦</p>
<p>  åœ¨moduleä¸‹çš„rulesä¸­é…ç½®css-loaderï¼Œè¿™å°†èµ‹äºˆè¿™ä¸ªé¡¹ç›®ç»„ç»‡.cssæ–‡ä»¶çš„èƒ½åŠ›</p>
<pre><code>  {
      test: /\.css$/i, //æ£€æµ‹.cssç»“å°¾çš„æ–‡ä»¶
      use: [&#39;style-loader&#39;, &#39;css-loader&#39;], //å†³å®šä½¿ç”¨ä»€ä¹ˆæ ·çš„åŠ è½½å™¨
  },
</code></pre><p>  é…ç½®htmlæ’ä»¶</p>
<pre><code>
      const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); //å¯¼å…¥htmlçš„æ’ä»¶
      ....
      plugins: [new HtmlWebpackPlugin()]   

</code></pre><p>  é…ç½®å®Œè¿™ä¸¤é¡¹ä¹‹åï¼Œåœ¨æ‰“åŒ…å°±ä¼šå‘ç°ï¼Œhtmlæ–‡ä»¶ä¹Ÿè¢«æ‰“åŒ…åˆ°distæ–‡ä»¶å¤¹é‡Œ</p>
</li>
<li><p>é…ç½®babelå’Œreactæ¨¡å—ï¼š</p>
<p>  babelæ˜¯ä¸€ä¸ªç”¨æ¥ç¼–è¯‘es6ä»£ç çš„å·¥å…·ï¼Œæµè§ˆå™¨è¯†åˆ«ä¸äº†ä¸€äº›es6è¯­æ³•ï¼Œè€Œreactä¸­åˆ°å¤„æ˜¯es6è¯­æ³•ï¼Œæ‰€ä»¥å°±è¦ä½¿ç”¨babelæ¨¡å—èµ‹äºˆè¿™ä¸ªé¡¹ç›®ç»„ç»‡reactå’Œes6çš„èƒ½åŠ›ã€‚</p>
<p>  é¦–å…ˆé…ç½®babelï¼š</p>
<p>  å®‰è£…ï¼š</p>
<pre><code>  cnpm install -D babel-loader @babel/core @babel/preset-env webpack
</code></pre><p>  æ·»åŠ åŒ¹é…è§„åˆ™ï¼š</p>
<pre><code>  {
      test: /\.m?js$/, //åŒ¹é….jsæ–‡ä»¶
      exclude: /(node_modules|bower_components)/, //è¿™é‡Œè¡¨ç¤ºå¿½ç•¥node_modules|bower_componentsä¸‹çš„.jsæ–‡ä»¶
      use: {
          loader: &#39;babel-loader&#39;,
          options: {
          presets: [&#39;@babel/preset-env&#39;]
          }
      }
  },
</code></pre><p>  é…ç½®react ï¼š</p>
<pre><code>  presets: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;]
</code></pre><p>  è¿™æ—¶å€™è¿™ä¸ªé¡¹ç›®å·²ç»æœ‰äº†ç¼–è¯‘reactçš„èƒ½åŠ›</p>
</li>
<li><p>é…ç½®è·¯å¾„åˆ«åï¼š<br>  å½“æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•æ¯”è¾ƒå¤æ‚çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨aliasé…ç½®åˆ«å</p>
<pre><code>  resolve:{
    alias:{ //ä¸ºå¤æ‚çš„è·¯å¾„é…ç½®åˆ«å
      &#39;style&#39;: path.resolve(__dirname, &#39;./src/assets/style&#39;),
      &#39;@&#39;: path.resolve(__dirname, &#39;./src&#39;),
    }
  },   
</code></pre></li>
</ul>
<h3 id="åˆ°è¿™é‡Œï¼Œä¸€ä¸ªå®Œå…¨æ‰‹å·¥æ­å»ºçš„reacté¡¹ç›®å°±å®Œæˆäº†ï¼Œwebpacké…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š"><a href="#åˆ°è¿™é‡Œï¼Œä¸€ä¸ªå®Œå…¨æ‰‹å·¥æ­å»ºçš„reacté¡¹ç›®å°±å®Œæˆäº†ï¼Œwebpacké…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š" class="headerlink" title="åˆ°è¿™é‡Œï¼Œä¸€ä¸ªå®Œå…¨æ‰‹å·¥æ­å»ºçš„reacté¡¹ç›®å°±å®Œæˆäº†ï¼Œwebpacké…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š"></a>åˆ°è¿™é‡Œï¼Œä¸€ä¸ªå®Œå…¨æ‰‹å·¥æ­å»ºçš„reacté¡¹ç›®å°±å®Œæˆäº†ï¼Œwebpacké…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</h3><pre><code>const path = require(&#39;path&#39;);//è¿™é‡Œå¯¼å…¥nodejsçš„pathæ¨¡å—
const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;); //å¯¼å…¥htmlçš„æ’ä»¶
const {CleanWebpackPlugin} = require(&#39;clean-webpack-plugin&#39;);
module.exports = {
    mode : &#39;development&#39;, //æŒ‡å®šæ‰“åŒ…æ¨¡å¼  &#39;production&#39;/&#39;development&#39;
    entry : &#39;./src/index.js&#39;, //æŒ‡å®šæ‰“åŒ…çš„å…¥å£æ–‡ä»¶ å†™ç›¸å¯¹è·¯å¾„
    devtool: &#39;inline-source-map&#39;, // æºç æ˜ å°„ç›´æ¥æ˜¾ç¤ºæºç é”™è¯¯ä½ç½®
    // build=&gt; &#39;source-map&#39;æ‰“åŒ…é€Ÿåº¦-- ç”Ÿæˆapp.js.mapæ˜ å°„æ–‡ä»¶ &#39;inline-source-map&#39; ä»¥dataurlçš„æ–¹å¼ç›´æ¥å†™åœ¨app.js
    output : {
        path : path.resolve(__dirname,&#39;dist&#39;),//è¿™é‡Œæ˜¯æŒ‡å®šæ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼Œè¿™é‡Œçš„__dirnameæ˜¯nodejsä¸­çš„ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒçš„å€¼å°±æ˜¯å½“å‰è¿è¡Œè„šæœ¬æ‰€åœ¨è·¯å¾„
        filename : &#39;index.js&#39; //è¿™æ˜¯æŒ‡å®šæ‰“åŒ…çš„index.jsåœ¨ä¸Šè¾¹è·¯å¾„é‡Œçš„æ–‡ä»¶å
    },
    module : { 
        rules: [
            {
              test: /\.css$/i, //åŒ¹é….cssç»“å°¾çš„æ–‡ä»¶
              use: [&#39;style-loader&#39;, &#39;css-loader&#39;], //å†³å®šä½¿ç”¨ä»€ä¹ˆæ ·çš„åŠ è½½å™¨
            },
            {
                test: /\.m?js$/, //åŒ¹é….jsæ–‡ä»¶
                exclude: /(node_modules|bower_components)/, //è¿™é‡Œè¡¨ç¤ºå¿½ç•¥node_modules|bower_componentsä¸‹çš„.jsæ–‡ä»¶
                use: {
                  loader: &#39;babel-loader&#39;,
                  options: {
                    presets: [&#39;@babel/preset-env&#39;,&#39;@babel/preset-react&#39;]
                  }
                }
            },
          ],
    },
    plugins: [
        new HtmlWebpackPlugin({
          template : &#39;./src/index.html&#39;
        }),//æ·»åŠ æ’ä»¶ï¼Œå¤šé¡µé¢ä¹Ÿæœ‰å¤šé¡µé¢çš„é…ç½®æ–¹æ³•ï¼Œç°åœ¨æ­å»ºä¸€ä¸ªreact spaå°±ä¸éœ€è¦è¿‡å¤šçš„é…ç½®
        new CleanWebpackPlugin()
    ],
    devServer:{ //é…ç½®å‰ç«¯æœåŠ¡å™¨ï¼Œæ–¹ä¾¿å¼€å‘
        contentBase : &#39;./public&#39;, //æ–‡ä»¶æš‚å­˜åŒº
        port : 9000, //æœåŠ¡å™¨ç«¯å£å·
        hot : true, //å¯ç”¨æ¨¡å—çƒ­æ›´æ–°
        open : true, //æœåŠ¡å™¨å¯åŠ¨å®Œæˆä¹‹ååœ¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€index.html
        proxy:{ //ä¸ºè¯·æ±‚çš„æ¥å£é…ç½®ä»£ç†æœåŠ¡å™¨

        }
    },
    resolve:{
      alias:{ //ä¸ºå¤æ‚çš„è·¯å¾„é…ç½®åˆ«å
        &#39;style&#39;: path.resolve(__dirname, &#39;./src/assets/style&#39;),
        &#39;@&#39;: path.resolve(__dirname, &#39;./src&#39;),
      }
    },   
}
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>å‰ç«¯</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
  <entry>
    <title>Promise</title>
    <url>/2021/07/15/promise/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>å°±åƒå®ƒçš„å«ä¹‰ä¸€æ ·ï¼Œå®ƒè‡ªå·±çš„çŠ¶æ€å’Œå¤–ç•Œæ˜¯æ²¡æœ‰å…³ç³»çš„</em></strong><br><a id="more"></a></p>
<h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><p>åœ¨é˜®å¤§ä½¬çš„ã€ŠES6å…¥é—¨ã€‹ä¸­æåˆ°ï¼Œpromiseå°±å’Œå®ƒçš„æ„æ€ä¸€æ ·ï¼Œæ‰¿è¯ºäº†è¦åšä»€ä¹ˆäº‹æƒ…ï¼Œé‚£å°±ä¸€å®šä¼šå®Œæˆï¼Œpomiseä¹Ÿæ˜¯ä¸€æ ·å®ƒæœ‰ä¸‰ä¸ªçŠ¶æ€ï¼špendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€fulfilledï¼ˆå·²æˆåŠŸï¼‰å’Œrejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚è€Œè¸ç€ä¸‰ç§çŠ¶æ€ä¹‹é—´çš„è½¬æ¢ä¹‹å’Œè¯¥promiseå¯¹è±¡ä¸­çš„æ“ä½œæœ‰å…³ï¼Œå’Œåˆ«çš„å› ç´ æ— å…³ï¼Œpromiseå¯¹è±¡çš„çŠ¶æ€å˜åŒ–å¾ˆç®€å•ï¼Œåªæœ‰ä¸¤ç§ï¼š1ã€pending =&gt; rejected   2ã€ pending =&gt; fulfilled è¿™ä¸­æƒ…å†µçš„çŠ¶æ€è½¬æ¢å¯¹åº”äº†promiseæ„é€ å‡½æ•°ä¸­ä¼ è¿›æ¥çš„æ¥ä¸ªé»˜è®¤å‚æ•° 1ã€resolve() 2ã€reject(),ä¸‹è¾¹æ˜¯ä¸ªä¾‹å­ï¼š</p>
<pre><code>let fun = (num) =&gt; new Promise((resolve,reject)=&gt;{
    if(num%2===0){
        resolve({type:&#39;å¶æ•°&#39;,value:num})
    }else{
        reject({type:&#39;å¥‡æ•°&#39;,value:num})
    }
})

fun(2).then((data)=&gt;{
console.log(data);
},(data)=&gt;{
console.log(data);
}) //{type: &quot;å¶æ•°&quot;, value: 2} fulfilled çŠ¶æ€
fun(3).then((data)=&gt;{
console.log(data);
},(data)=&gt;{
console.log(data);
})//{type: &quot;å¥‡æ•°&quot;, value: 3} rejectedçŠ¶æ€
</code></pre><h1 id="å¼‚æ­¥å’ŒPromise"><a href="#å¼‚æ­¥å’ŒPromise" class="headerlink" title="å¼‚æ­¥å’ŒPromise"></a>å¼‚æ­¥å’ŒPromise</h1><p>å‡è®¾æœ‰ä¸¤ä¸ªæ“ä½œaï¼Œb  ï¼Œè€Œbçš„æ“ä½œéœ€è¦ç­‰å¾…açš„ç»“æœï¼Œè¿™æ—¶å€™è¿™ç§æƒ…å†µå°±æ˜¯å¼‚æ­¥ï¼Œes5ä¸­é€šè¿‡å›è°ƒæ¥å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œè¦ç”¨å›è°ƒæ¨¡æ‹Ÿajaxè¯·æ±‚çš„è¯å¦‚ä¸‹å†™æ³•ï¼š</p>
<pre><code>function ajax(time,callback){
    setTimeout(()=&gt;{
        callback();
        console.log(&#39;æ‰§è¡Œç»“æŸ&#39;);
    },time)
}
console.log(&#39;ç¨‹åºå¼€å§‹&#39;);
ajax(2000,()=&gt;{
    console.log(&#39;å¼‚æ­¥æ‰§è¡Œ&#39;);
})
console.log(&#39;ç¨‹åºç»“æŸ&#39;);
</code></pre><p>è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„æµ‹è¯•demoï¼Œåœ¨çœŸå®é¡¹ç›®å½“ä¸­å¯èƒ½æ“ä½œä¸æ“ä½œä¹‹é—´ä¼šä¸€ç¯å¥—ä¸€ç¯ï¼Œè¿™æ—¶å€™å°±ä¼šé™·å…¥å‰ç«¯ç¨‹åºçŒ¿ä»¬æœ€å®³æ€•çš„å›è°ƒåœ°ç‹±ï¼Œå½“ç¨‹åºå‡ºç°bugçš„æ—¶å€™å°±éå¸¸éš¾ä»¥è°ƒè¯•ï¼Œåœ¨esä¸­promiseçš„å‡ºç°å¾ˆå¤§ç¨‹åº¦ä¸Šå‡è½»äº†jså¼‚æ­¥ç¼–ç¨‹çš„éš¾åº¦ï¼ŒåŒæ ·æ˜¯ä¸Šè¾¹è¿™ä¸ªä¾‹å­ï¼Œç”¨es6 promiseå†™æ³•å¦‚ä¸‹ï¼š</p>
<pre><code>function ajax(time){
return new Promise((resolve,reject)=&gt;{
     setTimeout(()=&gt;{
        resolve();
        console.log(&#39;æ‰§è¡Œç»“æŸ&#39;);
        //è¿™é‡Œåªè€ƒè™‘æˆåŠŸçš„æƒ…å†µ
    },time)
})
}
console.log(&#39;ç¨‹åºå¼€å§‹&#39;);
ajax(2000).then(()=&gt;{
    console.log(&#39;ç¨‹åºç»“æŸ&#39;);
})
console.log(&#39;ç¨‹åºç»“æŸ&#39;);
</code></pre><p>è¿™ä¸¤ç§å†™æ³•è¿è¡Œç»“æœæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œä½†æ˜¯å†™æ³•å´å¤©å·®åœ°åˆ«ï¼Œes6 promiseæœç»äº†es5ä¸­çš„é‚£ç§å›è°ƒåµŒå¥—å›è°ƒçš„å†™æ³•ï¼Œä»ä»£ç ä¸Šæ¥çœ‹ï¼Œå’ŒåŒæ­¥ç¼–ç¨‹æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸ºç”¨åŒæ­¥çš„æ–¹å¼æ¥è§£å†³å¼‚æ­¥çš„é—®é¢˜ã€‚</p>
<h1 id="resolve-å’Œ-reject"><a href="#resolve-å’Œ-reject" class="headerlink" title="resolve å’Œ reject"></a>resolve å’Œ reject</h1><p>pormiseçš„resolveå‡½æ•°å’Œrejectå‡½æ•°æœ‰å¯èƒ½æ˜¯å¸¦æœ‰å‚æ•°çš„ï¼Œåœ¨è¿™æ ·çš„æƒ…å†µä¸‹è¿™ä¸ªå‚æ•°ä¼šä¼ é€’ç»™then å‡½æ•°ä¸­å¯¹åº”çš„å›è°ƒï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<pre><code>let pro = new Promise((resolve,reject)=&gt;{
    setTimeout(()=&gt;{
        resolve({
            name : &#39;zyx&#39;,
            age : 22
        })
    })
})

pro.then(data=&gt;{
    console.log(data); //{name: &quot;zyx&quot;, age: 22}
})
</code></pre><p>æœ‰æ—¶å€™resolveå’Œrejectçš„å‡½æ•°å¯èƒ½ä¹Ÿæ˜¯ä¸ªpromiseå¯¹è±¡é‚£ä¹ˆè¿™ä¸¤ä¸ªpromiseå¯¹è±¡çš„çŠ¶æ€ä¹‹é—´å°±ä¼šäº§ç”Ÿè”ç³»ï¼Œçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p>
<pre><code>let pro1 = new Promise((resolve,reject)=&gt;{
    setTimeout(()=&gt;{
        reject();
    },2000)
})
let pro2 = new Promise((resolve,reject)=&gt;{
resolve(pro1)
})

pro2.then(()=&gt;{
    console.log(&#39;resolve&#39;)
},()=&gt;{
    console.log(&#39;reject&#39;)
})  // reject
</code></pre><p>ä¸Šè¾¹è¿™æ®µä»£ç ä¸­pro2çš„resolveå‡½æ•°å‚æ•°æ˜¯å¦ä¸€ä¸ªpromiseå¯¹è±¡pro1ï¼Œè¿™æ—¶å€™pro2çš„çŠ¶æ€å°±ä¼šå–å†³äºpro1çš„çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°è™½ç„¶pro2ä½¿ç”¨resolveå‡½æ•°è¯•å›¾å°†çŠ¶æ€æ”¹å˜ä¸ºfulfilledï¼Œä½†æ˜¯åè¾¹è¿˜æ˜¯æ‰§è¡Œäº†rejectçš„å›è°ƒã€‚è¿™ç§æƒ…å†µå¾—æ³¨æ„ï¼Œå¦åˆ™åœ¨çœŸæ­£çš„é¡¹ç›®å¼€å‘ä¸­å¯èƒ½ä¼šé™·å…¥é€»è¾‘ä¸Šçš„æ··ä¹±ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨resolveæˆ–è€…rejectå¹¶ä¸ä¼šç»ˆç»“promiseçš„å‚æ•°å‡½æ•°çš„æ‰§è¡Œï¼š</p>
<pre><code>let pro = new Promise((resolve,reject)=&gt;{
    console.log(&#39;start&#39;)
    setTimeout(()=&gt;resolve(),2000)
    console.log(&#39;resolve end&#39;)
})
pro.then(()=&gt;{
    console.log(&#39;callback&#39;)
})
// start
// resolve end
// callback
</code></pre><p>ä»è¿™ä¸ªä¾‹å­çš„è¾“å‡ºç»“æœä¸­ï¼Œçªç„¶å‘ç°äº†ä¸€ä¸ªç°è±¡ï¼Œå°±æ˜¯promiseå‚æ•°å‡½æ•°ä¸­çš„ä»£ç ä¼šé©¬ä¸Šæ‰§è¡Œï¼ˆåŒæ­¥æ‰§è¡Œï¼‰ï¼Œè€Œå¼‚æ­¥å›è°ƒä¹‹ä¸­çš„ä»£ç åˆ™ä¼šç­‰å¾…promiseå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜ä¹‹åæ‰ä¼šæ‰§è¡Œã€‚</p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Javascript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>é«˜é˜¶ç»„ä»¶å…¥é—¨</title>
    <url>/2021/07/18/hoc/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>åœ¨React Chinaä¸­çš„ä¸€ç¯‡æ–‡ç« è¯´ï¼šé«˜é˜¶ç»„ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—çš„å‚æ•°æ˜¯å¦ä¸€ä¸ªç»„ä»¶ï¼Œåœ¨å‡½æ•°å†…éƒ¨å¯¹å‚æ•°ä¸­çš„ç»„ä»¶è¿›è¡Œä¸€ç³»åˆ—æ“ä½œä¹‹åè¿”å›å‡ºä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚ä»¥æˆ‘ä¸ªäººç†è§£å°±æ˜¯ä¸ªç»çºªå…¬å¸ï¼Œä¸“é—¨ç”¨æ¥åŒ…è£…ç»„ä»¶ã€‚</em></strong><br><a id="more"></a><br> è¿™æ˜¯ä¸€ä¸ªç®€å•çš„é«˜é˜¶ç»„ä»¶ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯å°†çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®è¿›è¡Œè¿‡æ»¤ä¹‹åä¼ é€’ç»™å­ç»„ä»¶ï¼Œå…¶ä¸­ç©¿æ’äº†refsè½¬å‘çš„æŠ€æœ¯ç‚¹ï¼š</p>
<pre><code>import React from &#39;react&#39;
/*
è¿™æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦åŒ…è£…çš„ç»„ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºstringç±»å‹ï¼Œè¡¨ç¤ºè¦è¿‡æ»¤çš„æ•°æ®ç±»å‹
*/
function Hoc(WrapperComponent,type){ 
    class Hoc extends React.Component{ //é¦–å…ˆï¼Œè¦åŒ…è£…è¿™ä¸ªç»„ä»¶çš„è¯éœ€è¦ä¸€ä¸ªç»„ä»¶æ¥åšå®¹å™¨
        constructor(props){
            super(props)
        }


        render(){


            /*
                åœ¨è¿™é‡Œæ ¹æ®å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°å»å¤„ç†Hocç»„ä»¶propsä¸­æ¥å—çš„çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ®
            */
            const {forwardRef,...others} = this.props; //ï¼ˆ5ï¼‰
            /*å¯¹Hocçš„propsè¿›è¡Œè§£æ„ï¼Œæ‹¿åˆ°refå’Œå…¶ä»–å‚æ•°ï¼Œæ­¤æ—¶çš„refå°±æ˜¯åœ¨returnä¸­çš„forwardRefå‡½æ•°ä¼ é€’çš„é‚£ä¸ªref*/
            const otherProps = {...others}

            let newProps = {};
            for(let key in otherProps){
                // console.log(typeof otherProps[key])
                if(typeof otherProps[key] === type){
                    newProps[key] = otherProps[key]
                }
            }//å¤„ç†ä¹‹ååˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡newProps
            return (
                &lt;div &gt;
                    &lt;WrapperComponent {...newProps} ref = {forwardRef} /&gt;//åœ¨è¿™é‡Œå°†è¿™ä¸ªnewPropsè½¬ç»™å‡½æ•°æ¥å—çš„é‚£ä¸ªç»„ä»¶å‚æ•°ï¼Œå°†ä¹‹å‰è§£æ„çš„refä¸€å¹¶ä¼ ç»™å®ƒ  ï¼ˆ6ï¼‰ æœ€ç»ˆæŒ‚è½½åˆ°å‚æ•°ç»„ä»¶
                &lt;/div&gt;
            )


        }
    }

/*
åœ¨è¿™é‡Œä½¿ç”¨reactåŸå‹ä¸Šçš„å‡½æ•°forwardRefå¯¹çˆ¶ç»„ä»¶ä¼ é€’çš„refè¿›è¡Œè½¬å‘ï¼Œå¦åˆ™çˆ¶ç»„ä»¶ä¼ é€’çš„refåªä¼šæŒ‚è½½åˆ°Hocç»„ä»¶è€Œåˆ°ä¸äº†å‚æ•°ç»„ä»¶ï¼Œè€Œæˆ‘ä»¬çš„éœ€æ±‚æ˜¯è¦æŒ‚è½½åˆ°å‚æ•°ç»„ä»¶ï¼ŒforwardRefå‡½æ•°å›è°ƒä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºçˆ¶ç»„ä»¶ä¼ é€’çš„å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºçˆ¶ç»„ä»¶ä¼ é€’çš„é‚£ä¸ªref
*/
    return React.forwardRef((props,ref)=&gt;{ //ï¼ˆ3ï¼‰
        return &lt;Hoc {...props} forwardRef = {ref} /&gt; // ï¼ˆ4ï¼‰
    });
}


class Loc extends React.Component{


    render(){
        return (
            &lt;div&gt;
                Loc
            &lt;/div&gt;
        )
    }
}
const HocComp = Hoc(Loc,&#39;string&#39;);




class Foc extends React.Component{
    constructor(props){
        super(props);
        this.ref = React.createRef(); //åˆ›å»ºä¸€ä¸ªref  ï¼ˆ1ï¼‰
    }
    componentDidMount(){
        console.log(this.ref.current.props)
        console.log(this.ref.current)
    }


    render(){

        return (
            &lt;div&gt;
            //åœ¨è¿™é‡Œå°†åˆ›å»ºå¥½çš„refä½œä¸ºrefä¼ é€’ç»™å­ç»„ä»¶HocComp
                &lt;HocComp v1 = &#39;231&#39; v2 = {123} v3 = {{a:1}} ref ={this.ref} /&gt; // ï¼ˆ2ï¼‰
            &lt;/div&gt;
        )
    }
}
export default Foc


</code></pre><p>ä»¥ä¸Šä»£ç ä¸­ï¼Œçˆ¶ç»„ä»¶ä¸­React.createRef()æ–¹æ³•åˆ›å»ºçš„refå¯¹è±¡çš„æµå‘ç”¨æ•°å­—è¡¨ç¤ºã€‚</p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>gitå…¥é—¨</title>
    <url>/2021/07/11/git/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ä¸Šç­ç¬¬ä¸€å¤©ï¼Œç»ˆäºå¼ºè¿«è‡ªå·±å­¦ä¼šäº†gitçš„åŸºæœ¬åº”ç”¨</em></strong><br><a id="more"></a></p>
<h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><p>ä»€ä¹ˆæ˜¯gitï¼Ÿ</p>
<p>gitå°±æ˜¯å…¨çƒæœ€å¥½ç”¨çš„ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œä¸€ç§åˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·ã€‚</p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><p><code>git clone [url]</code> //å…‹éš†è¿œç¨‹ä»“åº“ä»£ç </p>
<p> <code>git add</code> //å°†æƒ³è¦å¿«ç…§çš„å†…å®¹å†™å…¥ç¼“å­˜åŒº</p>
<p> <code>git status</code> //ç»¿è‰²æ–‡ä»¶è¡¨ç¤ºæ·»åŠ åˆ°ç¼“å­˜åŒºçš„æ–‡ä»¶æœ‰æ”¹åŠ¨ï¼›çº¢è‰²è¡¨ç¤ºæ·»åŠ åˆ°ç¼“å­˜åŒºçš„æ–‡ä»¶æ²¡æœ‰æ”¹åŠ¨</p>
<p> <code>git commit -m</code> //â€˜ç¬¬ä¸€æ¬¡ç‰ˆæœ¬æäº¤â€™ -mé€‰é¡¹æ·»åŠ å¤‡æ³¨ä¿¡æ¯</p>
<p> <code>git clone url</code> //ä½¿ç”¨ git clone æ‹·è´ä¸€ä¸ª Git ä»“åº“åˆ°æœ¬åœ°</p>
<p><code>git diff</code>  //å°šæœªç¼“å­˜çš„æ”¹åŠ¨</p>
<p><code>git diff --cached</code>ã€€//æŸ¥çœ‹å·²ç¼“å­˜çš„æ”¹åŠ¨</p>
<p><code>git diff HEAD</code>  //æŸ¥çœ‹å·²ç¼“å­˜çš„ä¸æœªç¼“å­˜çš„æ‰€æœ‰æ”¹åŠ¨</p>
<p> <code>diff git diff --stat</code>ã€€ã€€//æ˜¾ç¤ºæ‘˜è¦è€Œéæ•´ä¸ª</p>
<p><code>git commit -a</code>  //è·³è¿‡git add æäº¤ç¼“å­˜çš„æµç¨‹ </p>
<p><code>git reset HEAD</code>  //ç”¨äºå–æ¶ˆå·²ç¼“å­˜çš„å†…å®¹</p>
<p><code>git rm file</code><br>ã€€ã€€//git rm ä¼šå°†æ¡ç›®ä»ç¼“å­˜åŒºä¸­ç§»é™¤ã€‚è¿™ä¸ git reset HEAD å°†æ¡ç›®å–æ¶ˆç¼“å­˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚<br>ã€€ã€€â€œå–æ¶ˆç¼“å­˜â€çš„æ„æ€å°±æ˜¯å°†ç¼“å­˜åŒºæ¢å¤ä¸ºæˆ‘ä»¬åšå‡ºä¿®æ”¹ä¹‹å‰çš„æ ·å­ã€‚<br>ã€€ã€€é»˜è®¤æƒ…å†µä¸‹ï¼Œgit rm file ä¼šå°†æ–‡ä»¶ä»ç¼“å­˜åŒºå’Œä½ çš„ç¡¬ç›˜ä¸­ï¼ˆå·¥ä½œç›®å½•ï¼‰åˆ é™¤ã€‚</p>
<p><code>git mv</code>   //é‡å‘½åç£ç›˜ä¸Šçš„æ–‡ä»¶ å¦‚ git mv README README.md</p>
<p><code>git push -u origin master</code> //æäº¤ä»£ç </p>
<h2 id="gitåˆ†æ”¯"><a href="#gitåˆ†æ”¯" class="headerlink" title="gitåˆ†æ”¯"></a>gitåˆ†æ”¯</h2><p>git-flowä¸»è¦æœ‰5ä¸­åˆ†æ”¯ï¼šmasterã€hotfixã€releaseã€developã€feature<br><img src="https://upload-images.jianshu.io/upload_images/1416338-2b5d1a64e15419d7.png" alt="git-flowåˆ†æ”¯å›¾" title="git-flowåˆ†æ”¯å›¾"></p>
<p>featureåˆ†æ”¯å¼€å§‹äºdevelopåˆ†æ”¯ï¼Œå®Œæˆä»¥ååˆå¹¶åˆ°developåˆ†æ”¯ã€‚<br>å½“å®Œæˆä¸€å®šæ•°é‡featureåˆ†æ”¯ä»¥åï¼Œä»developå†å¼€ä¸€ä¸ªreleaseåˆ†æ”¯å‡ºæ¥ï¼Œè¿™äº›ç‰¹æ€§å°†è¢«æ›´è¡Œåˆ°ä¸‹ä¸€ä¸ªå‘å¸ƒçš„ç‰ˆæœ¬ä¸­ï¼Œä¹‹åçš„featureå°†ä¸ä¼šè¢«åˆå¹¶åˆ°releaseä¸­ã€‚<br>ä¹‹ååœ¨releaseåˆ†æ”¯ä¸­ï¼Œåªä¿®æ”¹bugï¼Œç„¶åå®Œæˆreleaseåˆ†æ”¯ã€‚å®Œæˆreleaseåˆ†æ”¯ä¼šå®Œæˆä»¥ä¸‹ä¸‰ä¸ªæ“ä½œï¼š1ã€åˆå¹¶releaseåˆ†æ”¯åˆ°masterï¼›2ã€ç»™masteræ‰“ä¸Šç‰ˆæœ¬çš„æ ‡ç­¾ï¼›3ã€releaseå›å½’åˆ°developåˆ†æ”¯ã€‚<br>å½“å‘ç°masterä¸Šæœ‰bugæ—¶ï¼Œå¼€ä¸€ä¸ªhotfixï¼Œå®Œæˆååˆå¹¶åˆ°masteråˆ†æ”¯ã€‚<br><a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow" target="_blank" rel="noopener">Gitflow Workflowæ–‡æ¡£</a></p>
<h3 id="åˆ†æ”¯å¸¸ç”¨å‘½ä»¤"><a href="#åˆ†æ”¯å¸¸ç”¨å‘½ä»¤" class="headerlink" title="åˆ†æ”¯å¸¸ç”¨å‘½ä»¤"></a>åˆ†æ”¯å¸¸ç”¨å‘½ä»¤</h3><p> <code>git checkout [åˆ†æ”¯å]</code>//åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</p>
<p> <code>git branch [åˆ†æ”¯å]</code> //åˆ›å»ºåˆ†æ”¯å‘½ä»¤</p>
<p> <code>git branch [åˆ†æ”¯å]</code> //åˆ—å‡ºåˆ†æ”¯</p>
<p> <code>git checkout [åˆ†æ”¯å]</code> //åˆ‡æ¢åˆ†æ”¯å‘½ä»¤</p>
<p> <code>git merge [åˆ†æ”¯å]</code> //åˆå¹¶åˆ†æ”¯</p>
<p> <code>git checkout -b [åˆ†æ”¯å]</code> //åˆ›å»ºæ–°åˆ†æ”¯å¹¶ç«‹å³åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ä¸‹</p>
<p> <code>git branch -d [åˆ†æ”¯å]</code> //åˆ é™¤åˆ†æ”¯å‘½ä»¤ </p>
<p><strong><em>ps:çŠ¶æ€ uu è¡¨ç¤ºå†²çªæœªè§£å†³ å¯ä»¥ç”¨ git add è¦å‘Šè¯‰ Git æ–‡ä»¶å†²çªå·²ç»è§£å†³</em></strong></p>
<h2 id="æŸ¥çœ‹æäº¤æ—¥å¿—"><a href="#æŸ¥çœ‹æäº¤æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æäº¤æ—¥å¿—"></a>æŸ¥çœ‹æäº¤æ—¥å¿—</h2><p><code>git log</code> //å‘½ä»¤åˆ—å‡ºå†å²æäº¤è®°å½•</p>
<p><code>git log -n</code> //å‘½ä»¤åˆ—å‡ºå†å²æäº¤è®°å½•å‰ä¸‰æ¡</p>
<p><code>git log --oneline</code> //æŸ¥çœ‹å†å²è®°å½•çš„ç®€æ´çš„ç‰ˆæœ¬</p>
<p><code>git log --oneline --graph</code> //æŸ¥çœ‹å†å²ä¸­ä»€ä¹ˆæ—¶å€™å‡ºç°äº†åˆ†æ”¯ã€åˆå¹¶</p>
<h2 id="æäº¤æœ¬åœ°ä¿®æ”¹"><a href="#æäº¤æœ¬åœ°ä¿®æ”¹" class="headerlink" title="æäº¤æœ¬åœ°ä¿®æ”¹"></a>æäº¤æœ¬åœ°ä¿®æ”¹</h2><p> <code>git commit -m [ä¿®æ”¹ä¿¡æ¯]</code></p>
<h2 id="æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç "><a href="#æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç " class="headerlink" title="æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç "></a>æ‹‰å–è¿œç¨‹ä»“åº“ä»£ç </h2><p> <code>git pull</code> //ä»è¿œç«¯ä»“åº“æå–æ•°æ®å¹¶å°è¯•åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</p>
<p> <code>git fetch</code> //ä»è¿œç¨‹ä»“åº“ä¸‹è½½æ–°åˆ†æ”¯ä¸æ•°æ®</p>
<h2 id="ç‰ˆæœ¬å›æ»š"><a href="#ç‰ˆæœ¬å›æ»š" class="headerlink" title="ç‰ˆæœ¬å›æ»š"></a>ç‰ˆæœ¬å›æ»š</h2><p> <code>git log -n</code>  //æŸ¥çœ‹æœ€è¿‘næ¡æäº¤æ—¥å¿—</p>
<p> <code>git reset -hard [ç‰ˆæœ¬æ ‡è¯†]</code> //å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬</p>
<p> <code>git push -f origin matser</code>  //å¼ºåˆ¶æäº¤</p>
<h2 id="å¿½ç•¥æ–‡ä»¶"><a href="#å¿½ç•¥æ–‡ä»¶" class="headerlink" title="å¿½ç•¥æ–‡ä»¶"></a>å¿½ç•¥æ–‡ä»¶</h2><ul>
<li>.gitignore æ–‡ä»¶æ˜¯gitçš„ä¸€å¥—å¿½ç•¥è§„åˆ™ï¼Œå¯¹è¯¥æ–‡ä»¶æ‰€åœ¨ç›®å½•ä»¥åŠæ‰€åœ¨ç›®å½•å­ç›®å½•éƒ½æœ‰æ•ˆï¼Œè¯¥æ–‡ä»¶ä¸€èˆ¬æ ¼å¼ä¸ºï¼š<pre><code># ä»¥&#39;#&#39;å¼€å§‹çš„è¡Œï¼Œè¢«è§†ä¸ºæ³¨é‡Š.                            
# å¿½ç•¥æ‰æ‰€æœ‰æ–‡ä»¶åæ˜¯ foo.txtçš„æ–‡ä»¶.
foo.txt
# å¿½ç•¥æ‰€æœ‰ç”Ÿæˆçš„ htmlæ–‡ä»¶,
*.html
# foo.htmlæ˜¯æ‰‹å·¥ç»´æŠ¤çš„ï¼Œæ‰€ä»¥ä¾‹å¤–.
!foo.html
# å¿½ç•¥æ‰€æœ‰.oå’Œ .aæ–‡ä»¶.
*.[oa]
é…ç½®è¯­æ³•ï¼š
# ä»¥æ–œæ â€œ/â€å¼€å¤´è¡¨ç¤ºç›®å½•ï¼›
# ä»¥æ˜Ÿå·â€œ*â€é€šé…å¤šä¸ªå­—ç¬¦ï¼›
# ä»¥é—®å·â€œ?â€é€šé…å•ä¸ªå­—ç¬¦
ä»¥æ–¹æ‹¬å·â€œ[]â€åŒ…å«å•ä¸ªå­—ç¬¦çš„åŒ¹é…åˆ—è¡¨ï¼›
ä»¥å¹å·â€œ!â€è¡¨ç¤ºä¸å¿½ç•¥(è·Ÿè¸ª)åŒ¹é…åˆ°çš„æ–‡ä»¶æˆ–ç›®å½•ï¼›
</code></pre></li>
</ul>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–‡ä»¶å¿…é¡»åœ¨ç¬¬ä¸€æ¬¡æ¨ä»£ç çš„æ—¶å€™å°±åˆ›å»ºï¼Œå¦‚æœä½ ä¸æ…åœ¨åˆ›å»º.gitignoreæ–‡ä»¶ä¹‹å‰å°±pushäº†é¡¹ç›®ï¼Œé‚£ä¹ˆå³ä½¿ä½ åœ¨.gitignoreæ–‡ä»¶ä¸­å†™å…¥æ–°çš„è¿‡æ»¤è§„åˆ™ï¼Œè¿™äº›è§„åˆ™ä¹Ÿä¸ä¼šèµ·ä½œç”¨ï¼ŒGitä»ç„¶ä¼šå¯¹æ‰€æœ‰æ–‡ä»¶è¿›è¡Œç‰ˆæœ¬ç®¡ç†ã€‚<br>ç®€å•æ¥è¯´ï¼Œå‡ºç°è¿™ç§é—®é¢˜çš„åŸå› å°±æ˜¯Gitå·²ç»å¼€å§‹ç®¡ç†è¿™äº›æ–‡ä»¶äº†ï¼Œæ‰€ä»¥ä½ æ— æ³•å†é€šè¿‡è¿‡æ»¤è§„åˆ™è¿‡æ»¤å®ƒä»¬ã€‚å› æ­¤ä¸€å®šè¦å…»æˆåœ¨é¡¹ç›®å¼€å§‹å°±åˆ›å»º.gitignoreæ–‡ä»¶çš„ä¹ æƒ¯ï¼Œå¦åˆ™ä¸€æ—¦pushï¼Œå¤„ç†èµ·æ¥ä¼šéå¸¸éº»çƒ¦ã€‚<br>é‚£ä¹ˆï¼Œå¦‚æœåœ¨.gitignoreæ–‡ä»¶åˆ›å»ºä¹‹åéœ€è¦å¿½ç•¥æŸä¸ªæ–‡ä»¶è¯¥æ€ä¹ˆåŠï¼Ÿè¿™é‡Œè¿˜æœ‰ä¸€ç§å‘½ä»¤å¿½ç•¥çš„æ–¹å¼ã€‚  </p>
<ul>
<li><p>.gitignoreåªèƒ½å¿½ç•¥é‚£äº›åŸæ¥æ²¡æœ‰è¢«trackçš„æ–‡ä»¶ï¼Œå¦‚æœæŸäº›æ–‡ä»¶å·²ç»è¢«çº³å…¥äº†ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œåˆ™ä¿®æ”¹.gitignoreæ˜¯æ— æ•ˆçš„ã€‚æ­£ç¡®çš„åšæ³•æ˜¯åœ¨æ¯ä¸ªcloneä¸‹æ¥çš„ä»“åº“ä¸­æ‰‹åŠ¨è®¾ç½®ä¸è¦æ£€æŸ¥ç‰¹å®šæ–‡ä»¶çš„æ›´æ”¹æƒ…å†µã€‚å‘½ä»¤ä¸ºï¼š</p>
<pre><code>git update-index --assume-unchanged &lt;filename&gt; 
</code></pre><p>å¦‚æœè¦è¿˜åŸçš„è¯ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<pre><code>git update-index --no-assume-unchanged &lt;filename&gt;
</code></pre></li>
<li><p>ä½¿ç”¨.git/info/exclude<br>git è¿˜æä¾›äº†å¦ä¸€ç§ exclude çš„æ–¹å¼æ¥åšåŒæ ·çš„äº‹æƒ…ï¼Œä¸åŒçš„æ˜¯ .gitignore è¿™ä¸ªæ–‡ä»¶æœ¬èº«ä¼šæäº¤åˆ°ç‰ˆæœ¬åº“ä¸­å»ã€‚ç”¨æ¥ä¿å­˜çš„æ˜¯å…¬å…±çš„éœ€è¦æ’é™¤çš„æ–‡ä»¶ã€‚è€Œ .git/info/exclude è¿™é‡Œè®¾ç½®çš„åˆ™æ˜¯ä½ è‡ªå·±æœ¬åœ°éœ€è¦æ’é™¤çš„æ–‡ä»¶ã€‚ ä»–ä¸ä¼šå½±å“åˆ°å…¶ä»–äººã€‚ä¹Ÿä¸ä¼šæäº¤åˆ°ç‰ˆæœ¬åº“ä¸­å»ã€‚<br>ä¸¾ä¾‹ï¼š</p>
<pre><code># git ls-files --others --exclude-from=.git/info/exclude
# Lines that start with &#39;#&#39; are comments.
# For a project mostly in C, the following would be a good set of
# exclude patterns (uncomment them if you want to use them):
# *.[oa]
# *~
.gradle/
.idea/
.settings/
appcompat_v7/
bin/
build/
gen/
gradle/
out/
proguard/
ship/
target/
.classpath
.gitignore
.idea
.project
.readme
.update-config
*.iml
local.properties
</code></pre><p>.gitignore è¿˜æœ‰ä¸ªæœ‰æ„æ€çš„å°åŠŸèƒ½ï¼Œ ä¸€ä¸ªç©ºçš„ .gitignore æ–‡ä»¶ å¯ä»¥å½“ä½œæ˜¯ä¸€ä¸ª placeholder ã€‚å½“ä½ éœ€è¦ä¸ºé¡¹ç›®åˆ›å»ºä¸€ä¸ªç©ºçš„ log ç›®å½•æ—¶ï¼Œ è¿™å°±å˜çš„å¾ˆæœ‰ç”¨ã€‚ ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª log ç›®å½• åœ¨é‡Œé¢æ”¾ç½®ä¸€ä¸ªç©ºçš„ .gitignore æ–‡ä»¶ã€‚è¿™æ ·å½“ä½  clone è¿™ä¸ª repo çš„æ—¶å€™ git ä¼šè‡ªåŠ¨çš„åˆ›å»ºå¥½ä¸€ä¸ªç©ºçš„ log ç›®å½•äº†ã€‚</p>
</li>
</ul>
<h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><p>ä¸ºè½¯ä»¶å‘å¸ƒåˆ›å»ºæ ‡ç­¾æ˜¯æ¨èçš„ã€‚è¿™ä¸ªæ¦‚å¿µæ—©å·²å­˜åœ¨ï¼Œåœ¨ SVN ä¸­ä¹Ÿæœ‰ã€‚ä½ å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªå«åš 1.0.0 çš„æ ‡ç­¾ï¼š<br><code>git tag 1.0.0 1b2e1d63ff</code><br>1b2e1d63ff æ˜¯ä½ æƒ³è¦æ ‡è®°çš„æäº¤ ID çš„å‰ 10 ä½å­—ç¬¦ã€‚å¯ä»¥ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤è·å–æäº¤ IDï¼š<br>git log<br>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å°‘ä¸€ç‚¹çš„æäº¤ ID å‰å‡ ä½ï¼Œåªè¦å®ƒçš„æŒ‡å‘å…·æœ‰å”¯ä¸€æ€§</p>
<script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>ç‰ˆæœ¬æ§åˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title>reactåŸºç¡€</title>
    <url>/2021/07/17/react01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ç°åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„åŸºæœ¬éƒ½æ˜¯JSXè¯­æ³•ï¼Œæ‰€ä»¥åœ¨è¿™ç¯‡ç¬”è®°é‡Œéƒ½ç”¨è¿™æ ·çš„å†™æ³•</em></strong></p>
<a id="more"></a>
<h1 id="react"><a href="#react" class="headerlink" title="react"></a>react</h1><p>ç°åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„åŸºæœ¬éƒ½æ˜¯JSXè¯­æ³•ï¼Œæ‰€ä»¥åœ¨è¿™ç¯‡ç¬”è®°é‡Œéƒ½ç”¨è¿™æ ·çš„å†™æ³•</p>
<h2 id="JSXè¯­æ³•"><a href="#JSXè¯­æ³•" class="headerlink" title="JSXè¯­æ³•"></a>JSXè¯­æ³•</h2><p>Jsx ç”¨æ¥å£°æ˜ react ä¸­çš„å…ƒç´ </p>
<pre><code>const element = &lt;h1&gt;hi~ react&lt;/h1&gt;

</code></pre><p>å¯ä»¥åœ¨jsx å½“ä¸­ä½¿ç”¨ js è¡¨è¾¾å¼</p>
<pre><code>function getDisplayName(givenName, familyName){
    return givenName + familyName
}

const element = &lt;h1&gt;{ getDisplayName(â€™nenaâ€™, â€™wan&#39;)}&lt;/h1&gt;
</code></pre><p>å¯ä»¥å®šä¹‰ä»¥å­—ç¬¦ä¸²ä¸ºå€¼çš„å±æ€§ã€ä»¥ js è¡¨è¾¾å¼ä¸ºå€¼çš„å±æ€§</p>
<pre><code>import imageUrl from â€˜../asset/image.png&#39; 

const element = &lt;img alt=â€œimgâ€ src={imageUrl} className=â€œimgEle&quot;/&gt; 
</code></pre><h2 id="react-åŸºç¡€è¯­æ³•"><a href="#react-åŸºç¡€è¯­æ³•" class="headerlink" title="react åŸºç¡€è¯­æ³•"></a>react åŸºç¡€è¯­æ³•</h2><pre><code>HellowWorld.js
import React from &#39;react&#39;;

class HellowWorld extends React.component{
    constructor(props){
        super(props);
    }

    render(){

        return (
            &lt;div&gt;HellowWorld&lt;/div&gt;
        )
    }
}

export default HellowWorld;
</code></pre><p>è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„reactç»„ä»¶ï¼Œåœ¨reactä¸­çº¦å®šï¼šç»„ä»¶å¿…é¡»ä¸ºå¤§å†™å­—æ¯å¼€å¤´å¹¶ä¸”ä½¿ç”¨é©¼å³°å¼å‘½åï¼Œç»„ä»¶åå’Œæ–‡ä»¶åå¿…é¡»ä¿æŒä¸€è‡´ã€‚</p>
<h2 id="reactæ¸²æŸ“"><a href="#reactæ¸²æŸ“" class="headerlink" title="reactæ¸²æŸ“"></a>reactæ¸²æŸ“</h2><p>ä¸€èˆ¬æ¸²æŸ“é¡¶éƒ¨çš„å…ƒç´ ï¼Œæˆ‘ä»¬ä½¿ç”¨ ReactDom.render()</p>
<pre><code>function tick(){ 
  const element = ( 
   &lt;div&gt; 
     &lt;h1&gt;time&lt;/h1&gt; 
     &lt;p&gt;{new Date().toLocaleTimeString()}&lt;/p&gt; 
   &lt;/div&gt; 
  ) 
  ReactDom.render( 
  element, 
  document.getELementById(â€˜root&#39;) 
  ) 
} 

</code></pre><p>ä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹ï¼Œreact çš„é¡¹ç›®ï¼Œè¿™ç§æ¸²æŸ“æ–¹å¼åªæ˜¯ç”¨äºæœ€é¡¶éƒ¨çš„å…ƒç´ æ¸²æŸ“ï¼Œä¸‹é¢çš„å­å…ƒç´ æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å…¶ä»–çš„æ–¹æ³•ï¼Œreact ç•™ç»™æˆ‘ä»¬çŠ¶æ€å’Œå±æ€§å˜åŒ–æ—¶ï¼Œç›¸å…³ç»„ä»¶å³åˆ»æ¸²æŸ“çš„æœºåˆ¶ï¼Œä»¥ä¾›æˆ‘ä»¬ä¿æŒæ•°æ®å’Œé¡µé¢æ˜¾ç¤ºçŠ¶æ€çš„åŒæ­¥ã€‚</p>
<h2 id="Reactç»„ä»¶-amp-props"><a href="#Reactç»„ä»¶-amp-props" class="headerlink" title="Reactç»„ä»¶&amp;props"></a>Reactç»„ä»¶&amp;props</h2><p>React ç»„ä»¶ï¼šç›¸å½“äºä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»å¤–ç•Œè·å–å‚æ•°ï¼Œç”±ç»„ä»¶ä¸­ props æ¥æ”¶ï¼Œå¹¶æœ€ç»ˆè¿”å›ä¸€ä¸ªå¯åœ¨é¡µé¢ä¸Šè¿›è¡Œæ¸²æŸ“çš„ react å…ƒç´ ã€‚<br>å®šä¹‰ç»„ä»¶çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š  </p>
<h3 id="å‡½æ•°å¼å®šä¹‰"><a href="#å‡½æ•°å¼å®šä¹‰" class="headerlink" title="å‡½æ•°å¼å®šä¹‰:"></a>å‡½æ•°å¼å®šä¹‰:</h3><pre><code>function Welcome(props){ 
  return &lt;h1&gt;hello, { props.name }&lt;/h1&gt; 
} 

</code></pre><h3 id="Es6-ç±»å®šä¹‰"><a href="#Es6-ç±»å®šä¹‰" class="headerlink" title="Es6  ç±»å®šä¹‰"></a>Es6  ç±»å®šä¹‰</h3><pre><code>class Welcome extends React.Component { 
  render(){ 
     return &lt;h1&gt;{this.props.name}&lt;/h1&gt; 
  } 
} 
</code></pre><h2 id="state"><a href="#state" class="headerlink" title="state"></a>state</h2><p>stateä¸ºä¸€ä¸ªç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼Œå®é™…ä¸Šå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå†…éƒ¨å±æ€§ç”±æˆ‘ä»¬å†³å®šã€‚<br>é™¤äº†è°ƒç”¨ ReactDom.render() æ–¹æ³•æ¥æ¸²æŸ“ react å…ƒç´ ä»¥å¤–ï¼Œå¯ä»¥æ›´æ–°ä¸€ä¸ªç»„ä»¶çš„å†…éƒ¨ state å€¼ï¼Œä»¥æ­¤æ¥å¯¹ç»„ä»¶è¿›è¡Œä¸€æ¬¡é‡æ–°æ¸²æŸ“ã€‚</p>
<pre><code>class Add extends React.Component{
   constructor(props){
      super(props);
      this.state = {
        number: 0,
      }
   } 
   add = () =&gt; {
      const currentNumber = this.state.number;
      this.setState({
        number: currentNumber + 1,
      })
   }
   render() {
      return(
        &lt;div&gt;
          &lt;h1&gt;the current number is: { this.state.number }&lt;/h1&gt;
          &lt;button onClick={this.add}&gt; åŠ 1 &lt;/button&gt;
        &lt;/div&gt;
      )
   }
}
</code></pre><p>çŠ¶æ€çš„åˆå¹¶ä¸ºæµ…åˆå¹¶:</p>
<pre><code>   This.state = { 
      number: 0, 
      visitable: false, 
   } 
   â€¦ 
   this.setState({ 
      number: 1 
   }) 

   // state: { number: 1, visitable: false}
</code></pre><p>react æ•°æ®æµä¸ºè‡ªä¸Šè€Œä¸‹ï¼Œçˆ¶çº§å¹¶ä¸å…³å¿ƒä¹Ÿä¸çŸ¥é“å­çº§æ˜¯å¦æœ‰çŠ¶æ€ï¼ŒçŠ¶æ€ä¸ºä»€ä¹ˆå€¼ç­‰ã€‚</p>
<p><strong><em>ä½¿ç”¨stateçš„æ—¶å€™è¦æ³¨æ„çš„ç‚¹ï¼š</em></strong><br>1.ä¸è¦ç›´æ¥ä¿®æ”¹ state ä¸­çš„å€¼ï¼Œé‚£æ ·ä¸ä¼šé‡æ–°è¿›è¡Œæ¸²æŸ“ï¼Œå¿…é¡»è¦ä½¿ç”¨ setState</p>
<pre><code>add = () =&gt; {     
   const currentNumber = this.state.number;
   this.state.number = currentNumber + 1;
}   // é”™è¯¯
</code></pre><p>2.ä¸è¦åˆ©ç”¨å‰ä¸€ä¸ª state ä¸­å˜åŒ–çš„å€¼é©¬ä¸Šå»ä¿®æ”¹åä¸€ä¸ª state çš„å€¼ï¼Œå› ä¸º setState æ˜¯å¼‚æ­¥çš„ï¼Œä¸èƒ½ç¡®å®šä»€ä¹ˆæ—¶å€™æ›´æ–°æˆåŠŸã€‚</p>
<pre><code>add = () =&gt; { 
   this.setState(function(prev){ 
       return { 
           number: prev.number + 1 
       } 
   }) 
} 
</code></pre><p>3.ç”±äºå¼‚æ­¥çš„å…³ç³»ï¼Œå¦‚æœä¸€ä¸ªæ“ä½œå¿…é¡»è¦åœ¨ä¸€ä¸ª setState ä¹‹åè¿›è¡Œçš„è¯ã€‚å¯ä»¥ä½¿ç”¨å›è°ƒå‡½æ•°</p>
<pre><code>add = () =&gt; { 
   this.setState(function(prev){ 
       return {
           number: prev.number + 1
       }
   }, function(){   // to do something...  }) 
} 
</code></pre><h2 id="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h2><p>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå„å‘¨æœŸé’©å­ç»§æ‰¿è‡ª React.Component</p>
<h3 id="å½“ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºåŠè¢«æ’å…¥domæ—¶ä¾æ¬¡è°ƒç”¨"><a href="#å½“ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºåŠè¢«æ’å…¥domæ—¶ä¾æ¬¡è°ƒç”¨" class="headerlink" title="å½“ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºåŠè¢«æ’å…¥domæ—¶ä¾æ¬¡è°ƒç”¨"></a>å½“ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºåŠè¢«æ’å…¥domæ—¶ä¾æ¬¡è°ƒç”¨</h3><pre><code>constructor() 
componentWillMount()
render()
componentDidMount()
</code></pre><h3 id="å½“ä¼ å…¥å±æ€§å˜åŒ–æˆ–è€…çŠ¶æ€å˜åŒ–ï¼Œç»„ä»¶è¦è¢«é‡æ–°æ¸²æŸ“æ—¶ä¾æ¬¡è°ƒç”¨"><a href="#å½“ä¼ å…¥å±æ€§å˜åŒ–æˆ–è€…çŠ¶æ€å˜åŒ–ï¼Œç»„ä»¶è¦è¢«é‡æ–°æ¸²æŸ“æ—¶ä¾æ¬¡è°ƒç”¨" class="headerlink" title="å½“ä¼ å…¥å±æ€§å˜åŒ–æˆ–è€…çŠ¶æ€å˜åŒ–ï¼Œç»„ä»¶è¦è¢«é‡æ–°æ¸²æŸ“æ—¶ä¾æ¬¡è°ƒç”¨"></a>å½“ä¼ å…¥å±æ€§å˜åŒ–æˆ–è€…çŠ¶æ€å˜åŒ–ï¼Œç»„ä»¶è¦è¢«é‡æ–°æ¸²æŸ“æ—¶ä¾æ¬¡è°ƒç”¨</h3><pre><code>componentWillReceiveProps() 
shouldComponentUpdate() 
componentWillUpdate() 
render() 
componentDidUpdate() 
</code></pre><h3 id="å½“ä¸€ä¸ªç»„ä»¶ä»-Dom-ä¸­å³å°†è¢«å¸è½½æ—¶è°ƒç”¨"><a href="#å½“ä¸€ä¸ªç»„ä»¶ä»-Dom-ä¸­å³å°†è¢«å¸è½½æ—¶è°ƒç”¨" class="headerlink" title="å½“ä¸€ä¸ªç»„ä»¶ä» Dom ä¸­å³å°†è¢«å¸è½½æ—¶è°ƒç”¨"></a>å½“ä¸€ä¸ªç»„ä»¶ä» Dom ä¸­å³å°†è¢«å¸è½½æ—¶è°ƒç”¨</h3><pre><code>componentWillUnmount()
</code></pre><h3 id="å„å‘¨æœŸç‰¹ç‚¹åŠä¸€èˆ¬æ€§ä½¿ç”¨"><a href="#å„å‘¨æœŸç‰¹ç‚¹åŠä¸€èˆ¬æ€§ä½¿ç”¨" class="headerlink" title="å„å‘¨æœŸç‰¹ç‚¹åŠä¸€èˆ¬æ€§ä½¿ç”¨:"></a>å„å‘¨æœŸç‰¹ç‚¹åŠä¸€èˆ¬æ€§ä½¿ç”¨:</h3><pre><code>constructor()
</code></pre><p>æ„é€ å‡½æ•°ï¼Œä¸€èˆ¬åœ¨å…¶ä¸­ è¿›è¡Œåˆå§‹åŒ– stateï¼Œç»§æ‰¿ props</p>
<pre><code>componentWillMount()

</code></pre><p>åœ¨ render ä¹‹å‰è°ƒç”¨ï¼Œå› æ­¤åœ¨è¿™é‡Œè¿›è¡Œ setState æ“ä½œå¹¶ä¸ä¼šè§¦å‘æ¸²æŸ“ï¼Œæ²¡æœ‰æ„ä¹‰ã€‚<br>è¿™ä¸ªé’©å­åœ¨ä¸€èˆ¬çš„å‰ç«¯é¡¹ç›®ä¸­ä¸å¸¸ä½¿ç”¨ï¼Œä½†åœ¨æœåŠ¡ç«¯æ¸²æŸ“é¡¹ç›®ä¸­ä¼šè¢«è°ƒç”¨ã€‚</p>
<pre><code>render()

</code></pre><p>æ ¹æ®æœ€æ–°çš„ props å’Œ state è¿›è¡Œæ¸²æŸ“</p>
<pre><code>componentDidMount()
</code></pre><p>åœ¨ renderä¹‹åè°ƒç”¨ï¼Œå¯ä»¥åœ¨è¿™é‡Œè¿›è¡ŒæŸ¥è¯¢æ•°æ®æ“ä½œï¼Œæˆ–è€…å¯¹æ¸²æŸ“å¥½çš„é¡µé¢è¿›è¡Œ domæ“ä½œã€‚</p>
<pre><code>componentWillReceiveProps(nextProps)
</code></pre><p>åœ¨ props å³å°†å‘ç”Ÿå˜åŒ–å‰è°ƒç”¨ï¼ŒnextProps ä¸ºæ–°çš„ props, å¯ä»¥é€šè¿‡ä¸ this.props<br> åšæ¯”è¾ƒï¼Œè¿›è€Œæ›´æ–°æŸäº›ä¾èµ– props è€Œå‘ç”Ÿæ”¹å˜çš„ state</p>
<pre><code> shouldComponentUpdate( nextProps, nextState)
</code></pre><p> å½“å±æ€§æˆ–è€…çŠ¶æ€æ”¹å˜æ—¶è°ƒç”¨ï¼Œé»˜è®¤è¿”å› true, å³è¿›è¡Œæ¸²æŸ“ï¼Œå¦‚æœè¿”å› falseï¼Œåˆ™ä¸è¿›è¡Œæ¸²æŸ“ã€‚  åç»­åœ¨å±æ€§æ”¹å˜<br>æ—¶æœŸè§¦å‘çš„ç”Ÿå‘½å‘¨æœŸéƒ½ä¸å†è°ƒç”¨ã€‚æ³¨æ„åœ¨åˆå§‹åŒ–ç»„ä»¶åŠä½¿ç”¨forceUpdate()æ—¶ä¸ä¼šè°ƒç”¨ã€‚</p>
<pre><code>componentWillUpdate(nextProps, nextState)
</code></pre><p>åœ¨ä¸Šä¸€æ­¥å¦‚æœè¿”å›äº† true, åˆ™ç»§ç»­è°ƒç”¨ã€‚</p>
<pre><code>render()
</code></pre><p>è¿›è¡Œæ¸²æŸ“</p>
<pre><code>componentDidUpdate(prevProps, prevState)
</code></pre><p>åœ¨è¿™é‡Œå¯¹æ¯”ä¹‹å‰å’Œå·²ç»æ›´æ”¹çš„ props åŠ state,  è¿›è¡Œ dom æ“ä½œæˆ–è€…å‘é€è¯·æ±‚ã€‚</p>
<pre><code>componentWillUnmount()
</code></pre><p>åœ¨ç»„ä»¶è¢«é”€æ¯å’Œå¸è½½å‰è°ƒç”¨ï¼Œåœ¨æ­¤æ¸…ç†ç»„ä»¶çš„ä¸€äº›å®šæ—¶å™¨ï¼Œç½‘ç»œè¯·æ±‚ç­‰ã€‚</p>
<h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><p> ä¸vueåŸºæœ¬ä¸€æ ·ï¼Œä¸€èˆ¬å½¢å¼å¦‚ä¸‹</p>
<pre><code> handleClick(){
     .....
 }
 &lt;button onClick={(e)=&gt;{this.handleClick(e)}}&gt;add&lt;/button&gt;
</code></pre><h2 id="æ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“</h2><h3 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h3><pre><code> this.state = {
  showNameFlag: false,
  name: â€™nena wan&#39;
}
...

render() { 
  const showNameFlag = this.state.showNameFlag; 
  const name = this.state.name; 
  return ( 
     &lt;div&gt; 
        &lt;h1&gt;Hello ~&lt;/h1&gt; 
        { 
            showNameFlag ? (&lt;p&gt;{name}&lt;/p&gt;) : null 
        } 
     &lt;/div&gt; 
  ) 
} 
</code></pre><h3 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h3><pre><code>this.state = { 
   list = [ 
       { id: 1, name: â€˜appleâ€™, meaning: â€˜è‹¹æœ&#39; } 
       { id: 2, name: â€˜pearâ€™, meaning: â€˜æ¢¨&#39; }, 
       { id: 3, name: â€˜peachâ€™, meaning: â€™æ¡ƒå­&#39; } 
   ], 
} 
...
render() {
  const list = this.state.list;
  return (
     &lt;div&gt;
        &lt;h1&gt;Hello ~&lt;/h1&gt;
        {
            list.map(function(item, index){
                Return (
                  &lt;div key={item.id.toString()}&gt;
                     &lt;h1&gt;{item.name} / {item.meaning}&lt;/h1&gt;
                  &lt;/div&gt;
                )
            })
        }
     &lt;/div&gt;
  )
}
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>reactä¸­çš„refå’Œcontent</title>
    <url>/2021/07/17/reactref/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>ä¸€èˆ¬çš„ react æ•°æ®æµä¸­ï¼Œçˆ¶çº§ä¸å­çº§æ˜¯é€šè¿‡ props è¿›è¡Œ â€œæ²Ÿé€šâ€ï¼Œ å¦‚æœè¦å­çº§å‘ç”Ÿæ”¹å˜ï¼Œçˆ¶çº§å¯ä»¥æ”¹å˜ä¼ å…¥çš„ propsã€‚ä½†æ˜¯æœ‰æ—¶ï¼Œéœ€è¦å¼ºåˆ¶ä¿®æ”¹å­çº§ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦ç”¨åˆ° ref</em></strong><br><a id="more"></a></p>
<h1 id="ä¸€èˆ¬ä½¿ç”¨-ref-çš„åœºæ™¯"><a href="#ä¸€èˆ¬ä½¿ç”¨-ref-çš„åœºæ™¯" class="headerlink" title="ä¸€èˆ¬ä½¿ç”¨ ref çš„åœºæ™¯:"></a>ä¸€èˆ¬ä½¿ç”¨ ref çš„åœºæ™¯:</h1><h2 id="1-å¤„ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œ-åª’ä½“æ§åˆ¶"><a href="#1-å¤„ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œ-åª’ä½“æ§åˆ¶" class="headerlink" title="1.å¤„ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œ åª’ä½“æ§åˆ¶"></a>1.å¤„ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©ï¼Œ åª’ä½“æ§åˆ¶</h2><h2 id="2-è§¦å‘å¼ºåˆ¶åŠ¨ç”»"><a href="#2-è§¦å‘å¼ºåˆ¶åŠ¨ç”»" class="headerlink" title="2.è§¦å‘å¼ºåˆ¶åŠ¨ç”»"></a>2.è§¦å‘å¼ºåˆ¶åŠ¨ç”»</h2><h2 id="3-é›†æˆç¬¬ä¸‰æ–¹-dom-åº“"><a href="#3-é›†æˆç¬¬ä¸‰æ–¹-dom-åº“" class="headerlink" title="3.é›†æˆç¬¬ä¸‰æ–¹ dom åº“"></a>3.é›†æˆç¬¬ä¸‰æ–¹ dom åº“</h2><pre><code>class AutoFocusTextInput extends React.Component {
  componentDidMount() {
    this.textInput.focusTextInput();
  }
  render() {
    return (
      &lt;CustomTextInput
        ref={(input) =&gt; { this.textInput = input; }} /&gt;
    );
  }
}
</code></pre><pre><code>class CustomTextInput extends React.Component {
  constructor(props) {
    super(props);
    this.focus = this.focus.bind(this);
  }

  focus() {
    // ç›´æ¥ä½¿ç”¨åŸç”Ÿ API ä½¿ text è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹
    this.textInput.focus();
  }

  render() {
    // ä½¿ç”¨ `ref` çš„å›è°ƒå°† text è¾“å…¥æ¡†çš„ DOM èŠ‚ç‚¹å­˜å‚¨åˆ° React
    // å®ä¾‹ä¸Šï¼ˆæ¯”å¦‚ this.textInputï¼‰
    return (
      &lt;div&gt;
        &lt;input
          type=&quot;text&quot;
          ref={(input) =&gt; { this.textInput = input; }} /&gt;
        &lt;input
          type=&quot;button&quot;
          value=&quot;Focus the text input&quot;
          onClick={this.focus}
        /&gt;
      &lt;/div&gt;
    );
  }
}
</code></pre><h1 id="content"><a href="#content" class="headerlink" title="content"></a>content</h1><p>åœ¨ react ä¸­ï¼Œæ•°æ®ä»¥è‡ªä¸Šåˆ°ä¸‹çš„æ–¹å‘ä¼ é€’ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®åœ¨æœ€é¡¶å±‚ï¼Œè€Œæœ€åº•å±‚çš„ç»„ä»¶éœ€è¦ç”¨åˆ°è¿™ä¸ªæ•°æ®ï¼Œé‚£ä¹ˆæ•°æ®éœ€è¦ä¼ é€’å¾ˆå¤šå±‚æ‰èƒ½åˆ°è¾¾æœ€åº•å±‚ã€‚è¿™ç§æ“ä½œä¼šå¼‚å¸¸éº»çƒ¦ã€‚</p>
<p>context å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<pre><code>//å®šä¹‰ä¸€ä¸ªå…¨å±€context
import React from &#39;react&#39;
const GlobalContext = React.createContext()
export default GlobalContext
//çˆ¶ç»„ä»¶ä¸­provider
&lt;GlobalContext.Provider value={value}&gt;
&lt;Content /&gt;
&lt;/GlobalContext.Provider&gt;
// å­ç»„ä»¶
&lt;GlobalContext.Consumer&gt;
{value =&gt; &lt;button&gt;test-{value}&lt;/button&gt;}
&lt;/GlobalContext.Consumer&gt;

</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>less</title>
    <url>/2021/07/26/less/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>cssé¢„å¤„ç†å™¨ç”¨ä¸€ç§ä¸“é—¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸ºcsså¢åŠ ä¸€äº›ç¼–ç¨‹è¯­è¨€çš„ç‰¹æ€§ï¼Œä¾‹å¦‚åœ¨cssä¸­ä½¿ç”¨å˜é‡ã€ç®€å•çš„é€»è¾‘ç¨‹åºã€å‡½æ•°ç­‰ç­‰ã€‚è€Œä¸”è¿˜èƒ½è®©csså¯è¯»æ€§æ›´ä½³ï¼Œä»£ç æ›´æ˜“äºç»´æŠ¤ã€‚</em></strong></p>
<a id="more"></a>
<h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><p>cssä¸æ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ²¡æœ‰å˜é‡ï¼Œå‡½æ•°ï¼Œæ¡ä»¶è¯­å¥ç­‰è¯­æ³•ï¼Œåªæ˜¯ä¸€ç¾¤ç®€å•çš„å±æ€§æè¿°ï¼Œä»£ç ä¸åˆ©äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<h2 id="cssé¢„å¤„ç†å™¨"><a href="#cssé¢„å¤„ç†å™¨" class="headerlink" title="cssé¢„å¤„ç†å™¨"></a>cssé¢„å¤„ç†å™¨</h2><p>cssé¢„å¤„ç†å™¨ç”¨ä¸€ç§ä¸“é—¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸ºcsså¢åŠ ä¸€äº›ç¼–ç¨‹è¯­è¨€çš„ç‰¹æ€§ï¼Œä¾‹å¦‚åœ¨cssä¸­ä½¿ç”¨å˜é‡ã€ç®€å•çš„é€»è¾‘ç¨‹åºã€å‡½æ•°ç­‰ç­‰ã€‚è€Œä¸”è¿˜èƒ½è®©csså¯è¯»æ€§æ›´ä½³ï¼Œä»£ç æ›´æ˜“äºç»´æŠ¤ã€‚</p>
<h2 id="å¸¸ç”¨çš„cssé¢„å¤„ç†å™¨"><a href="#å¸¸ç”¨çš„cssé¢„å¤„ç†å™¨" class="headerlink" title="å¸¸ç”¨çš„cssé¢„å¤„ç†å™¨"></a>å¸¸ç”¨çš„cssé¢„å¤„ç†å™¨</h2><p> æœ€å¥½ç”¨çš„ä¸¤ä¸ªï¼Œsasså’Œlessã€‚</p>
<h2 id="lessçš„ä½¿ç”¨"><a href="#lessçš„ä½¿ç”¨" class="headerlink" title="lessçš„ä½¿ç”¨"></a>lessçš„ä½¿ç”¨</h2><ul>
<li><p>å®‰è£…</p>
<pre><code>npm i less-loader less --save-dev
</code></pre></li>
<li><p>åœ¨webpackä¸­é…ç½®</p>
</li>
</ul>
<pre><code>{
    test : /\.less$/,
    user : [{
        loader : &#39;style-loader&#39;
    },]
    user : [{
        loader : &#39;css-loader&#39;
    },]
    user : [{
        loader : &#39;less-loader&#39;
    },]
}
</code></pre><ul>
<li>æ–°å»ºåç¼€ä¸º.lessçš„æ–‡ä»¶ï¼Œç„¶ååœ¨é¡µé¢ä¸­å¼•ç”¨ï¼š<pre><code>import &#39;./style/index.less
</code></pre><h2 id="lessçš„è¯­æ³•"><a href="#lessçš„è¯­æ³•" class="headerlink" title="lessçš„è¯­æ³•"></a>lessçš„è¯­æ³•</h2></li>
<li>å˜é‡ï¼š<br>ä½¿ç”¨@+å˜é‡åçš„æ–¹å¼å®šä¹‰å˜é‡ï¼Œä½¿ç”¨å˜é‡æ—¶åœ¨å˜é‡åå‰åŠ @<pre><code>@size : 20px;
.box{
  font-size : @siza
}
</code></pre></li>
<li>æ··åˆ:<br>å°†ä¸€äº›é€šç”¨çš„å±æ€§é›†åˆç”¨classå°è£…èµ·æ¥ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªclassä¸­å»å¼•ç”¨è¿™ä¸ªclassä¸‹çš„æ‰€æœ‰å±æ€§ã€‚å½“ç„¶ï¼Œé™¤äº†classï¼Œidå±æ€§é›†ä¹Ÿå¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼å¼•ç”¨ã€‚<pre><code>.cla1{
  color:red;
}
.cla2{
  .cla1;
}
</code></pre></li>
<li>å¸¦å‚æ•°æ··åˆ:<br>åœ¨lessä¸­ï¼Œä½ è¿˜å¯ä»¥åƒå‡½æ•°ä¸€æ ·å®šä¹‰ä¸€ä¸ªå¸¦å‚æ•°çš„å±æ€§é›†åˆ<pre><code>.clas(@color){
  color:@color;
}
.box{
  .cla(&#39;red&#39;)
}
</code></pre>@argumentså˜é‡ï¼ŒåŒ…å«äº†æ‰€æœ‰ä¼ è¿›æ¥çš„å‚æ•°ï¼Œå¦‚æœä½ ä¸æƒ³å•ç‹¬å¤„ç†æ¯ä¸€ä¸ªå‚æ•°çš„è¯å¯ä»¥åƒè¿™æ ·å†™ï¼š<pre><code>.box(@x:0,@y:0,@color){
   width:@arguments;
   height :@arguments;
   color : @arguments;
}
</code></pre></li>
<li>åµŒå¥—:<br>ä¸ºäº†è®©cssä»£ç ç®€æ´æ¸…æ™°ï¼Œæ˜“ç»´æŠ¤ï¼Œç°åœ¨lesså…è®¸æˆ‘ä»¬ä»¥åµŒå¥—çš„æ–¹å¼ç¼–å†™å±‚å æ ·å¼ï¼Œå­å…ƒç´ æ ·å¼å¯ä»¥ç›´æ¥åµŒå¥—åœ¨çˆ¶å…ƒç´ æ ·å¼ä¸­ï¼š</li>
</ul>
<pre><code>.box{

    .smallbox{

    }
}
</code></pre><ul>
<li>è¿ç®—:<br>åœ¨lessä¸­ï¼Œä»»ä½•æ•°å­—ã€é¢œè‰²æˆ–è€…å˜é‡éƒ½å¯ä»¥å‚ä¸è¿ç®—ã€‚</li>
</ul>
<pre><code>@basewidth:20px;
.cl{
    width : @basewidth*2;
}
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>less</tag>
      </tags>
  </entry>
  <entry>
    <title>reactform</title>
    <url>/2021/07/17/reactform/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>reactè¡¨å•</em></strong><br><a id="more"></a></p>
<h1 id="reactè¡¨å•ä¸­çš„ç»„ä»¶æ ¹æ®å®ç°æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š"><a href="#reactè¡¨å•ä¸­çš„ç»„ä»¶æ ¹æ®å®ç°æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š" class="headerlink" title="reactè¡¨å•ä¸­çš„ç»„ä»¶æ ¹æ®å®ç°æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š"></a>reactè¡¨å•ä¸­çš„ç»„ä»¶æ ¹æ®å®ç°æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š</h1><h2 id="1-å—æ§ç»„ä»¶ï¼š"><a href="#1-å—æ§ç»„ä»¶ï¼š" class="headerlink" title="1.å—æ§ç»„ä»¶ï¼š"></a>1.å—æ§ç»„ä»¶ï¼š</h2><p>ç›¸å½“äºå°†è¡¨å•çš„å€¼ä¸ state çŠ¶æ€åŒå‘ç»‘å®šï¼Œå®é™…ä¸Šstate åˆ°è¡¨å• æ˜¯å˜åŒ–é‡æ–°æ¸²æŸ“è¡¨å•ï¼Œè¡¨å•åˆ° stateï¼Œåˆ™é€šè¿‡å¯¹è¡¨å•å…ƒç´ ç»‘å®š change æ–¹æ³•ï¼Œåœ¨å…¶ä¸­å°†è¡¨å•çš„ value èµ‹ç»™state çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦è‡ªå·±æ‰‹åŠ¨å»å®Œæˆï¼Œè€Œä¸åŒäºreactçš„vueåˆ™æ˜¯é€šè¿‡ä¸€ä¸ªæŒ‡ä»¤è¿›è¡Œæ•°æ®çš„åŒå‘ç»‘å®šã€‚</p>
<pre><code>class NameForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {value: &#39;&#39;};
    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }
  handleChange(event) {
    this.setState({value: event.target.value});
  }
  handleSubmit(event) {
    alert(&#39;A name was submitted: &#39; + this.state.value);
    event.preventDefault();
  }
  render() {
    return (
      &lt;form onSubmit={this.handleSubmit}&gt;
        &lt;label&gt;
          Name:
          &lt;input type=&quot;text&quot; value={this.state.value} onChange={this.handleChange} /&gt;
        &lt;/label&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;
      &lt;/form&gt;
    );
  }
}
</code></pre><h2 id="2-éå—æ§ç»„ä»¶"><a href="#2-éå—æ§ç»„ä»¶" class="headerlink" title="2.éå—æ§ç»„ä»¶"></a>2.éå—æ§ç»„ä»¶</h2><p>ç”±äºå—æ§ç»„ä»¶æ¯ä¸€ä¸ªéƒ½è¦å†™ä¸€ä¸ªå¯¹åº”çš„è§¦å‘äº‹ä»¶ï¼Œå¦‚æœé¡¹ç›®ä¸­æ˜¯åˆ°ä¸­åæœŸæ‰å¼•å…¥çš„ reactï¼Œé‚£ä¹ˆæ”¹åŠ¨å°†ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨éå—æ§ç»„ä»¶ã€‚<br>éå—æ§ç»„ä»¶è¿˜æ˜¯å’Œä¹‹å‰æ“ä½œ dom æ‹¿åˆ°è¡¨å•å…ƒç´ çš„å€¼çš„æ–¹å¼å¾ˆåƒã€‚</p>
<pre><code>class NameForm extends React.Component {
  constructor(props) {
    super(props);
    this.handleSubmit = this.handleSubmit.bind(this);
  }
  handleSubmit(event) {
    alert(&#39;A name was submitted: &#39; + this.input.value);
    event.preventDefault();
  }

  render() {
    return (
      &lt;form onSubmit={this.handleSubmit}&gt;
        &lt;label&gt;
          Name:
          &lt;input type=&quot;text&quot; ref={(input) =&gt; this.input = input} /&gt;
        &lt;/label&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;
      &lt;/form&gt;
    );
  }
}
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>react</tag>
        <tag>å‰ç«¯</tag>
      </tags>
  </entry>
  <entry>
    <title>é¹å“¥çš„webpackç¬”è®°</title>
    <url>/2021/07/25/webpacksimple/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>é¹å“¥æ˜¯æœ¬äººreactå’Œwebpackå…¥é—¨çš„é¢†è·¯äºº</em></strong></p>
<a id="more"></a>
<h1 id="ä»€ä¹ˆæ˜¯webpackï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯webpackï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯webpackï¼Ÿ"></a>ä»€ä¹ˆæ˜¯webpackï¼Ÿ</h1><p>æ®ä¸ªäººç†è§£ï¼Œwebpackå°±æ˜¯ä¸€ä¸ªç»„ç»‡å·¥å…·ï¼Œå®ƒå¯ä»¥æ ¹æ®ä¸€äº›é…ç½®ï¼Œç»„ç»‡ä¸€ä¸ªå‰ç«¯é¡¹ç›®ï¼Œè®©å¼€å‘è€…å¯ä»¥ä½¿ç”¨ä¸€äº›æµè§ˆå™¨ä¸æ”¯æŒçš„æŠ€æœ¯ï¼Œæ¯”å¦‚æ¨¡æ¿æŠ€æœ¯ï¼ˆvueï¼Œreactï¼‰ï¼Œes6è¯­æ³•ï¼Œlessï¼Œsassæ–¹ä¾¿å¼€å‘ã€‚</p>
<h1 id="webpackä¸»è¦å®Œæˆçš„å·¥ä½œ"><a href="#webpackä¸»è¦å®Œæˆçš„å·¥ä½œ" class="headerlink" title="webpackä¸»è¦å®Œæˆçš„å·¥ä½œ"></a>webpackä¸»è¦å®Œæˆçš„å·¥ä½œ</h1><p> webpackä¸»è¦ä¸ºå‰ç«¯å¼€å‘è€…æä¾›ä¸€äº›æœåŠ¡ï¼š</p>
<ul>
<li>æœ¬åœ°å¼€å‘ç¯å¢ƒçƒ­æ›´æ–°æœåŠ¡ã€‚è¿™ä¸ªæœåŠ¡æä¾›ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œå¯ä»¥å®æ—¶çš„çœ‹åˆ°æˆ‘ä»¬å¯¹é¡¹ç›®ä»£ç çš„ä¿®æ”¹åœ¨é¡µé¢ä¸Šçš„ä½“ç°ï¼Œç›¸å½“äºvscodeå¯¹markdownæ–‡ä»¶çš„é¢„è§ˆä¸€æ ·ã€‚</li>
<li>ä»£ç†æœåŠ¡ã€‚ç›®å‰çš„é¡¹ç›®åŸºæœ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»å¼€å‘ï¼Œå‰ç«¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œåç«¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œè¿™æ—¶å€™å°±ä¼šäº§ç”Ÿè·¨åŸŸçš„é—®é¢˜ï¼Œè¿™ä¸ªæœåŠ¡å°±æ˜¯ä¸ºäº†è§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Œæä¾›äº†è¯·æ±‚è½¬å‘çš„æœåŠ¡ã€‚</li>
<li>ç¼–è¯‘æœåŠ¡ã€‚ç›®å‰æµè§ˆå™¨å¯¹es6ï¼Œsassï¼Œlessçš„æ”¯æŒå¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œè·Ÿåˆ«è¯´vueï¼Œreactè¿™æ ·çš„æ¡†æ¶äº†ï¼Œè¿™å°±åƒæŠ—æ—¥æˆ˜äº‰çš„æ—¶å€™ï¼Œå°æ—¥æœ¬å¸å›½æ¥æˆ‘ä»¬å¤§ä¸­å›½éœ€è¦æ‰¾ä¸€ä¸ªç¿»è¯‘å®˜æ¥è´Ÿè´£ç¿»è¯‘ä¸€æ ·ï¼Œè¿™äº›æ–‡ä»¶ä¹Ÿéœ€è¦ä¸€ä¸ªç¿»è¯‘å®˜ï¼Œæ¥å°†ä»–ä»¬ç¿»è¯‘æˆæµè§ˆå™¨èƒ½çœ‹å¾—æ‡‚çš„ä»£ç ï¼Œwebpackå°±æä¾›äº†è¿™æ ·çš„ç¿»è¯‘æœåŠ¡ã€‚</li>
<li>å‹ç¼©æ‰“åŒ…æœåŠ¡ã€‚è¿™ä¸ªæœåŠ¡é¡¾åæ€ä¹‰ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æ‰“åŒ…äº†ï¼Œæ‰“åŒ…çš„åŒæ—¶å®ƒè¿˜å¯ä»¥æœ‰æ•ˆçš„å‹ç¼©æ–‡ä»¶ã€‚</li>
</ul>
<h1 id="è¿™äº›æœåŠ¡å…·ä½“æ˜¯åœ¨æ„å»ºä¸­çš„å“ªä¸ªç¯èŠ‚è¢«å¤„ç†ï¼Ÿ"><a href="#è¿™äº›æœåŠ¡å…·ä½“æ˜¯åœ¨æ„å»ºä¸­çš„å“ªä¸ªç¯èŠ‚è¢«å¤„ç†ï¼Ÿ" class="headerlink" title="è¿™äº›æœåŠ¡å…·ä½“æ˜¯åœ¨æ„å»ºä¸­çš„å“ªä¸ªç¯èŠ‚è¢«å¤„ç†ï¼Ÿ"></a>è¿™äº›æœåŠ¡å…·ä½“æ˜¯åœ¨æ„å»ºä¸­çš„å“ªä¸ªç¯èŠ‚è¢«å¤„ç†ï¼Ÿ</h1><ul>
<li>å¦‚æœä¸è¾“å…¥ç›¸å…³çš„éœ€æ±‚ï¼Œæ‰¾entryï¼ˆæ¯”å¦‚å¤šé¡µé¢å°±æœ‰å¤šä¸ªå…¥å£ï¼‰</li>
<li>å¦‚æœä¸è¾“å‡ºç›¸å…³çš„éœ€æ±‚ï¼Œæ‰¾outputï¼ˆæ¯”å¦‚ä½ éœ€è¦å®šä¹‰è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„ã€åå­—ç­‰ç­‰ï¼‰</li>
<li>å¦‚æœä¸æ¨¡å—å¯»å€ç›¸å…³çš„éœ€æ±‚ï¼Œæ‰¾resolveï¼ˆæ¯”å¦‚å®šä¹‰åˆ«åaliasï¼‰</li>
<li>å¦‚æœä¸è½¬è¯‘ç›¸å…³çš„éœ€æ±‚ï¼Œæ‰¾loaderï¼ˆæ¯”å¦‚å¤„ç†sasså¤„ç†es678Nï¼‰</li>
<li>å¦‚æœä¸æ„å»ºæµç¨‹ç›¸å…³çš„éœ€æ±‚ï¼Œæ‰¾pluginï¼ˆæ¯”å¦‚æˆ‘éœ€è¦åœ¨æ‰“åŒ…å®Œæˆåï¼Œå°†æ‰“åŒ…å¥½çš„æ–‡ä»¶å¤åˆ¶åˆ°æŸä¸ªç›®å½•ï¼Œç„¶åæäº¤åˆ°gitä¸Šï¼‰</li>
</ul>
<p>ç”±æ­¤çœ‹æ¥ï¼Œæˆ‘ä»¬çš„webpacké…ç½®å¯ä»¥æŒ‰éœ€é…ç½®ï¼Œå°±æ˜¯ç”¨åˆ°ä»€ä¹ˆé…ç½®ä»€ä¹ˆã€‚</p>
<h1 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h1><h2 id="webpack-å®‰è£…"><a href="#webpack-å®‰è£…" class="headerlink" title="webpack å®‰è£…"></a>webpack å®‰è£…</h2><ul>
<li>yarn add webpcak webpack-cli //å®‰è£… webpack4.X è¿˜éœ€è¦ä¸€ä¸ªéœ€è¦ webpack-cli</li>
<li>webpack.config.js</li>
<li>npx webpack å±€éƒ¨æ‰§è¡Œ webpackï¼Œè§£å†³äº†å¤šç‰ˆæœ¬ webpack å…±å­˜</li>
</ul>
<h2 id="webpack-config-js"><a href="#webpack-config-js" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h2><h4 id="æ–‡ä»¶è¾“å‡ºé…ç½®"><a href="#æ–‡ä»¶è¾“å‡ºé…ç½®" class="headerlink" title="æ–‡ä»¶è¾“å‡ºé…ç½®"></a>æ–‡ä»¶è¾“å‡ºé…ç½®</h4><pre><code>npx webpack --config webpack.config.js //å¯ä»¥æ›´æ¢é»˜è®¤é…ç½®æ–‡ä»¶
</code></pre><pre><code>const path =require(&#39;path&#39;); //å¼•å…¥pathæ¨¡å—
path.resolve(__dirname,&#39;dist&#39;); //__dirnameæ ¹ç›®å½•ï¼Œé…ç½®ç»å¯¹è·¯å¾„ è¾“å‡ºæ–‡ä»¶ç›®å½•
</code></pre><pre><code>mode: &#39;development&#39;,//è®¾ç½®ç¯å¢ƒ&#39;production&#39;/&#39;development&#39;
devtool: &#39;source-map&#39;, // æºç æ˜ å°„ç›´æ¥æ˜¾ç¤ºæºç é”™è¯¯ä½ç½®
// build=&gt; &#39;source-map&#39;æ‰“åŒ…é€Ÿåº¦-- ç”Ÿæˆapp.js.mapæ˜ å°„æ–‡ä»¶ &#39;inline-source-map&#39; ä»¥dataurlçš„æ–¹å¼ç›´æ¥å†™åœ¨app.js
</code></pre><pre><code>&quot;scripts&quot;: {
    &quot;build&quot;: &quot;webpack&quot; //ä¼˜å…ˆæ‰§è¡Œå·¥ç¨‹ä¸‹webpackç‰ˆæœ¬ï¼Œç±»ä¼¼npx
  },
</code></pre><h4 id="æ¨¡å—é…ç½®"><a href="#æ¨¡å—é…ç½®" class="headerlink" title="æ¨¡å—é…ç½®"></a>æ¨¡å—é…ç½®</h4><pre><code>module:{
  rules:[
    {},{},{} //å¤„ç†ä¸åŒç±»å‹æ–‡ä»¶
  ]
}
</code></pre><h4 id="æ ¸å¿ƒæ–‡ä»¶é…ç½®"><a href="#æ ¸å¿ƒæ–‡ä»¶é…ç½®" class="headerlink" title="æ ¸å¿ƒæ–‡ä»¶é…ç½®"></a>æ ¸å¿ƒæ–‡ä»¶é…ç½®</h4><ol>
<li>å¤„ç†å›¾ç‰‡æˆ–å­—ä½“</li>
</ol>
<ul>
<li>å®‰è£… file-loader<pre><code>npm install --save-dev file-loader
</code></pre></li>
<li>é…ç½®<pre><code>module: {
    rules: [
      {
        test: /\.(eot|ttf|svg)$/,
        use: [
          {
            loader: &#39;file-loader&#39;,
            options: {
              name: &#39;static/[name].[ext]&#39;,// è‡ªå®šä¹‰æ–‡ä»¶name
            }
          }
        ]
      }
    ]
  }
</code></pre></li>
<li>å®‰è£… url-loader<pre><code>npm install url-loader --save-dev
</code></pre></li>
<li>é…ç½®(é»˜è®¤è½¬æ¢æˆ base64 å½¢å¼æ‰“åŒ…åˆ° js ä¸­)<pre><code>rules: [
  {
    test: /\.(png|jpg|gif)$/i,
    use: [
      {
        loader: &#39;url-loader&#39;,
        options: {
          limit: 8192 //è®¾ç½®å¤§å°(b)ï¼Œè¶…å‡ºåˆ™æ‰“åŒ…æˆå›¾ç‰‡æ–‡ä»¶ï¼Œæ²¡è¶…è¿‡å°±è½¬æ¢æˆbase64å­—ç¬¦ä¸²åŠ è½½åˆ°jsä¸­
        }
      }
    ]
  }
]
</code></pre></li>
</ul>
<ol start="2">
<li>å¤„ç† vue æ–‡ä»¶</li>
</ol>
<ul>
<li>å®‰è£…â€“å°† vue-loader å’Œ vue-template-compiler ä¸€èµ·å®‰è£…<pre><code>npm install -D vue-loader vue-template-compiler
</code></pre></li>
<li>é…ç½®<pre><code>module: {
  rules: [
    {
      test: /\.vue$/,
      use: [&#39;vue-loader&#39;]
    }
  ]
},
plugins: [
  // è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼
  new VueLoaderPlugin()
]
</code></pre></li>
</ul>
<ol start="3">
<li>å¤„ç† css æ–‡ä»¶</li>
</ol>
<ul>
<li>å®‰è£…<pre><code>yarn add style-loader css-loader -D
</code></pre></li>
<li>é…ç½®<pre><code>{
  test: /\.css$/,
  use: [
    {
    loader: &#39;css-loader&#39;,
    options: {
      modules: true, // å¼€å¯ css-module
    }
  ]
</code></pre></li>
</ul>
<ol start="4">
<li>å¤„ç† less æ–‡ä»¶</li>
</ol>
<ul>
<li>å®‰è£…<pre><code>yarn add less-loader less -D
</code></pre></li>
<li>é…ç½®<pre><code>{
  test: /\.less$/,
  use: [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;less-loader&#39;] // loaderæ‰§è¡Œé¡ºåºæ˜¯ä»ä¸‹åˆ°ä¸Šï¼Œä»å·¦åˆ°å³
}
</code></pre></li>
</ul>
<ol start="5">
<li>å¤„ç† sass æ–‡ä»¶</li>
</ol>
<ul>
<li>å®‰è£…<pre><code>yarn add sass-loader node-sass -D
</code></pre></li>
<li>é…ç½®<pre><code>{
  test: /\.scss$/,
  use: [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;sass-loader&#39;] // loaderæ‰§è¡Œé¡ºåºæ˜¯ä»ä¸‹åˆ°ä¸Šï¼Œä»å·¦åˆ°å³
},
</code></pre></li>
</ul>
<ol start="6">
<li>æŠ½ç¦» css</li>
</ol>
<pre><code>const ExtractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;);
{//é…ç½®css
      test: /\.css$/,
      use: ExtractTextPlugin.extract({
              fallback: &quot;style-loader&quot;,
              use: &quot;css-loader&quot;
      })
    },
//å¤„ç†cssæ–‡ä»¶
new ExtractTextPlugin(&quot;css/[name].css&quot;),
</code></pre><ol start="7">
<li>ç¼–è¯‘ es6<br>babel-loader @babel/core è¿˜è¦@babel/preset-env</li>
</ol>
<pre><code>{
      test: /\.m?js$/,
      exclude: /(node_modules|bower_components)/,
      use: {
        loader: &quot;babel-loader&quot;,
        options: {
          presets: [&quot;@babel/preset-env&quot;]
        }
      }
    },

    import &quot;@babel/polyfill&quot;; // æ‰“åŒ…å˜å¤§ï¼Œ=ã€‹å˜é‡å®ç°

    presets: [[&quot;@babel/preset-env&quot;, {
              &quot;useBuiltIns&quot;: &quot;usage&quot;
            }]] // åªè¡¥å……å½“å‰ä½¿ç”¨
</code></pre><ol start="8">
<li>æ‰“åŒ…react   @babel/preset-react</li>
</ol>
<pre><code>presets: [&quot;@babel/preset-env&quot;, &quot;@babel/preset-react&quot;]
</code></pre><h4 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h4><ol>
<li>HtmlWebpackPlugin</li>
</ol>
<ul>
<li>yarn add html-webpack-plugin</li>
<li>é…ç½®</li>
</ul>
<pre><code>const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);
const path = require(&#39;path&#39;);

module.exports = {
  entry: &#39;index.js&#39;,
  output: {
    path: path.resolve(__dirname, &#39;./dist&#39;),
    filename: &#39;index_bundle.js&#39;
  },
  plugins: [new HtmlWebpackPlugin()]
};
</code></pre><ol start="2">
<li>CleanWebpackPlugin</li>
</ol>
<ul>
<li>yarn add clean-webpack-plugin</li>
<li>é…ç½®</li>
</ul>
<pre><code>new CleanWebpackPlugin([&#39;dist&#39;], { //ç¬¬ä¸€ä¸ªæ˜¯å¡«å†™è¦åˆ é™¤çš„è·¯å¾„ï¼Œæ ¼å¼æ˜¯ä¸ªæ•°ç»„ //ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯¹è±¡ç±»å‹çš„é…ç½®
    root: path.resolve(__dirname, &#39;..&#39;), // rootï¼šç»å¯¹è·¯å¾„ï¼Œå°±æ˜¯è¦æ ¹æ®è¿™ä¸ªrootå»æ‰¾è¦åˆ é™¤çš„æ–‡ä»¶å¤¹
    dry: false // å¯ç”¨åˆ é™¤æ–‡ä»¶ //ä¸ºfalseæ˜¯åˆ é™¤æ–‡ä»¶å¤¹çš„ï¼Œä¸ºtrueæ˜¯ä¸åˆ é™¤çš„ï¼Œé»˜è®¤å€¼æ˜¯false
  }),
</code></pre><ol start="3">
<li>HtmlWebpackPlugin</li>
</ol>
<pre><code>const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);
new HtmlWebpackPlugin({
      template: &quot;./src/app.html&quot;,
      filename: &quot;index.html&quot;,
      title: &quot;webpack&quot;,
      inject: true, // true || &#39;head&#39; || &#39;body&#39; || falseå°†æ‰€æœ‰èµ„äº§æ³¨å…¥ç»™å®štemplateæˆ–templateContentã€‚ä¼ é€’trueæˆ–&#39;body&#39;æ‰€æœ‰javascriptèµ„æºå°†è¢«æ”¾ç½®åœ¨bodyå…ƒç´ çš„åº•éƒ¨ã€‚&#39;head&#39;å°†è„šæœ¬æ”¾åœ¨headå…ƒç´ ä¸­
      hash: true,
      chunks: [&quot;commons&quot;, name], // å…è®¸æ‚¨ä»…æ·»åŠ ä¸€äº›å—ï¼ˆä¾‹å¦‚ï¼Œä»…æ·»åŠ å•å…ƒæµ‹è¯•å—ï¼‰
      // favicon: &quot;./favicon.ico&quot;
    }),
</code></pre><h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h3><ol>
<li><p>webpack â€“watch</p>
</li>
<li><p>webpack-dev-server</p>
</li>
</ol>
<pre><code>devServer: {
  contentBase: &#39;./dist&#39;,
  port: 8008,
  open: true,
  proxy: {
      &quot;/weatherApi&quot;: {
        target: &quot;https://www.apiopen.top&quot;,
        changeOrigin: true
      }
    },
  hot: true, // HMRçƒ­æ›´æ–°
  hotOnly: true,

  if (module.hot) {
    module.hot.accept(&#39;&#39;, function(){

    })
  }
}
</code></pre><h3 id="ä»£ç å‹ç¼©"><a href="#ä»£ç å‹ç¼©" class="headerlink" title="ä»£ç å‹ç¼©"></a>ä»£ç å‹ç¼©</h3><pre><code>  optimization: {
    minimize: true, // å‹ç¼©
    usedExport: true, // åªæ‰“åŒ…export Tree shaking
  },
</code></pre><h3 id="configåˆå¹¶"><a href="#configåˆå¹¶" class="headerlink" title="configåˆå¹¶"></a>configåˆå¹¶</h3><pre><code>const merge=require(&#39;webpack-merge&#39;);
const commonConfig={}
const devConfig={}
module.exports= merge(commonConfig, devConfig);
</code></pre><h3 id="é…ç½®å¼•ç”¨è·¯å¾„"><a href="#é…ç½®å¼•ç”¨è·¯å¾„" class="headerlink" title="é…ç½®å¼•ç”¨è·¯å¾„"></a>é…ç½®å¼•ç”¨è·¯å¾„</h3><pre><code>resolve:{
      alias:{
          style: path.resolve(__dirname, &#39;./src/static/style&#39;),
      }
  },
</code></pre><script type="text/javascript" src="/js/src/bai.js"></script>]]></content>
      <categories>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>webpack</tag>
      </tags>
  </entry>
</search>
